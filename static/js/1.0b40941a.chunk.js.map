{"version":3,"sources":["components/section-title/SectionTitle.tsx","components/section-title/index.ts","components/section-layout/SectionLayout.tsx","components/section-layout/index.ts","components/centered-section-item/CenteredSectionItem.tsx","components/list/EmptyList.tsx","components/list/index.ts","../../task-editor/dist/index.js","containers/tasks/TasksList.tsx","containers/tasks/CreateTask.tsx","components/modal/SimpleModal.tsx","components/view-task/SendMessageForm.tsx","exceptions/NoStagesException.ts","containers/tasks/ViewTask.tsx","containers/tasks/TaskHistory.tsx","components/task-report/SendReportForm.tsx","components/task-report/ReportHeader.tsx","components/task-report/ReportStage.tsx","components/vertical-stepper/VerticalStepper.tsx","containers/tasks/TaskReport.tsx","containers/tasks/index.ts"],"names":["SectionTitle","title","children","Grid","item","css","height","boxShadow","Paper","square","display","alignItems","container","theme","paddingLeft","spacing","paddingRight","xs","Typography","variant","component","displayName","SectionLayout","direction","width","minHeight","CenteredSectionItem","flexDirection","justifyContent","EmptyList","button","justify","alignContent","marginBottom","align","color","colors","black","fontWeight","fontSize","xLarge","secondary","larger","e","t","n","i","r","s","o","a","l","u","window","module","exports","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","Array","random","rng","this","__assign","assign","arguments","length","apply","__read","iterator","next","done","push","error","return","__spread","concat","__importDefault","__importStar","f","C","g","x","h","TaskEditor","templates","task","onTaskChange","j","onAddAsset","M","onDeleteAsset","L","onAddComment","v","onDeleteComment","H","useState","y","V","Z","_","b","k","F","S","T","Map","z","w","P","O","R","G","I","D","E","head","A","id","toString","W","status","ETaskStatus","IN_PROGRESS","COMPLETED","B","useRef","getEditorService","EEditorType","TASK","N","useCallback","eq","q","useEffect","current","updateToolbarTopPosition","editable","__uuid","K","cloneDeep","map","find","set","isEqual","U","X","onPuzzleFocus","Y","filter","Boolean","Q","Number","target","some","findIndex","J","$","ee","virtual","te","stages","finished","ne","splice","ie","re","last","se","oe","ae","le","label","icon","jsx","QuestionIcon","action","CommentsIcon","idAssignment","idUser","text","createdAt","Date","toISOString","updatedAt","TrashIcon","gray","Fragment","EditorToolbar","top","items","CreateTask","service","documents","focusedPuzzleId","templateSnapshots","onTemplatesChange","onTaskTitleChange","onTaskTitleBlur","ViewTask","pendingComments","onEditableChange","onAddStage","onDeleteStage","onPendingCommentDelete","onPendingCommentAccept","onCommentDelete","crypto","getRandomValues","msCrypto","Uint8Array","Math","substr","join","SelectableBlockWrapper","padding","zIndex","onFocus","onMouseDown","focused","large","TaskFieldContainer","InputField","placeholder","onChange","onBlur","fullWidth","DateField","SelectField","key","document","MenuItem","ButtonLikeText","Link","to","marginLeft","marginTop","TemplateRenderer","template","answers","SectionRenderer","index","section","__makeTemplateObject","raw","position","transform","right","onClick","reduce","EPuzzleType","GROUP","idPuzzle","PuzzleRenderer","answer","puzzle","background","lightGray","left","borderRadius","border","primary","white","CheckIcon","medium","getPuzzleFactory","CHECKBOX_ANSWER","CheckboxAnswerFactory","RADIO_ANSWER","RadioAnswerFactory","DROPDOWN_ANSWER","DropdownAnswerFactory","CheckboxAnswer","Checkbox","disabled","simple","RadioAnswer","Radio","DropdownAnswer","marginRight","violet","ON_CHECK","darkYellow","green","DRAFT","EXPIRED","darkRed","first","files","completed","deadline","ue","ce","notifyBefore","de","fe","every","pe","Ce","Menu","keepMounted","open","anchorEl","onClose","Dialog","classes","paper","minWidth","ChangeAssigneeIllustration","paddingTop","Button","scheme","DraftView","onBlurStage","onChangeStageTitle","onChangeStageDeadline","margin","InfoField","onEditableClick","TaskStepper","stageDeadlineMap","stageTitleMap","AddIcon","currentTarget","normal","radius","objectFit","maxHeight","alt","originalName","src","filename","cursor","Close","ref","accept","type","hidden","Fab","click","userSelect","sNormal","comments","TaskDocument","onTemplateChange","SvgIcon","viewBox","stroke","strokeWidth","fill","fillRule","clipRule","mask","cx","cy","rx","omit","smaller","textTransform","flatMap","FormControl","FormControlLabel","control","checked","Divider","Comment","comment","PendingComment","onCommentAccept","getFriendlyDate","IconButton","input","content","__index","useMemo","StepperWrapper","onTitleChange","onTitleBlur","onStepDelete","steps","tabs","replace","columns","sortable","TasksList","props","tab","context","useContext","AppContext","dialogOpen","setDialogOpen","tasks","setTasks","selectedTasks","setSelectedTasks","searchQuery","setSearchQuery","total","setTotal","clearSelectedTasks","clear","normalizeTask","selected","updateTasksList","sort","sortBy","getTasks","courier","getTaskStatusByTab","toUpperCase","then","response","catch","console","redirect","setRedirect","onRowSelectToggleCallback","row","isObject","has","delete","taskIndex","setTaskToOnCheck","updateTask","onBulkRejectClickCallback","tasksToUpdate","values","Promise","all","finally","onDialogClose","setTaskToInProgress","onBulkCompleteClickCallback","includes","onSelectToggleCallback","nextTasks","forEach","updateTaskListDebounced","debounce","onSearchQueryChangeCallback","event","onRequestSortCallback","empty","onSuccess","noThrow","transition","div","selectable","data","onRowClick","onRowSelectToggle","onSelectToggle","onRequestSort","setTemplates","setTask","setError","message","snackbar","setSnackbar","getTemplates","getTemplate","responses","buffer","createTask","taskId","addTemplateAssignment","toNumber","maxWidth","maxTemplateWidth","reason","setTimeout","SimpleModal","Modal","backgroundColor","xxLarge","small","SendMessageForm","onSubmit","setTitle","setMessage","onSubmitCallback","preventDefault","autoFocus","required","multiline","NoStagesException","Error","menuAnchorElement","setMenuAnchorElement","messageModalOpen","setMessageModalOpen","trigger","isValidTask","initialStages","isTaskEditable","setTaskState","fetchFullTemplate","setTemplateState","nextTask","array","merge","updateTaskState","getTaskExtended","fullTemplates","onMenuClose","addTaskStages","findIfStageExists","stage","initialStage","filterEmptyStages","step","diff","splitted","split","date","setDate","setMonth","nth","setFullYear","addStages","onTaskSaveCallback","prevStatus","callUpdateTemplateAssignment","updateTemplateAssignment","transformedTemplateAssignments","assignment","getTaskPayload","setSnackbarState","setSnackbarError","onAddTaskDocument","addTaskDocument","onDeleteTaskDocument","documentId","deleteTaskDocument","addComment","commentId","deleteComment","sendPushToken","body","MoreVert","TaskHistory","setStages","focusedBlockId","setFocusedBlockId","getStagesWithFullHistory","onSelectableBlockFocus","light","textAlign","history","visibility","description","SendReportForm","email","setEmail","reportStatusTranslations","EReportStatuses","ReportHeader","headers","report","field","fieldKey","md","ReportStage","transformedTemplateData","templateIndex","version","hover","pagination","VerticalStepper","TaskReport","reportModalOpen","setReportModalOpen","setReport","getTaskReport","friendlyIndex"],"mappings":"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","file":"static/js/1.0b40941a.chunk.js","sourcesContent":["/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\n\ninterface ISectionTitleProps {\n    title: string;\n}\n\nexport const SectionTitle: React.FC<ISectionTitleProps> = ({ title, children }) => {\n    return (\n        <Grid\n            item\n            css={{\n                height: \"var(--section-title-height)\",\n                boxShadow: \"0 6px 20px rgba(220, 227, 235, 0.3)\",\n            }}\n        >\n            <Paper\n                square={true}\n                css={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    boxShadow: \"none !important\",\n                }}\n            >\n                <Grid\n                    container\n                    css={theme => ({\n                        paddingLeft: theme.spacing(4),\n                        paddingRight: theme.spacing(4),\n                    })}\n                >\n                    <Grid item xs>\n                        <Typography variant=\"h4\" component=\"div\">\n                            <span>{title}</span>\n                        </Typography>\n                    </Grid>\n                    {children}\n                </Grid>\n            </Paper>\n        </Grid>\n    );\n};\n\nSectionTitle.displayName = \"SectionTitle\";\n","export * from \"./SectionTitle\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const SectionLayout: React.FC = ({ children }) => {\n    return (\n        <Grid\n            container\n            direction=\"column\"\n            css={{\n                width: \"100%\",\n                minHeight: \"100vh\",\n            }}\n        >\n            {children}\n        </Grid>\n    );\n};\n\nSectionLayout.displayName = \"SectionLayout\";\n","export * from \"./SectionLayout\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const CenteredSectionItem: React.FC = ({ children }) => {\n    return (\n        <Grid\n            item\n            xs\n            css={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n            }}\n        >\n            {children}\n        </Grid>\n    );\n};\n\nCenteredSectionItem.displayName = \"CenteredSectionItem\";\n","/** @jsx jsx */\n\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { jsx } from \"@emotion/core\";\nimport { CenteredSectionItem } from \"components/centered-section-item\";\nimport * as React from \"react\";\n\ninterface IEmptyListProps {\n    title: string;\n    button?: React.ReactNode;\n}\n\nexport const EmptyList: React.FC<IEmptyListProps> = ({ title, button, children }) => {\n    return (\n        <CenteredSectionItem>\n            <Grid container justify=\"center\" alignContent=\"center\" direction=\"column\">\n                <Grid item css={theme => ({ marginBottom: theme.spacing(3) })}>\n                    <Typography\n                        component=\"div\"\n                        align=\"center\"\n                        css={theme => ({\n                            color: theme.colors.black,\n                            fontWeight: 500,\n                            fontSize: theme.fontSize.xLarge,\n                        })}\n                    >\n                        <span>{title}</span>\n                    </Typography>\n                </Grid>\n                <Grid item css={theme => ({ marginBottom: theme.spacing(3) })}>\n                    <Typography\n                        component=\"div\"\n                        align=\"center\"\n                        css={theme => ({\n                            color: theme.colors.secondary,\n                            fontSize: theme.colors.larger,\n                        })}\n                    >\n                        {children}\n                    </Typography>\n                </Grid>\n                <Grid item>\n                    <Grid container justify=\"center\" alignContent=\"center\">\n                        <Grid item>{button}</Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </CenteredSectionItem>\n    );\n};\n\nEmptyList.displayName = \"EmptyList\";\n","export * from \"./EmptyList\";\n","!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"@emotion/core\"), require(\"@material-ui/core\"), require(\"lodash\"), require(\"react\"), require(\"@magnit/components\"), require(\"@magnit/entities\"), require(\"@material-ui/icons\"), require(\"@magnit/icons\"), require(\"@magnit/services\"), require(\"@reach/router\")) : \"function\" == typeof define && define.amd ? define([\"@emotion/core\", \"@material-ui/core\", \"lodash\", \"react\", \"@magnit/components\", \"@magnit/entities\", \"@material-ui/icons\", \"@magnit/icons\", \"@magnit/services\", \"@reach/router\"], t) : \"object\" == typeof exports ? exports.TaskEditor = t(require(\"@emotion/core\"), require(\"@material-ui/core\"), require(\"lodash\"), require(\"react\"), require(\"@magnit/components\"), require(\"@magnit/entities\"), require(\"@material-ui/icons\"), require(\"@magnit/icons\"), require(\"@magnit/services\"), require(\"@reach/router\")) : e.TaskEditor = t(e[\"@emotion/core\"], e[\"@material-ui/core\"], e.lodash, e.react, e[\"@magnit/components\"], e[\"@magnit/entities\"], e[\"@material-ui/icons\"], e[\"@magnit/icons\"], e[\"@magnit/services\"], e[\"@reach/router\"]);\n}(window, function (e, t, n, i, r, s, o, a, l, u) {\n  return function (e) {\n    var t = {};\n\n    function n(i) {\n      if (t[i]) return t[i].exports;\n      var r = t[i] = {\n        i: i,\n        l: !1,\n        exports: {}\n      };\n      return e[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, i) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: i\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var i = Object.create(null);\n      if (n.r(i), Object.defineProperty(i, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        n.d(i, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return i;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 12);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, n) {\n    e.exports = t;\n  }, function (e, t) {\n    e.exports = n;\n  }, function (e, t) {\n    e.exports = i;\n  }, function (e, t) {\n    e.exports = r;\n  }, function (e, t) {\n    e.exports = s;\n  }, function (e, t) {\n    e.exports = o;\n  }, function (e, t) {\n    e.exports = a;\n  }, function (e, t) {\n    e.exports = l;\n  }, function (e, t, n) {\n    var i = n(14),\n        r = n(15);\n\n    e.exports = function (e, t, n) {\n      var s = t && n || 0;\n      \"string\" == typeof e && (t = \"binary\" === e ? new Array(16) : null, e = null);\n      var o = (e = e || {}).random || (e.rng || i)();\n      if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, t) for (var a = 0; a < 16; ++a) {\n        t[s + a] = o[a];\n      }\n      return t || r(o);\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(19));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(34));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(13));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var i,\n          r,\n          s = n.call(e),\n          o = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(i = s.next()).done;) {\n          o.push(i.value);\n        }\n      } catch (e) {\n        r = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (n = s.return) && n.call(s);\n        } finally {\n          if (r) throw r.error;\n        }\n      }\n\n      return o;\n    },\n        s = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(r(arguments[t]));\n      }\n\n      return e;\n    },\n        o = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        a = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var l = n(0),\n        u = n(4),\n        c = n(5),\n        d = n(7),\n        f = n(8),\n        p = o(n(2)),\n        C = a(n(3)),\n        m = n(3),\n        g = o(n(9)),\n        x = n(16),\n        h = n(35);\n    t.TaskEditor = function (e) {\n      var t = e.templates,\n          n = e.task,\n          o = e.variant,\n          a = e.onTaskChange,\n          j = e.onAddAsset,\n          M = e.onDeleteAsset,\n          L = e.onAddComment,\n          v = e.onDeleteComment,\n          H = r(m.useState(\"\"), 2),\n          y = H[0],\n          V = H[1],\n          Z = r(m.useState([]), 2),\n          _ = Z[0],\n          b = Z[1],\n          k = r(m.useState(0), 2),\n          F = k[0],\n          S = k[1],\n          T = r(m.useState(new Map()), 2),\n          z = T[0],\n          w = T[1],\n          P = r(m.useState([]), 2),\n          O = P[0],\n          R = P[1],\n          G = r(m.useState([]), 2),\n          I = G[0],\n          D = G[1],\n          E = p.default.head(O),\n          A = E === n.id.toString(),\n          W = n.status !== c.ETaskStatus.IN_PROGRESS && n.status !== c.ETaskStatus.COMPLETED,\n          B = m.useRef(f.getEditorService(f.EEditorType.TASK, [[O, R], [F, S]])),\n          N = m.useCallback(function (e) {\n        return p.default.eq(o, \"view\");\n      }, [o]),\n          q = m.useCallback(function (e) {\n        return p.default.eq(o, \"create\");\n      }, [o]);\n      m.useEffect(function () {\n        B.current.updateToolbarTopPosition();\n      }, [O]), m.useEffect(function () {\n        !q(n) || n.templates.length || _.length || b([{\n          id: -1,\n          title: \"\",\n          editable: !1,\n          __uuid: g.default()\n        }]);\n      }, [o, n, q, _.length]);\n      var K = m.useRef(p.default.cloneDeep(_));\n      m.useEffect(function () {\n        if (N(n)) {\n          var e = (n.templates || []).map(function (e) {\n            var t = _.find(function (t) {\n              return e.id === t.id;\n            });\n\n            return z.set(e.id.toString(), e), {\n              id: p.default.get(e, \"id\"),\n              title: p.default.get(e, \"title\"),\n              editable: p.default.get(e, \"editable\", !1),\n              __uuid: t && t.__uuid || g.default()\n            };\n          });\n          p.default.isEqual(K.current, e) || (K.current = p.default.cloneDeep(e), w(new Map(z)), b(s(e)));\n        }\n      }, [t, n.templates, N, q, n, _, z]);\n      var U = m.useRef(0),\n          X = m.useRef(!1);\n      m.useEffect(function () {\n        U.current > 50 || (X.current || (U.current++, B.current.onPuzzleFocus(n.id.toString(), !0)), (0 !== n.id || q(n)) && (X.current = !0));\n      }, [n, O, q]);\n      var Y = m.useCallback(function (e) {\n        if (a) {\n          var r = e.filter(function (e) {\n            return -1 !== e.id;\n          }).map(function (e) {\n            if (N(n)) {\n              var r = t.find(function (t) {\n                return t.id === e.id;\n              });\n              return i({}, r, {\n                editable: !0\n              });\n            }\n\n            return e.id;\n          }).filter(Boolean);\n          a(i({}, n, {\n            templates: r\n          }));\n        }\n      }, [N, a, n, t]),\n          Q = m.useCallback(function (e, n) {\n        var i = Number(n.target.value);\n\n        if (_.some(function (t) {\n          return t.__uuid === e;\n        })) {\n          var r = t.findIndex(function (e) {\n            return e.id === i;\n          }),\n              o = _.findIndex(function (t) {\n            return t.__uuid === e;\n          }),\n              a = t[r].id;\n\n          _[o].id = a, _[o].title = t[r].title, b(s(_)), z.set(a.toString(), t[r]), w(new Map(z)), Y(_);\n        }\n      }, [_, z, t, Y]),\n          J = m.useCallback(function (e) {\n        N(n) && a && a(i({}, n, {\n          templates: n.templates.map(function (t) {\n            var n = e.find(function (e) {\n              return e.id === t.id;\n            });\n            return n ? i({}, t, {\n              editable: n.editable\n            }) : t;\n          })\n        }));\n      }, [N, a, n]),\n          $ = m.useCallback(function (e, t) {\n        if (_.some(function (t) {\n          return t.id === e;\n        })) {\n          var n = _.findIndex(function (t) {\n            return t.id === e;\n          });\n\n          _[n].editable = t, b(s(_)), J(_);\n        }\n      }, [_, J]),\n          ee = m.useCallback(function () {\n        if (!_.some(function (e) {\n          return -1 === e.id;\n        })) {\n          var e = {\n            id: -1,\n            __uuid: g.default(),\n            title: \"\",\n            editable: !0\n          };\n          N(n) && (e.virtual = !0), b(s(_, [e])), B.current.onPuzzleFocus(e.__uuid);\n        }\n      }, [_, N, n]),\n          te = m.useCallback(function (e) {\n        N(n) && (n.stages && n.stages.push(i({}, e, {\n          finished: !1\n        })), a && a(i({}, n)));\n      }, [N, a, n]),\n          ne = m.useCallback(function (e) {\n        if (N(n)) {\n          if (n.stages) {\n            var t = n.stages.findIndex(function (t) {\n              return t.id === e;\n            });\n            -1 !== t && n.stages.splice(t, 1);\n          }\n\n          a && a(i({}, n));\n        }\n      }, [N, a, n]);\n      var ie = m.useCallback(function () {\n        a && a(i({}, n, {\n          title: y\n        }));\n      }, [a, n, y]),\n          re = m.useCallback(function () {\n        if (!q(n) || 1 !== _.length) {\n          var e = _.find(function (e) {\n            return e.__uuid === E;\n          });\n\n          if (e) {\n            var t = e.id;\n\n            if (_.some(function (e) {\n              return e.id === t;\n            })) {\n              var i = _.findIndex(function (e) {\n                return e.id === t;\n              });\n\n              _.splice(i, 1), b(s(_)), Y(_);\n              var r = p.default.last(_) ? p.default.last(_).__uuid : n.id.toString();\n              B.current.onPuzzleFocus(r);\n            }\n          }\n        }\n      }, [_, E, q, n, Y]);\n      var se = m.useCallback(function (e) {\n        var t = I.findIndex(function (t) {\n          return t.id === e;\n        });\n        -1 !== t && (I.splice(t, 1), D(s(I)));\n      }, [I]),\n          oe = m.useCallback(function (e) {\n        L && (L(i({}, e)), se(e.id));\n      }, [L, se]),\n          ae = m.useCallback(function (e) {\n        v && v(e);\n      }, [v]),\n          le = s([{\n        label: \"Добавить шаблон\",\n        icon: l.jsx(d.QuestionIcon, null),\n        action: ee\n      }, {\n        label: \"Оставить комментарий\",\n        icon: l.jsx(d.CommentsIcon, null),\n        action: function action() {\n          if (!I.length) {\n            var e = _.find(function (e) {\n              return e.__uuid === E;\n            });\n\n            if (e) {\n              var t = {\n                id: (p.default.last(I) || {\n                  id: -1\n                }).id + 1,\n                idAssignment: e.id,\n                idUser: \"\",\n                text: \"\",\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n              };\n              D(s(I, [t]));\n            }\n          }\n        }\n      }], A ? [] : [{\n        label: \"Удалить шаблон\",\n        icon: l.jsx(d.TrashIcon, {\n          css: function css(e) {\n            return {\n              color: e.colors.gray\n            };\n          }\n        }),\n        action: re\n      }]);\n      return l.jsx(C.Fragment, null, W && l.jsx(u.EditorToolbar, {\n        top: F,\n        items: s(le)\n      }), q(n) && l.jsx(x.CreateTask, {\n        task: i({}, n, {\n          title: y\n        }),\n        service: B.current,\n        templates: t,\n        documents: _,\n        focusedPuzzleId: E,\n        templateSnapshots: z,\n        onTemplatesChange: Q,\n        onTaskTitleChange: function onTaskTitleChange(e) {\n          V(e);\n        },\n        onTaskTitleBlur: ie\n      }), N(n) && l.jsx(h.ViewTask, {\n        task: n,\n        pendingComments: I,\n        editable: W,\n        service: B.current,\n        templates: t,\n        documents: _,\n        focusedPuzzleId: E,\n        templateSnapshots: z,\n        onEditableChange: $,\n        onAddStage: te,\n        onDeleteStage: ne,\n        onTemplatesChange: Q,\n        onTaskChange: a,\n        onAddAsset: j,\n        onDeleteAsset: M,\n        onPendingCommentDelete: se,\n        onPendingCommentAccept: oe,\n        onCommentDelete: ae\n      }));\n    }, t.TaskEditor.displayName = \"TaskEditor\";\n  }, function (e, t) {\n    var n = \"undefined\" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || \"undefined\" != typeof msCrypto && \"function\" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (n) {\n      var i = new Uint8Array(16);\n\n      e.exports = function () {\n        return n(i), i;\n      };\n    } else {\n      var r = new Array(16);\n\n      e.exports = function () {\n        for (var e, t = 0; t < 16; t++) {\n          0 == (3 & t) && (e = 4294967296 * Math.random()), r[t] = e >>> ((3 & t) << 3) & 255;\n        }\n\n        return r;\n      };\n    }\n  }, function (e, t) {\n    for (var n = [], i = 0; i < 256; ++i) {\n      n[i] = (i + 256).toString(16).substr(1);\n    }\n\n    e.exports = function (e, t) {\n      var i = t || 0,\n          r = n;\n      return [r[e[i++]], r[e[i++]], r[e[i++]], r[e[i++]], \"-\", r[e[i++]], r[e[i++]], \"-\", r[e[i++]], r[e[i++]], \"-\", r[e[i++]], r[e[i++]], \"-\", r[e[i++]], r[e[i++]], r[e[i++]], r[e[i++]], r[e[i++]], r[e[i++]]].join(\"\");\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(17));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        r = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(4),\n        a = n(1),\n        l = n(18),\n        u = n(10),\n        c = n(11),\n        d = i(n(2)),\n        f = r(n(3)),\n        p = n(3),\n        C = i(n(9));\n    t.CreateTask = function (e) {\n      var t = e.task,\n          n = e.service,\n          i = e.documents,\n          r = e.focusedPuzzleId,\n          l = e.templates,\n          u = e.templateSnapshots,\n          g = e.onTaskTitleChange,\n          x = e.onTemplatesChange,\n          h = e.onTaskTitleBlur,\n          j = p.useCallback(function () {\n        return d.default.get(t, \"id\", C.default()).toString();\n      }, [t]),\n          M = p.useCallback(function (e) {\n        g(e.target.value);\n      }, [g]),\n          L = p.useCallback(function () {\n        h();\n      }, [h]);\n      return s.jsx(f.Fragment, null, s.jsx(o.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: r === j() ? 1300 : \"initial\"\n          };\n        },\n        onFocus: n.onPuzzleFocus.bind(n, j(), !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, j(), !1),\n        focused: r === j(),\n        id: j()\n      }, s.jsx(a.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Основная информация\")), s.jsx(c.TaskFieldContainer, {\n        label: \"Название задания\"\n      }, s.jsx(o.InputField, {\n        placeholder: \"Введите название задания\",\n        value: t.title,\n        onChange: M,\n        onBlur: L,\n        fullWidth: !0\n      })), s.jsx(c.TaskFieldContainer, {\n        label: \"Этап задания\"\n      }, s.jsx(a.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.InputField, {\n        placeholder: \"Введите название этапа\",\n        fullWidth: !0\n      })), s.jsx(a.Grid, {\n        item: !0\n      }, s.jsx(o.DateField, {\n        placeholder: \"Срок выполнения\"\n      })))), s.jsx(c.TaskFieldContainer, {\n        label: \"Местоположение\"\n      }, s.jsx(a.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Регион\",\n        fullWidth: !0\n      })), s.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Филиал\",\n        fullWidth: !0\n      })), s.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Формат\",\n        fullWidth: !0\n      })), s.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Адрес\",\n        fullWidth: !0\n      })))), s.jsx(c.TaskFieldContainer, {\n        label: \"Исполнитель\"\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 4\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Выберите исполнителя\",\n        fullWidth: !0\n      }))))), s.jsx(o.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3)\n          };\n        }\n      }, s.jsx(a.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Документы\")))), i.map(function (e) {\n        return s.jsx(m, {\n          key: e.__uuid,\n          document: e,\n          templates: l,\n          service: n,\n          templateSnapshots: u,\n          focusedPuzzleId: r,\n          onTemplatesChange: x\n        });\n      }));\n    }, t.CreateTask.displayName = \"CreateTask\";\n\n    var m = function m(e) {\n      var t = e.templates,\n          n = e.templateSnapshots,\n          i = e.document,\n          r = e.service,\n          c = e.focusedPuzzleId,\n          f = e.onTemplatesChange,\n          C = n.get(i.id.toString()),\n          m = p.useCallback(function (e) {\n        f(i.__uuid, e);\n      }, [f, i]);\n      return s.jsx(o.SelectableBlockWrapper, {\n        key: i.__uuid,\n        onFocus: r.onPuzzleFocus.bind(r, i.__uuid, !1),\n        onMouseDown: r.onPuzzleFocus.bind(r, i.__uuid, !1),\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: c === i.__uuid ? 1300 : \"initial\"\n          };\n        },\n        focused: c === i.__uuid,\n        id: i.__uuid\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 3,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(3)\n          };\n        }\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Выбрать шаблон\",\n        value: -1 === i.id ? \"\" : i.id,\n        fullWidth: !0,\n        onChange: m\n      }, t.map(function (e) {\n        return s.jsx(a.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.title);\n      }))), s.jsx(a.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, d.default.get(C, \"id\") && s.jsx(o.ButtonLikeText, {\n        component: l.Link,\n        to: \"/templates/edit/\" + d.default.get(C, \"id\"),\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(),\n            marginTop: e.spacing(2)\n          };\n        }\n      }, \"Перейти к шаблону\"), s.jsx(u.TemplateRenderer, {\n        template: C\n      }))));\n    };\n\n    m.displayName = \"TaskDocument\";\n  }, function (e, t) {\n    e.exports = u;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        r = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = (n(1), n(6), i(n(2))),\n        a = r(n(3)),\n        l = n(20);\n\n    t.TemplateRenderer = function (e) {\n      var t = e.template,\n          n = e.answers;\n      return t ? s.jsx(a.Fragment, null, o.default.get(t, \"sections\", []).map(function (e, t) {\n        return s.jsx(l.SectionRenderer, {\n          answers: n,\n          key: o.default.get(e, \"id\"),\n          index: t,\n          section: e\n        });\n      }), !1) : null;\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var i,\n          r,\n          s = n.call(e),\n          o = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(i = s.next()).done;) {\n          o.push(i.value);\n        }\n      } catch (e) {\n        r = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (n = s.return) && n.call(s);\n        } finally {\n          if (r) throw r.error;\n        }\n      }\n\n      return o;\n    },\n        s = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(r(arguments[t]));\n      }\n\n      return e;\n    },\n        o = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var a,\n        l = n(0),\n        u = n(4),\n        c = n(5),\n        d = n(1),\n        f = o(n(2)),\n        p = n(3),\n        C = n(21);\n\n    t.SectionRenderer = function (e) {\n      var t = e.index,\n          n = e.section,\n          o = e.answers,\n          m = r(p.useState(!1), 2),\n          g = m[0],\n          x = m[1];\n      return l.jsx(d.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(4)\n          };\n        }\n      }, l.jsx(d.Grid, {\n        item: !0,\n        css: l.css(a || (a = i([\"\\n                    position: relative;\\n                \"], [\"\\n                    position: relative;\\n                \"])))\n      }, l.jsx(d.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large,\n            fontWeight: 500\n          };\n        }\n      }, \"Раздел \", t + 1, \".\"), l.jsx(d.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large,\n            marginLeft: e.spacing()\n          };\n        }\n      }, f.default.get(n, \"title\")), l.jsx(u.ButtonLikeText, {\n        css: function css(e) {\n          return {\n            position: \"absolute\",\n            top: \"50%\",\n            transform: \"translateY(-50%)\",\n            right: e.spacing(4)\n          };\n        },\n        onClick: function onClick() {\n          x(!g);\n        }\n      }, g ? \"Развернуть\" : \"Свернуть\", \" раздел\")), !g && l.jsx(d.Grid, {\n        item: !0\n      }, f.default.get(n, \"puzzles\", []).reduce(function (e, t) {\n        if (f.default.get(t, \"puzzleType\") !== c.EPuzzleType.GROUP) return s(e, [t]);\n        var n = f.default.get(t, \"puzzles\", []);\n        return e.push.apply(e, s(n)), s(e);\n      }, []).map(function (e, t, n) {\n        var i = f.default.get(e, \"id\"),\n            r = t === n.length - 1,\n            s = (o || []).find(function (e) {\n          return e.idPuzzle === i;\n        });\n        return l.jsx(C.PuzzleRenderer, {\n          answer: s,\n          key: i,\n          puzzle: e,\n          last: r\n        });\n      })));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        s = n(7),\n        o = n(1),\n        a = i(n(2)),\n        l = n(22);\n\n    t.PuzzleRenderer = function (e) {\n      var t = e.puzzle,\n          n = e.last,\n          i = void 0 !== n && n,\n          u = e.answer;\n      return r.jsx(o.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3),\n            position: \"relative\"\n          };\n        }\n      }, r.jsx(o.Grid, {\n        item: !0\n      }, r.jsx(o.Grid, {\n        container: !0,\n        spacing: 2\n      }, r.jsx(o.Grid, {\n        item: !0\n      }, !i && r.jsx(\"div\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(.25),\n            height: \"100%\",\n            background: e.colors.lightGray,\n            position: \"absolute\",\n            top: e.spacing(4),\n            left: \"20.5px\",\n            zIndex: 1\n          };\n        }\n      }), r.jsx(\"div\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(3),\n            height: e.spacing(3),\n            borderRadius: \"50%\",\n            border: \"2px solid \" + e.colors.primary,\n            zIndex: 2,\n            position: \"relative\",\n            background: u ? e.colors.primary : e.colors.white,\n            color: u ? e.colors.white : \"initial\"\n          };\n        }\n      }, u && r.jsx(s.CheckIcon, null))), r.jsx(o.Grid, {\n        item: !0\n      }, r.jsx(o.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.medium,\n            color: e.colors.secondary\n          };\n        }\n      }, a.default.get(t, \"title\"))))), r.jsx(o.Grid, {\n        item: !0,\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(5)\n          };\n        }\n      }, r.jsx(o.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 1\n      }, a.default.get(t, \"puzzles\", []).filter(function (e) {\n        return !u || u.answer === a.default.get(e, \"title\") || u.answer === a.default.get(e, \"id\");\n      }).map(function (e, t) {\n        var n = a.default.get(e, \"puzzleType\");\n        return l.getPuzzleFactory(n).create({\n          index: t,\n          puzzle: e\n        });\n      }))));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(23));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        r = n(5),\n        s = n(24),\n        o = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(\"div\", {\n          key: e.index\n        });\n      }, e;\n    }();\n\n    t.getPuzzleFactory = function (e) {\n      switch (e) {\n        case r.EPuzzleType.CHECKBOX_ANSWER:\n          return new s.CheckboxAnswerFactory();\n\n        case r.EPuzzleType.RADIO_ANSWER:\n          return new s.RadioAnswerFactory();\n\n        case r.EPuzzleType.DROPDOWN_ANSWER:\n          return new s.DropdownAnswerFactory();\n\n        default:\n          return new o();\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function i(e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), i(n(25)), i(n(28)), i(n(31));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(26));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = n(0),\n        o = r(n(2)),\n        a = n(27),\n        l = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        var t = o.default.get(e.puzzle, \"id\");\n        return s.jsx(a.CheckboxAnswer, i({\n          key: t\n        }, e));\n      }, e;\n    }();\n\n    t.CheckboxAnswerFactory = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s,\n        o = n(0),\n        a = r(n(2)),\n        l = n(1),\n        u = n(4);\n\n    t.CheckboxAnswer = function (e) {\n      var t = e.puzzle,\n          n = e.index;\n      return o.jsx(l.Grid, {\n        item: !0,\n        css: o.css(s || (s = i([\"\\n                display: flex;\\n                align-items: center;\\n            \"], [\"\\n                display: flex;\\n                align-items: center;\\n            \"])))\n      }, o.jsx(l.Checkbox, {\n        disabled: !0\n      }), o.jsx(u.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: a.default.get(t, \"title\", \"Вариант \" + (n + 1))\n      }));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(29));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = n(0),\n        o = n(30),\n        a = r(n(2)),\n        l = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return s.jsx(o.RadioAnswer, i({\n          key: a.default.get(e.puzzle, \"id\")\n        }, e));\n      }, e;\n    }();\n\n    t.RadioAnswerFactory = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s,\n        o = n(0),\n        a = r(n(2)),\n        l = n(1),\n        u = n(4);\n\n    t.RadioAnswer = function (e) {\n      var t = e.puzzle,\n          n = e.index;\n      return o.jsx(l.Grid, {\n        item: !0,\n        css: o.css(s || (s = i([\"\\n                display: flex;\\n                align-items: center;\\n            \"], [\"\\n                display: flex;\\n                align-items: center;\\n            \"])))\n      }, o.jsx(l.Radio, {\n        disabled: !0\n      }), o.jsx(u.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: a.default.get(t, \"title\", \"Вариант \" + (n + 1))\n      }));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(32));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = n(0),\n        o = n(33),\n        a = r(n(2)),\n        l = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return s.jsx(o.DropdownAnswer, i({\n          key: a.default.get(e.puzzle, \"id\")\n        }, e));\n      }, e;\n    }();\n\n    t.DropdownAnswerFactory = l;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s,\n        o = n(0),\n        a = r(n(2)),\n        l = n(1),\n        u = n(4);\n\n    t.DropdownAnswer = function (e) {\n      var t = e.puzzle,\n          n = e.index;\n      return o.jsx(l.Grid, {\n        item: !0,\n        css: o.css(s || (s = i([\"\\n                display: flex;\\n                align-items: center;\\n            \"], [\"\\n                display: flex;\\n                align-items: center;\\n            \"])))\n      }, o.jsx(l.Typography, {\n        css: function css(e) {\n          return {\n            marginRight: e.spacing()\n          };\n        }\n      }, n + 1, \".\"), o.jsx(u.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: a.default.get(t, \"title\", \"Вариант \" + (n + 1))\n      }));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(1),\n        r = n(0);\n\n    t.TaskFieldContainer = function (e) {\n      var t = e.label,\n          n = e.children;\n      return r.jsx(i.Grid, {\n        container: !0,\n        direction: \"row\",\n        spacing: 2,\n        alignItems: \"flex-start\",\n        css: function css(e) {\n          return {\n            marginTop: e.spacing()\n          };\n        }\n      }, r.jsx(i.Grid, {\n        item: !0,\n        xs: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(2)\n          };\n        }\n      }, r.jsx(i.Typography, {\n        component: \"span\"\n      }, t)), r.jsx(i.Grid, {\n        item: !0,\n        xs: !0\n      }, n));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(36));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        s = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var i,\n          r,\n          s = n.call(e),\n          o = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(i = s.next()).done;) {\n          o.push(i.value);\n        }\n      } catch (e) {\n        r = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (n = s.return) && n.call(s);\n        } finally {\n          if (r) throw r.error;\n        }\n      }\n\n      return o;\n    },\n        o = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(s(arguments[t]));\n      }\n\n      return e;\n    },\n        a = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        l = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var u,\n        c = n(0),\n        d = n(4),\n        f = n(5),\n        p = n(7),\n        C = n(1),\n        m = n(6),\n        g = a(n(2)),\n        x = l(n(3)),\n        h = n(3),\n        j = a(n(9)),\n        M = n(37),\n        L = n(38),\n        v = n(39),\n        H = n(40),\n        y = n(43);\n\n    function V(e, t) {\n      var n;\n      return (n = {}, n[f.ETaskStatus.IN_PROGRESS] = e.colors.violet, n[f.ETaskStatus.ON_CHECK] = e.colors.darkYellow, n[f.ETaskStatus.COMPLETED] = e.colors.green, n[f.ETaskStatus.DRAFT] = e.colors.secondary, n[f.ETaskStatus.EXPIRED] = e.colors.darkRed, n)[t];\n    }\n\n    function Z(e) {\n      return 1 === e ? \"день\" : e > 1 && e < 5 ? \"дня\" : \"дней\";\n    }\n\n    t.ViewTask = function (e) {\n      var t = e.service,\n          n = e.task,\n          a = e.pendingComments,\n          l = e.focusedPuzzleId,\n          _ = e.templateSnapshots,\n          b = e.documents,\n          k = e.templates,\n          F = e.editable,\n          S = void 0 === F || F,\n          T = e.onAddStage,\n          z = e.onDeleteStage,\n          w = e.onEditableChange,\n          P = e.onTemplatesChange,\n          O = e.onTaskChange,\n          R = e.onAddAsset,\n          G = e.onDeleteAsset,\n          I = e.onPendingCommentDelete,\n          D = e.onPendingCommentAccept,\n          E = e.onCommentDelete,\n          A = s(h.useState(null), 2),\n          W = A[0],\n          B = A[1],\n          N = s(h.useState(!1), 2),\n          q = N[0],\n          K = N[1],\n          U = s(h.useState(new Map()), 2),\n          X = U[0],\n          Y = U[1],\n          Q = s(h.useState(new Map()), 2),\n          J = Q[0],\n          $ = Q[1],\n          ee = h.useRef(null);\n      var te = h.useCallback(function (e) {\n        var t = g.default.first(e.target.files);\n        t && R && R(t);\n      }, [R]),\n          ne = h.useCallback(function (e) {\n        G && G(e);\n      }, [G]);\n      h.useEffect(function () {\n        n.stages && T && S && 0 === n.stages.length && T({\n          id: 0,\n          editable: !0,\n          title: \"\",\n          completed: !1,\n          deadline: \"\"\n        });\n      }, [n.stages, T, S]);\n      var ie = h.useCallback(function () {\n        var e = g.default.last(n.stages);\n        e && T && T({\n          id: e.id + 1,\n          title: \"\",\n          deadline: \"\",\n          editable: !0\n        });\n      }, [n.stages, T]),\n          re = h.useCallback(function (e, t) {\n        if (n.stages && n.stages.some(function (t) {\n          return t.id === e;\n        })) {\n          var i = n.stages.findIndex(function (t) {\n            return t.id === e;\n          }),\n              r = n.stages[i];\n          X.set(r.id, t), Y(new Map(X));\n        }\n      }, [n.stages, X]),\n          se = h.useCallback(function (e, t) {\n        if (n.stages && n.stages.some(function (t) {\n          return t.id === e;\n        })) {\n          var i = n.stages.findIndex(function (t) {\n            return t.id === e;\n          }),\n              r = n.stages[i];\n          J.set(r.id, t), $(new Map(J));\n        }\n      }, [n.stages, J]),\n          oe = h.useCallback(function (e) {\n        n.stages && (n.stages.length < 2 || z && z(e));\n      }, [z, n.stages]),\n          ae = h.useCallback(function (e, t) {\n        w && w(e, t);\n      }, [w]),\n          le = h.useCallback(function () {\n        if (n.stages && O) {\n          var e = n.stages.map(function (e) {\n            return r({}, e, {\n              title: e.title || X.get(e.id) || \"\",\n              deadline: e.deadline || J.get(e.id) || \"\"\n            });\n          });\n          O(r({}, n, {\n            stages: e\n          }));\n        }\n      }, [n, O, X, J]);\n\n      function ue() {\n        B(null);\n      }\n\n      var ce = h.useCallback(function (e) {\n        ue(), O && O(r({}, n, {\n          notifyBefore: e\n        }));\n      }, [O, n]),\n          de = h.useCallback(function () {\n        return g.default.get(n, \"id\", j.default()).toString();\n      }, [n]),\n          fe = S && (n.stages || []).every(function (e) {\n        return !e.editable;\n      }),\n          pe = n.stages && n.stages.length > 0 || (!n.stages || 0 === n.stages.length) && S;\n      var Ce = h.useRef(j.default());\n      return c.jsx(x.Fragment, null, c.jsx(C.Menu, {\n        keepMounted: !0,\n        open: Boolean(W),\n        anchorEl: W,\n        onClose: ue\n      }, c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(1);\n        }\n      }, \"за 1 день\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(2);\n        }\n      }, \"за 2 дня\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(3);\n        }\n      }, \"за 3 дня\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(4);\n        }\n      }, \"за 4 дня\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(5);\n        }\n      }, \"за 5 дней\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(6);\n        }\n      }, \"за 6 дней\"), c.jsx(C.MenuItem, {\n        onClick: function onClick() {\n          ce(7);\n        }\n      }, \"за 7 дней\")), c.jsx(C.Dialog, {\n        onClose: function onClose() {\n          K(!1);\n        },\n        open: q,\n        classes: {\n          paper: \"paper\"\n        },\n        css: c.css(u || (u = i([\"\\n                    .paper {\\n                        overflow: hidden;\\n                    }\\n                \"], [\"\\n                    .paper {\\n                        overflow: hidden;\\n                    }\\n                \"])))\n      }, c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2,\n        direction: \"column\",\n        css: function css(e) {\n          return {\n            padding: e.spacing(6),\n            minWidth: e.spacing(50)\n          };\n        }\n      }, c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(C.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\"\n      }, c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(M.ChangeAssigneeIllustration, null)))), c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(C.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.medium\n          };\n        }\n      }, \"Выберите исполнителя:\")), c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(d.SelectField, {\n        fullWidth: !0,\n        placeholder: \"Выберите исполнителя\"\n      }, c.jsx(C.MenuItem, null, \"Гончар Семён Платонович\"), c.jsx(C.MenuItem, null, \"Маслов Гарри Валерьевич\"), c.jsx(C.MenuItem, null, \"Буров Юлиан Данилович\"), c.jsx(C.MenuItem, null, \"Воронов Юрий Виталиевич\"), c.jsx(C.MenuItem, null, \"Лановой Устин Иванович\"))), c.jsx(C.Grid, {\n        item: !0,\n        css: function css(e) {\n          return {\n            paddingTop: e.spacing(5) + \" !important\"\n          };\n        }\n      }, c.jsx(C.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\"\n      }, c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(d.Button, {\n        variant: \"contained\",\n        scheme: \"blue\",\n        onClick: function onClick() {\n          K(!1);\n        }\n      }, c.jsx(p.CheckIcon, null), c.jsx(C.Typography, null, \"Сохранить\"))))))), n.status === f.ETaskStatus.DRAFT && c.jsx(L.DraftView, {\n        service: t,\n        focusedPuzzleId: l,\n        task: r({}, n, {\n          id: de()\n        }),\n        onBlurStage: le,\n        onChangeStageTitle: re,\n        onChangeStageDeadline: se\n      }), n.status !== f.ETaskStatus.DRAFT && c.jsx(d.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: l === de() ? 1300 : \"initial\"\n          };\n        },\n        onFocus: t.onPuzzleFocus.bind(t, de(), !1),\n        onMouseDown: t.onPuzzleFocus.bind(t, de(), !1),\n        focused: l === de(),\n        id: de()\n      }, c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2\n      }, c.jsx(C.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(4),\n            paddingRight: e.spacing(4)\n          };\n        }\n      }, c.jsx(C.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, n.title)), c.jsx(C.Grid, {\n        item: !0\n      }, c.jsx(\"span\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(),\n            height: e.spacing(),\n            borderRadius: \"50%\",\n            display: \"inline-block\",\n            background: n.status ? V(e, n.status) : \"none\",\n            margin: \"2px 10px 2px 0\"\n          };\n        }\n      }), c.jsx(\"span\", {\n        css: function css(e) {\n          return {\n            color: n.status ? V(e, n.status) : \"inherit\"\n          };\n        }\n      }, n.status && function (e) {\n        var t;\n        return (t = {}, t[f.ETaskStatus.IN_PROGRESS] = \"В работе\", t[f.ETaskStatus.ON_CHECK] = \"На проверке\", t[f.ETaskStatus.COMPLETED] = \"Завершено\", t[f.ETaskStatus.DRAFT] = \"Черновик\", t[f.ETaskStatus.EXPIRED] = \"Просрочено\", t)[e];\n      }(n.status)))), c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2\n      }, c.jsx(C.Grid, {\n        item: !0,\n        xs: 7,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(4)\n          };\n        }\n      }, c.jsx(C.Grid, {\n        spacing: 2,\n        container: !0,\n        direction: \"row\"\n      }, c.jsx(v.InfoField, {\n        title: \"Администратор\",\n        value: \"Барановский Прохор Артёмович\"\n      }), c.jsx(v.InfoField, {\n        title: \"Исполнитель\",\n        value: \"Рукастый Иннокентий Петрович\",\n        editable: S,\n        label: \"Изменить исполнителя\",\n        onEditableClick: function onEditableClick() {\n          K(!0);\n        }\n      })), c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2,\n        direction: \"row\",\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, c.jsx(v.InfoField, {\n        title: \"Местоположение\",\n        value: \"Челябинская область, г. Челябинск, ул. Железная, д. 5\"\n      }), c.jsx(v.InfoField, {\n        title: \"Формат объекта\",\n        value: \"МК\"\n      }))), c.jsx(C.Grid, {\n        item: !0,\n        xs: 5\n      }, c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2,\n        css: {\n          height: \"100%\",\n          alignItems: pe ? \"initial\" : \"flex-end\"\n        }\n      }, c.jsx(C.Grid, {\n        item: !0,\n        xs: 12\n      }, pe && c.jsx(y.TaskStepper, {\n        task: n,\n        stageDeadlineMap: J,\n        stageTitleMap: X,\n        onChangeStageDeadline: se,\n        onChangeStageTitle: re,\n        onBlurStage: le,\n        onDeleteStage: oe\n      }), fe && c.jsx(d.Button, {\n        variant: \"outlined\",\n        scheme: \"outline\",\n        css: function css(e) {\n          return {\n            color: e.colors.primary,\n            marginLeft: e.spacing(6)\n          };\n        },\n        onClick: ie\n      }, c.jsx(p.AddIcon, null), c.jsx(C.Typography, null, \"Новый этап\"))), n.status !== f.ETaskStatus.COMPLETED && n.notifyBefore && c.jsx(C.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(6)\n          };\n        }\n      }, c.jsx(C.Typography, null, \"Уведомить исполнителя о наступлении \", c.jsx(\"br\", null), \" срока выполнения этапа\", S && c.jsx(d.ButtonLikeText, {\n        onClick: function onClick(e) {\n          B(e.currentTarget);\n        },\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }, \" за \", n.notifyBefore, \" \", Z(n.notifyBefore)), !S && c.jsx(x.Fragment, null, \" за \", n.notifyBefore, \" \", Z(n.notifyBefore)))))))), c.jsx(d.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: l === Ce.current ? 1300 : \"initial\"\n          };\n        },\n        onFocus: t.onPuzzleFocus.bind(t, Ce.current, !1),\n        onMouseDown: t.onPuzzleFocus.bind(t, Ce.current, !1),\n        focused: l === Ce.current,\n        id: Ce.current\n      }, c.jsx(C.Grid, {\n        container: !0,\n        spacing: 2,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, c.jsx(C.Grid, {\n        item: !0,\n        xs: 12\n      }, c.jsx(C.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Документы\")), (n.documents || []).map(function (e) {\n        return c.jsx(C.Grid, {\n          item: !0,\n          xs: 2,\n          key: e.id\n        }, c.jsx(C.Grid, {\n          container: !0,\n          justify: \"center\",\n          alignItems: \"center\",\n          direction: \"column\",\n          css: function css(e) {\n            return {\n              height: \"100%\",\n              border: \"1px solid \" + e.colors.lightGray,\n              borderRadius: e.radius(.5),\n              minHeight: e.spacing(20),\n              position: \"relative\"\n            };\n          }\n        }, c.jsx(\"img\", {\n          css: function css(e) {\n            return {\n              width: \"100%\",\n              objectFit: \"contain\",\n              maxHeight: e.spacing(20)\n            };\n          },\n          alt: e.originalName,\n          src: e.filename\n        }), c.jsx(\"div\", {\n          onClick: function onClick() {\n            return ne(e.id);\n          },\n          css: function css(e) {\n            return {\n              padding: e.spacing(.5),\n              borderRadius: \"50%\",\n              background: e.colors.gray,\n              color: e.colors.white,\n              position: \"absolute\",\n              top: \"-12px\",\n              right: \"-12px\",\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              cursor: \"pointer\"\n            };\n          }\n        }, c.jsx(m.Close, {\n          css: function css(e) {\n            return {\n              fontSize: e.fontSize.normal\n            };\n          }\n        }))));\n      }), S && c.jsx(C.Grid, {\n        item: !0,\n        xs: 2\n      }, c.jsx(C.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\",\n        direction: \"column\",\n        css: function css(e) {\n          return {\n            height: \"100%\",\n            border: \"1px solid \" + e.colors.lightGray,\n            borderRadius: e.radius(.5),\n            minHeight: e.spacing(20),\n            position: \"relative\"\n          };\n        }\n      }, c.jsx(\"input\", {\n        ref: ee,\n        accept: \"image/*,.pdf,.doc,.xls,.xlsx\",\n        type: \"file\",\n        hidden: !0,\n        onChange: te\n      }), c.jsx(d.Fab, {\n        css: function css(e) {\n          return {\n            width: e.spacing(4),\n            height: e.spacing(4),\n            minHeight: e.spacing(4),\n            marginBottom: e.spacing()\n          };\n        },\n        onClick: function onClick() {\n          ee.current && ee.current.click();\n        }\n      }, c.jsx(p.AddIcon, null)), c.jsx(C.Typography, {\n        css: function css(e) {\n          return {\n            userSelect: \"none\",\n            fontSize: e.fontSize.sNormal,\n            color: e.colors.secondary\n          };\n        },\n        align: \"center\"\n      }, \"Добавить файл\"))))), b.map(function (e) {\n        var i = a.filter(function (t) {\n          return t.idAssignment === e.id;\n        }),\n            r = (n.templates || []).find(function (t) {\n          return t.id === e.id;\n        }),\n            s = [];\n        return r && s.push.apply(s, o(r.comments)), c.jsx(H.TaskDocument, {\n          key: e.__uuid,\n          pendingComments: i,\n          comments: s,\n          editable: S,\n          documents: b,\n          document: e,\n          templates: k,\n          service: t,\n          templateSnapshots: _,\n          focusedPuzzleId: l,\n          onEditableChange: ae,\n          onTemplateChange: P,\n          onPendingCommentDelete: I,\n          onPendingCommentAccept: D,\n          onCommentDelete: E\n        });\n      }));\n    }, t.ViewTask.displayName = \"ViewTask\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s,\n        o = n(0),\n        a = n(1);\n    t.ChangeAssigneeIllustration = function (e) {\n      return o.jsx(a.SvgIcon, r({\n        width: 287,\n        height: 197,\n        viewBox: \"0 0 287 197\",\n        css: o.css(s || (s = i([\"\\n                fill: none;\\n                width: 287px;\\n                height: 197px;\\n            \"], [\"\\n                fill: none;\\n                width: 287px;\\n                height: 197px;\\n            \"])))\n      }, e), o.jsx(\"path\", {\n        d: \"M158.886 120H134.124V127.75V135.5L127.686 151L158.886 149.5V135.5V127.75V120Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"path\", {\n        d: \"M95.0001 159.325V191H199V161.629C199 156.794 198.77 151.755 196.702 147.384C195.691 145.247 194.013 142.713 190.853 139.444C185.159 133.555 176.077 133 167.884 133H160.71C159.78 133 158.923 133.473 158.336 134.194C156.158 136.871 151.978 140.436 146.76 140.436C141 140.436 137.005 136.903 135.081 134.231C134.555 133.5 133.739 133 132.839 133C122.096 133 109.985 133.1 102.404 140.712C102.332 140.785 102.26 140.858 102.189 140.932C99.3562 143.862 97.6396 146.908 96.5445 149.557C95.2739 152.631 95.0001 155.999 95.0001 159.325Z\",\n        fill: \"white\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M132.639 191H199.001L197.765 160.961C197.589 156.682 197.367 152.307 196.289 148.161C195.685 145.838 194.36 143.071 190.853 139.444C185.212 133.609 176.035 133.399 167.815 133.21C167.408 133.201 167.003 133.192 166.601 133.182L160.781 133.038C159.81 133.015 158.908 133.498 158.292 134.249C156.101 136.919 151.943 140.436 146.761 140.436C141 140.436 137.006 136.903 135.081 134.231C134.555 133.5 133.74 133 132.84 133C132.773 133 132.706 133 132.639 133V191Z\",\n        fill: \"#A2CFF4\"\n      }), o.jsx(\"path\", {\n        d: \"M95 159.278V191H198V164.445C198 157.74 197.242 150.879 193.864 145.087C192.609 142.935 191.148 140.94 189.5 139.5C183.559 134.309 175.41 133 167.52 133H160.442C159.542 133 158.713 133.46 158.146 134.159C155.966 136.853 151.692 140.5 146.5 140.5C140.78 140.5 136.642 136.902 134.693 134.213C134.172 133.495 133.368 133 132.481 133C121.839 133 109.839 133.124 102.355 140.69C102.276 140.77 102.198 140.85 102.12 140.932C99.3005 143.876 97.5976 146.937 96.5137 149.595C95.2696 152.647 95 155.983 95 159.278Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M120.752 134.003C114.917 134.873 109.465 136.759 105.325 140.854C105.27 140.909 105.215 140.964 105.16 141.019C102.396 143.816 100.694 146.721 99.5962 149.268C98.2512 152.388 97.9713 155.832 97.9713 159.229V189.999H120.752V134.003Z\",\n        fill: \"#A2CFF4\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M116 134H134V173H159V134H177V192H159V190H134V192H116V134Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"mask\", {\n        id: \"path-7-inside-1\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M119 68C119 56.9543 127.954 48 139 48H155C166.046 48 175 56.9543 175 68V90H178C180.761 90 183 92.2386 183 95V97C183 99.7614 180.761 102 178 102H175C175 113.046 166.046 122 155 122H147H139C127.954 122 119 113.046 119 102H116C113.239 102 111 99.7614 111 97V95C111 92.2386 113.239 90 116 90H119V68Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M119 68C119 56.9543 127.954 48 139 48H155C166.046 48 175 56.9543 175 68V90H178C180.761 90 183 92.2386 183 95V97C183 99.7614 180.761 102 178 102H175C175 113.046 166.046 122 155 122H147H139C127.954 122 119 113.046 119 102H116C113.239 102 111 99.7614 111 97V95C111 92.2386 113.239 90 116 90H119V68Z\",\n        fill: \"white\"\n      }), o.jsx(\"path\", {\n        d: \"M175 90H173V92H175V90ZM175 102V100H173V102H175ZM119 102H121V100H119V102ZM119 90V92H121V90H119ZM139 46C126.85 46 117 55.8497 117 68H121C121 58.0589 129.059 50 139 50V46ZM155 46H139V50H155V46ZM177 68C177 55.8497 167.15 46 155 46V50C164.941 50 173 58.0589 173 68H177ZM177 90V68H173V90H177ZM178 88H175V92H178V88ZM185 95C185 91.134 181.866 88 178 88V92C179.657 92 181 93.3431 181 95H185ZM185 97V95H181V97H185ZM178 104C181.866 104 185 100.866 185 97H181C181 98.6569 179.657 100 178 100V104ZM175 104H178V100H175V104ZM155 124C167.15 124 177 114.15 177 102H173C173 111.941 164.941 120 155 120V124ZM147 124H155V120H147V124ZM139 124H147V120H139V124ZM117 102C117 114.15 126.85 124 139 124V120C129.059 120 121 111.941 121 102H117ZM116 104H119V100H116V104ZM109 97C109 100.866 112.134 104 116 104V100C114.343 100 113 98.6569 113 97H109ZM109 95V97H113V95H109ZM116 88C112.134 88 109 91.134 109 95H113C113 93.3431 114.343 92 116 92V88ZM119 88H116V92H119V88ZM117 68V90H121V68H117Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-7-inside-1)\"\n      }), o.jsx(\"path\", {\n        d: \"M120 100H174V110C174 117.732 167.732 124 160 124H134C126.268 124 120 117.732 120 110V100Z\",\n        fill: \"#A2CFF4\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"mask\", {\n        id: \"path-10-inside-2\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M137 107C137.305 111.517 141.666 115.1 147 115.1C152.334 115.1 156.695 111.517 157 107H137Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M137 107C137.305 111.517 141.666 115.1 147 115.1C152.334 115.1 156.695 111.517 157 107H137Z\",\n        fill: \"white\"\n      }), o.jsx(\"path\", {\n        d: \"M137 107V105C136.446 105 135.917 105.23 135.539 105.634C135.161 106.039 134.967 106.582 135.005 107.135L137 107ZM157 107L158.995 107.135C159.033 106.582 158.839 106.039 158.461 105.634C158.083 105.23 157.554 105 157 105V107ZM147 113.1C142.458 113.1 139.214 110.092 138.995 106.865L135.005 107.135C135.397 112.943 140.873 117.1 147 117.1V113.1ZM155.004 106.865C154.786 110.092 151.542 113.1 147 113.1V117.1C153.126 117.1 158.603 112.943 158.995 107.135L155.004 106.865ZM157 105H137V109H157V105Z\",\n        fill: \"white\",\n        mask: \"url(#path-10-inside-2)\"\n      }), o.jsx(\"circle\", {\n        cx: \"136\",\n        cy: \"92\",\n        r: \"4\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"circle\", {\n        cx: \"158\",\n        cy: \"92\",\n        r: \"4\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"path\", {\n        d: \"M173 94.3193V79H179V86.3466C179 88.7525 178.133 91.0778 176.557 92.8959L174.756 94.9742C174.149 95.6737 173 95.245 173 94.3193Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"path\", {\n        d: \"M122 94.3193V79H116V86.3466C116 88.7525 116.867 91.0778 118.443 92.8959L120.244 94.9742C120.851 95.6737 122 95.245 122 94.3193Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"rect\", {\n        x: \"119\",\n        y: \"98\",\n        width: \"56\",\n        height: \"2\",\n        fill: \"white\"\n      }), o.jsx(\"rect\", {\n        x: \"121\",\n        y: \"100\",\n        width: \"52\",\n        height: \"2\",\n        fill: \"#A2CFF4\"\n      }), o.jsx(\"mask\", {\n        id: \"path-18-inside-3\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M147.5 38C129.551 38 115 52.5507 115 70.5V75.5C115 76.3412 115.032 77.1749 115.095 78H179.905C179.968 77.1749 180 76.3412 180 75.5V70.5C180 52.5507 165.449 38 147.5 38Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M147.5 38C129.551 38 115 52.5507 115 70.5V75.5C115 76.3412 115.032 77.1749 115.095 78H179.905C179.968 77.1749 180 76.3412 180 75.5V70.5C180 52.5507 165.449 38 147.5 38Z\",\n        fill: \"#A2CFF4\"\n      }), o.jsx(\"path\", {\n        d: \"M115.095 78L113.1 78.1517L113.241 80H115.095V78ZM179.905 78V80H181.759L181.9 78.1517L179.905 78ZM117 70.5C117 53.6553 130.655 40 147.5 40V36C128.446 36 113 51.4462 113 70.5H117ZM117 75.5V70.5H113V75.5H117ZM117.089 77.8483C117.03 77.0736 117 76.2905 117 75.5H113C113 76.3919 113.034 77.2762 113.1 78.1517L117.089 77.8483ZM115.095 80H179.905V76H115.095V80ZM178 75.5C178 76.2905 177.97 77.0736 177.911 77.8483L181.9 78.1517C181.966 77.2762 182 76.3919 182 75.5H178ZM178 70.5V75.5H182V70.5H178ZM147.5 40C164.345 40 178 53.6553 178 70.5H182C182 51.4462 166.554 36 147.5 36V40Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-18-inside-3)\"\n      }), o.jsx(\"rect\", {\n        x: \"141\",\n        y: \"36\",\n        width: \"13\",\n        height: \"40\",\n        rx: \"1\",\n        fill: \"#A2CFF4\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"path\", {\n        d: \"M142 37H142.667L143 76H142V37Z\",\n        fill: \"#F6FFFF\"\n      }), o.jsx(\"path\", {\n        d: \"M148.429 85C134.659 85 120.257 81.2381 115 79.3333V76H180V79.3333C175.061 81.873 161.811 85 148.429 85Z\",\n        fill: \"#A2CFF4\"\n      }), o.jsx(\"path\", {\n        d: \"M115 79.3333H114C114 79.7543 114.264 80.1301 114.659 80.2735L115 79.3333ZM180 79.3333L180.457 80.2226C180.791 80.0513 181 79.708 181 79.3333H180ZM115 76V75C114.448 75 114 75.4477 114 76H115ZM180 76H181C181 75.4477 180.552 75 180 75V76ZM114.659 80.2735C119.998 82.2077 134.516 86 148.429 86V84C134.801 84 120.517 80.2685 115.341 78.3931L114.659 80.2735ZM148.429 86C155.193 86 161.916 85.2102 167.573 84.1003C173.208 82.9949 177.863 81.5566 180.457 80.2226L179.543 78.444C177.198 79.6497 172.759 81.0448 167.188 82.1378C161.64 83.2263 155.046 84 148.429 84V86ZM116 79.3333V76H114V79.3333H116ZM115 77H180V75H115V77ZM179 76V79.3333H181V76H179Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M17.0001 191C15.3433 191 14.0001 192.343 14.0001 194C14.0001 195.657 15.3433 197 17.0001 197H23.0001C24.657 197 26.0001 195.657 26.0001 194C26.0001 192.343 24.657 191 23.0001 191H17.0001ZM34.0001 194C34.0001 192.343 35.3433 191 37.0001 191H54.0001C55.657 191 57.0001 192.343 57.0001 194C57.0001 195.657 55.657 197 54.0001 197H37.0001C35.3433 197 34.0001 195.657 34.0001 194ZM65.0001 194C65.0001 192.343 66.3433 191 68.0001 191H225C226.657 191 228 192.343 228 194C228 195.657 226.657 197 225 197H68.0001C66.3433 197 65.0001 195.657 65.0001 194ZM236 194C236 192.343 237.343 191 239 191H256C257.657 191 259 192.343 259 194C259 195.657 257.657 197 256 197H239C237.343 197 236 195.657 236 194ZM270 191C268.343 191 267 192.343 267 194C267 195.657 268.343 197 270 197H276C277.657 197 279 195.657 279 194C279 192.343 277.657 191 276 191H270Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"mask\", {\n        id: \"path-25-inside-4\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M27.0569 11.004C27.0569 9.23135 24.9215 8.33493 23.6562 9.57638L0.603336 32.1943C-0.675102 33.4486 0.213011 35.6219 2.00402 35.6219H25.0569C26.1615 35.6219 27.0569 34.7265 27.0569 33.6219V11.004ZM2.00402 33.6219L25.0569 11.004V20.6219H19.5569V22.6219H25.0569V24.6219H21.5569V26.6219H25.0569V28.6219H19.5569V30.6219H25.0569V33.6219H2.00402Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M27.0569 11.004C27.0569 9.23135 24.9215 8.33493 23.6562 9.57638L0.603336 32.1943C-0.675102 33.4486 0.213011 35.6219 2.00402 35.6219H25.0569C26.1615 35.6219 27.0569 34.7265 27.0569 33.6219V11.004ZM2.00402 33.6219L25.0569 11.004V20.6219H19.5569V22.6219H25.0569V24.6219H21.5569V26.6219H25.0569V28.6219H19.5569V30.6219H25.0569V33.6219H2.00402Z\",\n        fill: \"#C4C4C4\"\n      }), o.jsx(\"path\", {\n        d: \"M23.6562 9.57638L24.3566 10.2902V10.2902L23.6562 9.57638ZM0.603336 32.1943L1.30368 32.9081L0.603336 32.1943ZM25.0569 11.004H26.0569V8.62193L24.3566 10.2902L25.0569 11.004ZM2.00402 33.6219L1.30368 32.9081L-0.44309 34.6219H2.00402V33.6219ZM25.0569 20.6219V21.6219H26.0569V20.6219H25.0569ZM19.5569 20.6219V19.6219H18.5569V20.6219H19.5569ZM19.5569 22.6219H18.5569V23.6219H19.5569V22.6219ZM25.0569 22.6219H26.0569V21.6219H25.0569V22.6219ZM25.0569 24.6219V25.6219H26.0569V24.6219H25.0569ZM21.5569 24.6219V23.6219H20.5569V24.6219H21.5569ZM21.5569 26.6219H20.5569V27.6219H21.5569V26.6219ZM25.0569 26.6219H26.0569V25.6219H25.0569V26.6219ZM25.0569 28.6219V29.6219H26.0569V28.6219H25.0569ZM19.5569 28.6219V27.6219H18.5569V28.6219H19.5569ZM19.5569 30.6219H18.5569V31.6219H19.5569V30.6219ZM25.0569 30.6219H26.0569V29.6219H25.0569V30.6219ZM25.0569 33.6219V34.6219H26.0569V33.6219H25.0569ZM24.3566 10.2902C24.9892 9.66946 26.0569 10.1177 26.0569 11.004H28.0569C28.0569 8.34502 24.8539 7.0004 22.9559 8.86257L24.3566 10.2902ZM1.30368 32.9081L24.3566 10.2902L22.9559 8.86257L-0.0970048 31.4805L1.30368 32.9081ZM2.00402 34.6219C1.10851 34.6219 0.664458 33.5353 1.30368 32.9081L-0.0970048 31.4805C-2.01466 33.362 -0.682491 36.6219 2.00402 36.6219V34.6219ZM25.0569 34.6219H2.00402V36.6219H25.0569V34.6219ZM26.0569 33.6219C26.0569 34.1742 25.6092 34.6219 25.0569 34.6219V36.6219C26.7138 36.6219 28.0569 35.2788 28.0569 33.6219H26.0569ZM26.0569 11.004V33.6219H28.0569V11.004H26.0569ZM24.3566 10.2902L1.30368 32.9081L2.70436 34.3357L25.7572 11.7178L24.3566 10.2902ZM26.0569 20.6219V11.004H24.0569V20.6219H26.0569ZM19.5569 21.6219H25.0569V19.6219H19.5569V21.6219ZM20.5569 22.6219V20.6219H18.5569V22.6219H20.5569ZM25.0569 21.6219H19.5569V23.6219H25.0569V21.6219ZM26.0569 24.6219V22.6219H24.0569V24.6219H26.0569ZM21.5569 25.6219H25.0569V23.6219H21.5569V25.6219ZM22.5569 26.6219V24.6219H20.5569V26.6219H22.5569ZM25.0569 25.6219H21.5569V27.6219H25.0569V25.6219ZM26.0569 28.6219V26.6219H24.0569V28.6219H26.0569ZM19.5569 29.6219H25.0569V27.6219H19.5569V29.6219ZM20.5569 30.6219V28.6219H18.5569V30.6219H20.5569ZM25.0569 29.6219H19.5569V31.6219H25.0569V29.6219ZM26.0569 33.6219V30.6219H24.0569V33.6219H26.0569ZM2.00402 34.6219H25.0569V32.6219H2.00402V34.6219Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-25-inside-4)\"\n      }), o.jsx(\"mask\", {\n        id: \"path-27-inside-5\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M30 12C30 10.3431 31.3431 9 33 9H37C38.6569 9 40 10.3431 40 12V30.6492C40 31.1034 39.8454 31.544 39.5617 31.8986L35.937 36.4295C35.4567 37.03 34.5433 37.03 34.063 36.4295L30.4383 31.8986C30.1546 31.544 30 31.1034 30 30.6492V12ZM33 11C32.4477 11 32 11.4477 32 12V15H38V12C38 11.4477 37.5523 11 37 11H33ZM32 29V17H38V29H32ZM32.2806 31L35 34.3992L37.7194 31H32.2806Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M30 12C30 10.3431 31.3431 9 33 9H37C38.6569 9 40 10.3431 40 12V30.6492C40 31.1034 39.8454 31.544 39.5617 31.8986L35.937 36.4295C35.4567 37.03 34.5433 37.03 34.063 36.4295L30.4383 31.8986C30.1546 31.544 30 31.1034 30 30.6492V12ZM33 11C32.4477 11 32 11.4477 32 12V15H38V12C38 11.4477 37.5523 11 37 11H33ZM32 29V17H38V29H32ZM32.2806 31L35 34.3992L37.7194 31H32.2806Z\",\n        fill: \"#C4C4C4\"\n      }), o.jsx(\"path\", {\n        d: \"M39.5617 31.8986L40.3426 32.5233H40.3426L39.5617 31.8986ZM35.937 36.4295L36.7179 37.0542H36.7179L35.937 36.4295ZM34.063 36.4295L33.2821 37.0542L34.063 36.4295ZM30.4383 31.8986L31.2191 31.2739H31.2191L30.4383 31.8986ZM32 15H31V16H32V15ZM38 15V16H39V15H38ZM32 17V16H31V17H32ZM32 29H31V30H32V29ZM38 17H39V16H38V17ZM38 29V30H39V29H38ZM32.2806 31V30H30.2L31.4998 31.6247L32.2806 31ZM35 34.3992L34.2191 35.0239L35 36L35.7809 35.0239L35 34.3992ZM37.7194 31L38.5002 31.6247L39.8 30H37.7194V31ZM33 8C30.7909 8 29 9.79086 29 12H31C31 10.8954 31.8954 10 33 10V8ZM37 8H33V10H37V8ZM41 12C41 9.79086 39.2091 8 37 8V10C38.1046 10 39 10.8954 39 12H41ZM41 30.6492V12H39V30.6492H41ZM40.3426 32.5233C40.7682 31.9914 41 31.3304 41 30.6492H39C39 30.8763 38.9227 31.0966 38.7809 31.2739L40.3426 32.5233ZM36.7179 37.0542L40.3426 32.5233L38.7809 31.2739L35.1562 35.8048L36.7179 37.0542ZM33.2821 37.0542C34.1628 38.1551 35.8372 38.1551 36.7179 37.0542L35.1562 35.8048C35.0761 35.9049 34.9239 35.9049 34.8438 35.8048L33.2821 37.0542ZM29.6574 32.5233L33.2821 37.0542L34.8438 35.8048L31.2191 31.2739L29.6574 32.5233ZM29 30.6492C29 31.3304 29.2318 31.9914 29.6574 32.5233L31.2191 31.2739C31.0773 31.0966 31 30.8763 31 30.6492H29ZM29 12V30.6492H31V12H29ZM33 12V10C31.8954 10 31 10.8954 31 12H33ZM33 15V12H31V15H33ZM38 14H32V16H38V14ZM37 12V15H39V12H37ZM37 12H39C39 10.8954 38.1046 10 37 10V12ZM33 12H37V10H33V12ZM31 17V29H33V17H31ZM38 16H32V18H38V16ZM39 29V17H37V29H39ZM32 30H38V28H32V30ZM31.4998 31.6247L34.2191 35.0239L35.7809 33.7745L33.0615 30.3753L31.4998 31.6247ZM35.7809 35.0239L38.5002 31.6247L36.9385 30.3753L34.2191 33.7745L35.7809 35.0239ZM37.7194 30H32.2806V32H37.7194V30Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-27-inside-5)\"\n      }), o.jsx(\"mask\", {\n        id: \"path-29-inside-6\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M47.7183 137C47.166 137 46.7183 137.448 46.7183 138V139C46.7183 139.033 46.72 139.066 46.7232 139.099C44.4385 139.56 42.7183 141.579 42.7183 144C42.7183 145.744 43.6117 147.28 44.9659 148.175L40.0606 161.652C39.8717 162.171 40.1393 162.745 40.6583 162.934C41.1772 163.123 41.7511 162.855 41.94 162.336L46.823 148.92C47.1135 148.973 47.4127 149 47.7183 149C48.2066 149 48.6784 148.93 49.1245 148.8L54.0514 162.336C54.2403 162.855 54.8141 163.123 55.3331 162.934C55.8521 162.745 56.1197 162.171 55.9308 161.652L50.9397 147.939C50.9291 147.91 50.9172 147.881 50.9041 147.854C52.0123 146.937 52.7183 145.551 52.7183 144C52.7183 141.579 50.9981 139.56 48.7135 139.099C48.7167 139.066 48.7183 139.033 48.7183 139V138C48.7183 137.448 48.2706 137 47.7183 137ZM50.7183 144C50.7183 145.657 49.3752 147 47.7183 147C46.0615 147 44.7183 145.657 44.7183 144C44.7183 142.343 46.0615 141 47.7183 141C49.3752 141 50.7183 142.343 50.7183 144Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M47.7183 137C47.166 137 46.7183 137.448 46.7183 138V139C46.7183 139.033 46.72 139.066 46.7232 139.099C44.4385 139.56 42.7183 141.579 42.7183 144C42.7183 145.744 43.6117 147.28 44.9659 148.175L40.0606 161.652C39.8717 162.171 40.1393 162.745 40.6583 162.934C41.1772 163.123 41.7511 162.855 41.94 162.336L46.823 148.92C47.1135 148.973 47.4127 149 47.7183 149C48.2066 149 48.6784 148.93 49.1245 148.8L54.0514 162.336C54.2403 162.855 54.8141 163.123 55.3331 162.934C55.8521 162.745 56.1197 162.171 55.9308 161.652L50.9397 147.939C50.9291 147.91 50.9172 147.881 50.9041 147.854C52.0123 146.937 52.7183 145.551 52.7183 144C52.7183 141.579 50.9981 139.56 48.7135 139.099C48.7167 139.066 48.7183 139.033 48.7183 139V138C48.7183 137.448 48.2706 137 47.7183 137ZM50.7183 144C50.7183 145.657 49.3752 147 47.7183 147C46.0615 147 44.7183 145.657 44.7183 144C44.7183 142.343 46.0615 141 47.7183 141C49.3752 141 50.7183 142.343 50.7183 144Z\",\n        fill: \"#C4C4C4\"\n      }), o.jsx(\"path\", {\n        d: \"M46.7232 139.099L46.9211 140.079L47.8068 139.9L47.7184 139.001L46.7232 139.099ZM44.9659 148.175L45.9055 148.517L46.1754 147.775L45.5171 147.34L44.9659 148.175ZM40.0606 161.652L39.1209 161.31H39.1209L40.0606 161.652ZM40.6583 162.934L40.3162 163.873H40.3162L40.6583 162.934ZM41.94 162.336L41.0003 161.994L41.94 162.336ZM46.823 148.92L47.0009 147.936L46.1715 147.786L45.8833 148.578L46.823 148.92ZM49.1245 148.8L50.0642 148.458L49.7436 147.577L48.8438 147.84L49.1245 148.8ZM54.0514 162.336L54.9911 161.994L54.0514 162.336ZM55.3331 162.934L54.9911 161.994L55.3331 162.934ZM55.9308 161.652L56.8705 161.31L55.9308 161.652ZM50.9397 147.939L51.8794 147.597L51.8794 147.597L50.9397 147.939ZM50.9041 147.854L50.2666 147.083L49.6687 147.578L49.9996 148.28L50.9041 147.854ZM48.7135 139.099L47.7183 139.001L47.6299 139.9L48.5155 140.079L48.7135 139.099ZM47.7183 138V138V136C46.6138 136 45.7183 136.895 45.7183 138H47.7183ZM47.7183 139V138H45.7183V139H47.7183ZM47.7184 139.001C47.7184 139.001 47.7183 139.001 47.7183 139H45.7183C45.7183 139.066 45.7216 139.132 45.728 139.197L47.7184 139.001ZM43.7183 144C43.7183 142.065 45.0938 140.448 46.9211 140.079L46.5252 138.119C43.7832 138.673 41.7183 141.094 41.7183 144H43.7183ZM45.5171 147.34C44.4312 146.623 43.7183 145.395 43.7183 144H41.7183C41.7183 146.094 42.7922 147.937 44.4146 149.009L45.5171 147.34ZM44.0262 147.833L39.1209 161.31L41.0003 161.994L45.9055 148.517L44.0262 147.833ZM39.1209 161.31C38.7431 162.348 39.2783 163.496 40.3162 163.873L41.0003 161.994L41.0003 161.994L39.1209 161.31ZM40.3162 163.873C41.3542 164.251 42.5019 163.716 42.8797 162.678L41.0003 161.994H41.0003L40.3162 163.873ZM42.8797 162.678L47.7627 149.262L45.8833 148.578L41.0003 161.994L42.8797 162.678ZM47.7183 148C47.4726 148 47.2329 147.978 47.0009 147.936L46.6451 149.904C46.994 149.967 47.3528 150 47.7183 150V148ZM48.8438 147.84C48.488 147.944 48.1106 148 47.7183 148V150C48.3025 150 48.8689 149.916 49.4052 149.759L48.8438 147.84ZM54.9911 161.994L50.0642 148.458L48.1848 149.142L53.1117 162.678L54.9911 161.994ZM54.9911 161.994L53.1117 162.678C53.4895 163.716 54.6372 164.251 55.6751 163.873L54.9911 161.994ZM54.9911 161.994V161.994L55.6751 163.873C56.7131 163.496 57.2482 162.348 56.8705 161.31L54.9911 161.994ZM50 148.281L54.9911 161.994L56.8705 161.31L51.8794 147.597L50 148.281ZM49.9996 148.28C49.9997 148.28 49.9999 148.281 50 148.281L51.8794 147.597C51.8583 147.539 51.8347 147.483 51.8087 147.427L49.9996 148.28ZM51.7183 144C51.7183 145.24 51.155 146.348 50.2666 147.083L51.5417 148.624C52.8696 147.525 53.7183 145.861 53.7183 144H51.7183ZM48.5155 140.079C50.3428 140.448 51.7183 142.065 51.7183 144H53.7183C53.7183 141.094 51.6535 138.673 48.9114 138.119L48.5155 140.079ZM47.7183 139C47.7183 139.001 47.7183 139.001 47.7183 139.001L49.7087 139.197C49.7151 139.132 49.7183 139.066 49.7183 139H47.7183ZM47.7183 138V139H49.7183V138H47.7183ZM47.7183 138H49.7183C49.7183 136.895 48.8229 136 47.7183 136V138ZM47.7183 148C49.9275 148 51.7183 146.209 51.7183 144H49.7183C49.7183 145.105 48.8229 146 47.7183 146V148ZM43.7183 144C43.7183 146.209 45.5092 148 47.7183 148V146C46.6138 146 45.7183 145.105 45.7183 144H43.7183ZM47.7183 140C45.5092 140 43.7183 141.791 43.7183 144H45.7183C45.7183 142.895 46.6138 142 47.7183 142V140ZM51.7183 144C51.7183 141.791 49.9275 140 47.7183 140V142C48.8229 142 49.7183 142.895 49.7183 144H51.7183Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-29-inside-6)\"\n      }), o.jsx(\"path\", {\n        d: \"M3.92938 94.3448L9.51226 90.2422L10.2738 97.1284L3.92938 94.3448Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"path\", {\n        d: \"M217.121 91.2948L221.466 85.8988L223.967 92.3601L217.121 91.2948Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"mask\", {\n        id: \"path-33-inside-7\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M221 11C221 15.9706 216.971 20 212 20C207.029 20 203 15.9706 203 11C203 6.02944 207.029 2 212 2C216.971 2 221 6.02944 221 11ZM219.531 19.0179C217.563 20.8671 214.914 22 212 22C205.925 22 201 17.0751 201 11C201 4.92487 205.925 0 212 0C218.075 0 223 4.92487 223 11C223 13.4647 222.189 15.74 220.82 17.574C220.911 17.6203 220.995 17.6813 221.071 17.7569L225.776 22.4624C226.167 22.853 226.167 23.4861 225.776 23.8766C225.386 24.2672 224.753 24.2672 224.362 23.8766L219.657 19.1711C219.609 19.1234 219.567 19.072 219.531 19.0179Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M221 11C221 15.9706 216.971 20 212 20C207.029 20 203 15.9706 203 11C203 6.02944 207.029 2 212 2C216.971 2 221 6.02944 221 11ZM219.531 19.0179C217.563 20.8671 214.914 22 212 22C205.925 22 201 17.0751 201 11C201 4.92487 205.925 0 212 0C218.075 0 223 4.92487 223 11C223 13.4647 222.189 15.74 220.82 17.574C220.911 17.6203 220.995 17.6813 221.071 17.7569L225.776 22.4624C226.167 22.853 226.167 23.4861 225.776 23.8766C225.386 24.2672 224.753 24.2672 224.362 23.8766L219.657 19.1711C219.609 19.1234 219.567 19.072 219.531 19.0179Z\",\n        fill: \"#C4C4C4\"\n      }), o.jsx(\"path\", {\n        d: \"M219.531 19.0179L220.363 18.4632L219.707 17.4797L218.846 18.2891L219.531 19.0179ZM220.82 17.574L220.019 16.9758L219.311 17.9236L220.364 18.4637L220.82 17.574ZM212 21C217.523 21 222 16.5228 222 11H220C220 15.4183 216.418 19 212 19V21ZM202 11C202 16.5228 206.477 21 212 21V19C207.582 19 204 15.4183 204 11H202ZM212 1C206.477 1 202 5.47715 202 11H204C204 6.58172 207.582 3 212 3V1ZM222 11C222 5.47715 217.523 1 212 1V3C216.418 3 220 6.58172 220 11H222ZM212 23C215.178 23 218.07 21.7632 220.216 19.7466L218.846 18.2891C217.056 19.9711 214.649 21 212 21V23ZM200 11C200 17.6274 205.373 23 212 23V21C206.477 21 202 16.5228 202 11H200ZM212 -1C205.373 -1 200 4.37258 200 11H202C202 5.47715 206.477 1 212 1V-1ZM224 11C224 4.37258 218.627 -1 212 -1V1C217.523 1 222 5.47715 222 11H224ZM221.622 18.1722C223.115 16.1714 224 13.6876 224 11H222C222 13.2418 221.264 15.3086 220.019 16.9758L221.622 18.1722ZM220.364 18.4637L220.364 18.464L221.778 17.0498C221.628 16.8998 221.458 16.7775 221.277 16.6843L220.364 18.4637ZM220.364 18.464L225.069 23.1695L226.484 21.7553L221.778 17.0498L220.364 18.464ZM225.069 23.1695L226.484 24.5838C227.265 23.8027 227.265 22.5364 226.484 21.7553L225.069 23.1695ZM225.069 23.1695H225.069L223.655 24.5838C224.436 25.3648 225.702 25.3648 226.484 24.5838L225.069 23.1695ZM225.069 23.1695L220.364 18.464L218.95 19.8782L223.655 24.5838L225.069 23.1695ZM220.364 18.464C220.363 18.4631 220.363 18.4629 220.363 18.4632L218.699 19.5725C218.771 19.6811 218.855 19.7836 218.95 19.8782L220.364 18.464Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-33-inside-7)\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M256 139H254.465C254.805 139.588 255 140.271 255 141V161C255 161.729 254.805 162.412 254.465 163H256C257.105 163 258 162.105 258 161V141C258 139.895 257.105 139 256 139ZM238 139H251C252.105 139 253 139.895 253 141V161C253 162.105 252.105 163 251 163H238C236.895 163 236 162.105 236 161V141C236 139.895 236.895 139 238 139ZM256 137H251H238C235.791 137 234 138.791 234 141V161C234 163.209 235.791 165 238 165H251H256C258.209 165 260 163.209 260 161V141C260 138.791 258.209 137 256 137ZM239.5 147C240.328 147 241 146.328 241 145.5C241 144.672 240.328 144 239.5 144C238.672 144 238 144.672 238 145.5C238 146.328 238.672 147 239.5 147ZM241 150.5C241 151.328 240.328 152 239.5 152C238.672 152 238 151.328 238 150.5C238 149.672 238.672 149 239.5 149C240.328 149 241 149.672 241 150.5ZM239.5 157C240.328 157 241 156.328 241 155.5C241 154.672 240.328 154 239.5 154C238.672 154 238 154.672 238 155.5C238 156.328 238.672 157 239.5 157Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"circle\", {\n        cx: \"283\",\n        cy: \"122\",\n        r: \"3\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"circle\", {\n        cx: \"99\",\n        cy: \"9\",\n        r: \"3\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M69 75C69 75.5523 69.4477 76 70 76C70.5523 76 71 75.5523 71 75V73H73C73.5523 73 74 72.5523 74 72C74 71.4477 73.5523 71 73 71H71V69C71 68.4477 70.5523 68 70 68C69.4477 68 69 68.4477 69 69V71H67C66.4477 71 66 71.4477 66 72C66 72.5523 66.4477 73 67 73H69V75Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M263 12C263 12.5523 263.448 13 264 13C264.552 13 265 12.5523 265 12V10H267C267.552 10 268 9.55228 268 9C268 8.44772 267.552 8 267 8H265V6C265 5.44772 264.552 5 264 5C263.448 5 263 5.44772 263 6V8H261C260.448 8 260 8.44772 260 9C260 9.55228 260.448 10 261 10H263V12Z\",\n        fill: \"#2F97FF\"\n      }), o.jsx(\"mask\", {\n        id: \"path-40-inside-8\",\n        fill: \"white\"\n      }, o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M261.464 68.7321L268.392 64.7321C269.349 64.1798 270.572 64.5075 271.124 65.4641L272.624 68.0622L262.232 74.0622L260.732 71.4641C260.18 70.5075 260.508 69.2843 261.464 68.7321ZM261.5 76.7942L260.5 75.0622L259 72.4641C257.895 70.5509 258.551 68.1046 260.464 67L267.392 63C269.305 61.8954 271.752 62.5509 272.856 64.4641L280.856 78.3205C281.961 80.2337 281.305 82.68 279.392 83.7846L272.464 87.7846C270.551 88.8892 268.105 88.2337 267 86.3205L261.5 76.7942ZM263.232 75.7942L273.624 69.7942L279.124 79.3205C279.677 80.2771 279.349 81.5003 278.392 82.0526L271.464 86.0526C270.508 86.6048 269.284 86.2771 268.732 85.3205L263.232 75.7942Z\"\n      })), o.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M261.464 68.7321L268.392 64.7321C269.349 64.1798 270.572 64.5075 271.124 65.4641L272.624 68.0622L262.232 74.0622L260.732 71.4641C260.18 70.5075 260.508 69.2843 261.464 68.7321ZM261.5 76.7942L260.5 75.0622L259 72.4641C257.895 70.5509 258.551 68.1046 260.464 67L267.392 63C269.305 61.8954 271.752 62.5509 272.856 64.4641L280.856 78.3205C281.961 80.2337 281.305 82.68 279.392 83.7846L272.464 87.7846C270.551 88.8892 268.105 88.2337 267 86.3205L261.5 76.7942ZM263.232 75.7942L273.624 69.7942L279.124 79.3205C279.677 80.2771 279.349 81.5003 278.392 82.0526L271.464 86.0526C270.508 86.6048 269.284 86.2771 268.732 85.3205L263.232 75.7942Z\",\n        fill: \"#C4C4C4\"\n      }), o.jsx(\"path\", {\n        d: \"M268.392 64.7321L267.892 63.866L268.392 64.7321ZM261.464 68.7321L261.964 69.5981L261.464 68.7321ZM272.624 68.0622L273.124 68.9282L273.99 68.4282L273.49 67.5622L272.624 68.0622ZM262.232 74.0622L261.366 74.5622L261.866 75.4282L262.732 74.9282L262.232 74.0622ZM261.5 76.7942L260.634 77.2942L261.5 76.7942ZM260.464 67L259.964 66.134L260.464 67ZM267.392 63L267.892 63.866L267.392 63ZM272.856 64.4641L273.722 63.9641L272.856 64.4641ZM280.856 78.3205L279.99 78.8205L280.856 78.3205ZM279.392 83.7846L278.892 82.9186L279.392 83.7846ZM272.464 87.7846L272.964 88.6506L272.464 87.7846ZM267 86.3205L267.866 85.8205L267 86.3205ZM273.624 69.7942L274.49 69.2942L273.99 68.4282L273.124 68.9282L273.624 69.7942ZM263.232 75.7942L262.732 74.9282L261.866 75.4282L262.366 76.2942L263.232 75.7942ZM279.124 79.3205L279.99 78.8205L279.124 79.3205ZM268.732 85.3205L267.866 85.8205L268.732 85.3205ZM267.892 63.866L260.964 67.866L261.964 69.5981L268.892 65.5981L267.892 63.866ZM271.99 64.9641C271.162 63.5292 269.327 63.0376 267.892 63.866L268.892 65.5981C269.371 65.3219 269.982 65.4858 270.258 65.9641L271.99 64.9641ZM273.49 67.5622L271.99 64.9641L270.258 65.9641L271.758 68.5622L273.49 67.5622ZM262.732 74.9282L273.124 68.9282L272.124 67.1962L261.732 73.1962L262.732 74.9282ZM259.866 71.9641L261.366 74.5622L263.098 73.5622L261.598 70.9641L259.866 71.9641ZM260.964 67.866C259.529 68.6945 259.038 70.5292 259.866 71.9641L261.598 70.9641C261.322 70.4858 261.486 69.8742 261.964 69.5981L260.964 67.866ZM262.366 76.2942L261.366 74.5622L259.634 75.5622L260.634 77.2942L262.366 76.2942ZM258.134 72.9641L259.634 75.5622L261.366 74.5622L259.866 71.9641L258.134 72.9641ZM259.964 66.134C257.573 67.5147 256.753 70.5726 258.134 72.9641L259.866 71.9641C259.038 70.5292 259.529 68.6945 260.964 67.866L259.964 66.134ZM266.892 62.134L259.964 66.134L260.964 67.866L267.892 63.866L266.892 62.134ZM273.722 63.9641C272.342 61.5726 269.284 60.7533 266.892 62.134L267.892 63.866C269.327 63.0376 271.162 63.5292 271.99 64.9641L273.722 63.9641ZM281.722 77.8205L273.722 63.9641L271.99 64.9641L279.99 78.8205L281.722 77.8205ZM279.892 84.6506C282.284 83.2699 283.103 80.212 281.722 77.8205L279.99 78.8205C280.819 80.2554 280.327 82.0902 278.892 82.9186L279.892 84.6506ZM272.964 88.6506L279.892 84.6506L278.892 82.9186L271.964 86.9186L272.964 88.6506ZM266.134 86.8205C267.515 89.212 270.573 90.0313 272.964 88.6506L271.964 86.9186C270.529 87.747 268.694 87.2554 267.866 85.8205L266.134 86.8205ZM260.634 77.2942L266.134 86.8205L267.866 85.8205L262.366 76.2942L260.634 77.2942ZM273.124 68.9282L262.732 74.9282L263.732 76.6603L274.124 70.6603L273.124 68.9282ZM279.99 78.8205L274.49 69.2942L272.758 70.2942L278.258 79.8205L279.99 78.8205ZM278.892 82.9186C280.327 82.0902 280.819 80.2554 279.99 78.8205L278.258 79.8205C278.534 80.2988 278.371 80.9104 277.892 81.1865L278.892 82.9186ZM271.964 86.9186L278.892 82.9186L277.892 81.1865L270.964 85.1865L271.964 86.9186ZM267.866 85.8205C268.694 87.2554 270.529 87.747 271.964 86.9186L270.964 85.1865C270.486 85.4627 269.874 85.2988 269.598 84.8205L267.866 85.8205ZM262.366 76.2942L267.866 85.8205L269.598 84.8205L264.098 75.2942L262.366 76.2942Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-40-inside-8)\"\n      }));\n    }, t.ChangeAssigneeIllustration.displayName = \"ChangeAssigneeIllustration\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var i,\n          r,\n          s = n.call(e),\n          o = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(i = s.next()).done;) {\n          o.push(i.value);\n        }\n      } catch (e) {\n        r = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (n = s.return) && n.call(s);\n        } finally {\n          if (r) throw r.error;\n        }\n      }\n\n      return o;\n    },\n        s = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(0),\n        a = n(4),\n        l = n(1),\n        u = n(11),\n        c = s(n(2)),\n        d = n(3);\n    t.DraftView = function (e) {\n      var t = e.focusedPuzzleId,\n          n = e.service,\n          s = e.task,\n          f = e.onChangeStageTitle,\n          p = e.onBlurStage,\n          C = e.onChangeStageDeadline,\n          m = e.onTaskChange,\n          g = s.stages,\n          x = s.id,\n          h = s.title,\n          j = s.notifyBefore,\n          M = c.default.last(g),\n          L = r(d.useState(M ? M.title : \"\"), 2),\n          v = L[0],\n          H = L[1],\n          y = r(d.useState(M ? M.deadline : \"\"), 2),\n          V = y[0],\n          Z = y[1],\n          _ = r(d.useState(h || \"\"), 2),\n          b = _[0],\n          k = _[1],\n          F = d.useRef(h),\n          S = d.useRef(M ? M.title : \"\"),\n          T = d.useRef(M ? M.deadline : \"\");\n\n      d.useEffect(function () {\n        h && F.current !== h && (F.current = h, k(h)), M && S.current !== M.title && (S.current = M.title, H(M.title)), M && T.current !== M.deadline && (T.current = M.deadline, Z(M.deadline));\n      }, [M, h]);\n      var z = d.useCallback(function () {\n        M && (f(M.id, v), C(M.id, V), p());\n      }, [M, V, v, p, C, f]),\n          w = d.useCallback(function () {\n        m && m(i({\n          title: h\n        }, c.default.omit(s, \"id\")));\n      }, [m, s, h]);\n      return o.jsx(a.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: t === x ? 1300 : \"initial\"\n          };\n        },\n        onFocus: n.onPuzzleFocus.bind(n, x, !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, x, !1),\n        focused: t === x,\n        id: x\n      }, o.jsx(l.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, o.jsx(l.Grid, {\n        item: !0,\n        xs: 12\n      }, o.jsx(l.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Основная информация\")), o.jsx(u.TaskFieldContainer, {\n        label: \"Название задания\"\n      }, o.jsx(a.InputField, {\n        placeholder: \"Введите название задания\",\n        value: b,\n        onChange: function onChange(e) {\n          k(e.target.value);\n        },\n        onBlur: w,\n        fullWidth: !0\n      })), o.jsx(u.TaskFieldContainer, {\n        label: \"Этап задания\"\n      }, o.jsx(l.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, o.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(a.InputField, {\n        value: v,\n        onChange: function onChange(e) {\n          H(e.target.value);\n        },\n        onBlur: z,\n        placeholder: \"Введите название этапа\",\n        fullWidth: !0\n      })), o.jsx(l.Grid, {\n        item: !0\n      }, o.jsx(a.DateField, {\n        value: V,\n        placeholder: \"Срок выполнения\",\n        onChange: function onChange(e) {\n          Z(e.target.value);\n        },\n        onBlur: z\n      })))), o.jsx(u.TaskFieldContainer, {\n        label: \"Уведомить исполнителя о наступлении срока выполнения заказа\"\n      }, o.jsx(a.SelectField, {\n        value: j || 3,\n        css: function css(e) {\n          return {\n            minWidth: e.spacing(30)\n          };\n        }\n      }, o.jsx(l.MenuItem, {\n        value: 1\n      }, \"За 1 день\"), o.jsx(l.MenuItem, {\n        value: 2\n      }, \"За 2 дня\"), o.jsx(l.MenuItem, {\n        value: 3\n      }, \"За 3 дня\"), o.jsx(l.MenuItem, {\n        value: 4\n      }, \"За 4 дня\"), o.jsx(l.MenuItem, {\n        value: 5\n      }, \"За 5 дней\"), o.jsx(l.MenuItem, {\n        value: 6\n      }, \"За 6 дней\"), o.jsx(l.MenuItem, {\n        value: 7\n      }, \"За 7 дней\"))), o.jsx(u.TaskFieldContainer, {\n        label: \"Местоположение\"\n      }, o.jsx(l.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, o.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(a.SelectField, {\n        placeholder: \"Регион\",\n        fullWidth: !0\n      })), o.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(a.SelectField, {\n        placeholder: \"Филиал\",\n        fullWidth: !0\n      })), o.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(a.SelectField, {\n        placeholder: \"Формат\",\n        fullWidth: !0\n      })), o.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(a.SelectField, {\n        placeholder: \"Адрес\",\n        fullWidth: !0\n      })))), o.jsx(u.TaskFieldContainer, {\n        label: \"Исполнитель\"\n      }, o.jsx(l.Grid, {\n        item: !0,\n        xs: 4\n      }, o.jsx(a.SelectField, {\n        placeholder: \"Выберите исполнителя\",\n        fullWidth: !0\n      })))));\n    }, t.DraftView.displayName = \"DraftView\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        r = n(4),\n        s = n(1);\n    t.InfoField = function (e) {\n      var t = e.title,\n          n = e.value,\n          o = e.editable,\n          a = e.label,\n          l = e.onEditableClick;\n      return i.jsx(s.Grid, {\n        item: !0,\n        xs: !0\n      }, i.jsx(s.Typography, {\n        css: function css(e) {\n          return {\n            color: e.colors.secondary,\n            fontSize: e.fontSize.smaller,\n            textTransform: \"uppercase\"\n          };\n        }\n      }, t), i.jsx(s.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal,\n            color: e.colors.black\n          };\n        }\n      }, n), o && i.jsx(r.ButtonLikeText, {\n        onClick: l\n      }, a));\n    }, t.InfoField.displayName = \"InfoField\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        r = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(4),\n        a = n(1),\n        l = n(10),\n        u = i(n(2)),\n        c = r(n(3)),\n        d = n(3),\n        f = n(41),\n        p = n(42);\n    t.TaskDocument = function (e) {\n      var t = e.focusedPuzzleId,\n          n = e.service,\n          i = e.document,\n          r = e.templates,\n          C = e.documents,\n          m = e.templateSnapshots,\n          g = e.editable,\n          x = e.pendingComments,\n          h = e.comments,\n          j = e.onEditableChange,\n          M = e.onTemplateChange,\n          L = e.onPendingCommentDelete,\n          v = e.onPendingCommentAccept,\n          H = e.onCommentDelete,\n          y = m.get(i.id.toString()),\n          V = t === i.__uuid,\n          Z = r.filter(function (e) {\n        return e.id === i.id;\n      }).flatMap(function (e) {\n        return e.answers || [];\n      }),\n          _ = d.useCallback(function (e, t) {\n        j && j(i.id, t);\n      }, [i.id, j]),\n          b = d.useCallback(function (e) {\n        M && M(i.__uuid, e);\n      }, [i.__uuid, M]);\n\n      return s.jsx(o.SelectableBlockWrapper, {\n        onFocus: n.onPuzzleFocus.bind(n, i.__uuid, !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, i.__uuid, !1),\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: t === i.__uuid ? 1300 : \"initial\"\n          };\n        },\n        focused: V,\n        id: i.__uuid\n      }, g && i.virtual && s.jsx(a.Grid, {\n        item: !0,\n        xs: 3,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(3)\n          };\n        }\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Выбрать шаблон\",\n        value: -1 === i.id ? \"\" : i.id,\n        fullWidth: !0,\n        onChange: b\n      }, r.filter(function (e) {\n        return i.id === e.id || !C.find(function (t) {\n          return t.id === e.id;\n        });\n      }).map(function (e) {\n        return s.jsx(a.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.title);\n      }))), s.jsx(a.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 9\n      }, s.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.xLarge\n          };\n        }\n      }, u.default.get(y, \"title\"))), s.jsx(a.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(a.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"flex-end\"\n      }, s.jsx(a.FormControl, null, s.jsx(a.FormControlLabel, {\n        control: s.jsx(o.Checkbox, {\n          disabled: !g,\n          checked: i.editable,\n          css: function css(e) {\n            return {\n              marginRight: e.spacing()\n            };\n          },\n          onChange: _\n        }),\n        label: \"Разрешить редактирование\"\n      })))), s.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, V && s.jsx(l.TemplateRenderer, {\n        answers: Z,\n        template: y\n      })), !!h.length && s.jsx(c.Fragment, null, s.jsx(a.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, s.jsx(a.Divider, {\n        variant: \"fullWidth\"\n      })), s.jsx(a.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, h.map(function (e) {\n        return s.jsx(f.Comment, {\n          key: e.id,\n          comment: e,\n          onCommentDelete: H\n        });\n      }))), s.jsx(a.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, x.map(function (e) {\n        return s.jsx(p.PendingComment, {\n          key: e.id,\n          comment: e,\n          onCommentDelete: L,\n          onCommentAccept: v\n        });\n      }))));\n    }, t.TaskDocument.displayName = \"TaskDocument\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        r = n(8),\n        s = n(1),\n        o = n(6),\n        a = n(3);\n    t.Comment = function (e) {\n      var t = e.comment,\n          n = e.onCommentDelete,\n          l = a.useCallback(function () {\n        n && n(t.id);\n      }, [t.id, n]);\n      return i.jsx(s.Grid, {\n        container: !0,\n        spacing: 2\n      }, i.jsx(s.Grid, {\n        item: !0,\n        xs: 11\n      }, i.jsx(s.Grid, {\n        container: !0\n      }, i.jsx(s.Grid, {\n        item: !0,\n        xs: 12\n      }, i.jsx(s.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            color: e.colors.gray,\n            fontSize: e.fontSize.sNormal,\n            marginRight: e.spacing(2)\n          };\n        }\n      }, \"Рукастый Иннокентий Петрович\"), i.jsx(s.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            color: e.colors.lightGray,\n            fontSize: e.fontSize.sNormal\n          };\n        }\n      }, r.getFriendlyDate(new Date(t.createdAt)))), i.jsx(s.Grid, {\n        item: !0,\n        xs: 12\n      }, i.jsx(s.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }, t.text)))), i.jsx(s.Grid, {\n        item: !0,\n        xs: 1,\n        css: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, i.jsx(s.IconButton, {\n        onClick: l\n      }, i.jsx(o.Close, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }))));\n    }, t.Comment.displayName = \"Comment\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var i,\n          r,\n          s = n.call(e),\n          o = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(i = s.next()).done;) {\n          o.push(i.value);\n        }\n      } catch (e) {\n        r = {\n          error: e\n        };\n      } finally {\n        try {\n          i && !i.done && (n = s.return) && n.call(s);\n        } finally {\n          if (r) throw r.error;\n        }\n      }\n\n      return o;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(4),\n        a = n(1),\n        l = n(6),\n        u = n(3);\n    t.PendingComment = function (e) {\n      var t = e.comment,\n          n = e.onCommentAccept,\n          c = e.onCommentDelete,\n          d = r(u.useState(\"\"), 2),\n          f = d[0],\n          p = d[1];\n      var C = u.useCallback(function () {\n        n && f && n(i({}, t, {\n          text: f\n        }));\n      }, [t, n, f]),\n          m = u.useCallback(function () {\n        c && c(t.id);\n      }, [t.id, c]);\n      return s.jsx(a.Grid, {\n        container: !0,\n        spacing: 2\n      }, s.jsx(a.Grid, {\n        item: !0,\n        xs: 11\n      }, s.jsx(o.InputField, {\n        variant: \"filled\",\n        onBlur: C,\n        onChange: function onChange(e) {\n          p(e.target.value);\n        },\n        fullWidth: !0,\n        css: function css(e) {\n          return {\n            input: {\n              paddingTop: \"10px\"\n            },\n            \"> div\": {\n              borderRadius: e.radius(2),\n              \"&:after, &:before\": {\n                content: \"none\"\n              }\n            }\n          };\n        }\n      })), s.jsx(a.Grid, {\n        item: !0,\n        xs: 1,\n        css: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, s.jsx(a.IconButton, {\n        onClick: m\n      }, s.jsx(l.Close, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }))));\n    }, t.PendingComment.displayName = \"PendingComment\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, i = arguments.length; n < i; n++) {\n          for (var r in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        s = n(4),\n        o = n(8),\n        a = n(3);\n    t.TaskStepper = function (e) {\n      var t = e.task,\n          n = e.stageDeadlineMap,\n          l = e.stageTitleMap,\n          u = e.onChangeStageDeadline,\n          c = e.onBlurStage,\n          d = e.onChangeStageTitle,\n          f = e.onDeleteStage,\n          p = (t.stages || []).map(function (e, t) {\n        return i({}, e, {\n          __index: t + 1\n        });\n      }),\n          C = p.reduce(function (e, t) {\n        return e || !!t.editable;\n      }, !1),\n          m = a.useMemo(function () {\n        return (C ? [p[p.length - 2], p[p.length - 1]] : [p[p.length - 1]]).map(function (e) {\n          if (e) {\n            var t = e.deadline || n.get(e.id) || \"\",\n                a = e.editable ? t : o.getFriendlyDate(new Date(t)),\n                d = e.title || l.get(e.id) || \"\";\n            return i({}, e, {\n              title: d,\n              completed: e.finished,\n              content: r.jsx(s.DateField, {\n                key: e.id,\n                disabled: !e.editable,\n                onChange: function onChange(t) {\n                  u(e.id, t.target.value);\n                },\n                onBlur: c,\n                value: a\n              })\n            });\n          }\n        }).filter(Boolean);\n      }, [C, c, u, n, l, p]);\n      return r.jsx(s.StepperWrapper, {\n        onTitleChange: d,\n        onTitleBlur: c,\n        onStepDelete: f,\n        steps: m\n      });\n    }, t.TaskStepper.displayName = \"TaskStepper\";\n  }]);\n});","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport {\n    Button,\n    Dialog,\n    IColumn,\n    InputField,\n    ITab,\n    SelectField,\n    TableWrapper,\n    TabsWrapper,\n} from \"@magnit/components\";\nimport { ETaskStatus, IBaseTask } from \"@magnit/entities\";\nimport { AddIcon, ReturnIcon, SendIcon } from \"@magnit/icons\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport { Link, Redirect, RouteComponentProps } from \"@reach/router\";\nimport { EmptyList } from \"components/list\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { AppContext } from \"context\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { getTasks, IGetTasksResponse, updateTask } from \"services/api\";\n\nconst tabs: ITab[] = [\n    { value: ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\"), label: \"В работе\" },\n    { value: ETaskStatus.ON_CHECK.replace(\"_\", \"-\"), label: \"На проверке\" },\n    { value: ETaskStatus.EXPIRED, label: \"Просроченные\" },\n    { value: ETaskStatus.DRAFT, label: \"Черновики\" },\n    { value: ETaskStatus.COMPLETED, label: \"Завершенные\" },\n];\n\nconst columns: IColumn[] = [\n    { key: \"title\", label: \"Название задания\", sortable: true },\n    { key: \"description\", label: \"Описание задания\", sortable: true },\n    { key: \"createdAt\", label: \"Дата создания\", sortable: true },\n    { key: \"updatedAt\", label: \"Дата последнего обновления\", sortable: true },\n];\n\ntype TRouteProps = { \"*\": string };\n\ntype TTask = IGetTasksResponse[\"tasks\"][0] & { selected: boolean };\n\ninterface IUpdateTaskListOptions {\n    sort?: \"asc\" | \"desc\";\n    sortBy?: keyof Omit<TTask, \"selected\">;\n    title?: string;\n}\n\nexport const TasksList: React.FC<RouteComponentProps<TRouteProps>> = props => {\n    const tab = props[\"*\"];\n\n    const context = useContext(AppContext);\n\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [tasks, setTasks] = useState<TTask[]>([]);\n    const [selectedTasks, setSelectedTasks] = useState<Map<number, TTask>>(new Map());\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [total, setTotal] = useState(0);\n\n    const clearSelectedTasks = useCallback(() => {\n        selectedTasks.clear();\n        setSelectedTasks(new Map(selectedTasks));\n    }, [selectedTasks]);\n\n    const normalizeTask = useCallback(\n        (task: IBaseTask) => ({\n            ...task,\n            selected: false,\n            createdAt: getFriendlyDate(new Date(task.createdAt!), true),\n            updatedAt: getFriendlyDate(new Date(task.updatedAt!), true),\n        }),\n        [],\n    );\n\n    const updateTasksList = useCallback(\n        ({ sort, sortBy, title }: IUpdateTaskListOptions = {}) => {\n            clearSelectedTasks();\n            // get task by current status\n            // also apply queries\n            getTasks(\n                context.courier,\n                getTaskStatusByTab(tab),\n                (sort || \"\").toUpperCase() as \"ASC\" | \"DESC\",\n                sortBy,\n                title,\n            )\n                .then(response => setTasks(response.tasks.map(normalizeTask)))\n                .catch(console.error);\n            // get total count of all tasks\n            getTasks(context.courier)\n                .then(response => setTotal(response.tasks.length))\n                .catch(console.error);\n        },\n        [clearSelectedTasks, context.courier, normalizeTask, tab],\n    );\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => updateTasksList(), [context.courier, tab]);\n\n    const [redirect, setRedirect] = useState({ redirect: false, to: \"\" });\n\n    function onRowClick(row: object) {\n        if (!_.isObject(row) || !_.has(row, \"id\")) {\n            return;\n        }\n        setRedirect({ redirect: true, to: _.get(row, \"id\") });\n    }\n\n    const onRowSelectToggleCallback = useCallback(\n        (row: object, selected: boolean) => {\n            if (!_.isObject(row) || !_.has(row, \"id\")) {\n                return;\n            }\n            // select or un-select tasks for rejecting\n            const id = _.get(row, \"id\")!;\n            if (selected) {\n                selectedTasks.set(id, row as TTask);\n            } else {\n                selectedTasks.delete(id);\n            }\n            setSelectedTasks(new Map(selectedTasks));\n            // update actual task\n            const taskIndex = tasks.findIndex(task => task.id === id);\n            if (taskIndex !== -1) {\n                tasks[taskIndex].selected = selected;\n                setTasks([...tasks]);\n            }\n        },\n        [selectedTasks, tasks],\n    );\n\n    const setTaskToOnCheck = useCallback(\n        async (task: TTask) =>\n            updateTask(context.courier, Number(task.id), { status: ETaskStatus.ON_CHECK }),\n        [context.courier],\n    );\n\n    const onBulkRejectClickCallback = useCallback(() => {\n        const tasksToUpdate = [...selectedTasks.values()];\n\n        const isNotInProgress = (task: TTask) => task.status !== ETaskStatus.IN_PROGRESS;\n\n        // allow reject only tasks in IN_PROGRESS state\n        if (tasksToUpdate.some(isNotInProgress)) {\n            return;\n        }\n\n        // TODO: perform one request\n        // https://github.com/DavidArutiunian/magnit/issues/88\n        Promise.all(tasksToUpdate.map(setTaskToOnCheck))\n            .then(() => updateTasksList())\n            .catch(console.error)\n            .finally(onDialogClose);\n    }, [selectedTasks, setTaskToOnCheck, updateTasksList]);\n\n    const setTaskToInProgress = useCallback(\n        async (task: TTask) =>\n            updateTask(context.courier, Number(task.id), { status: ETaskStatus.IN_PROGRESS }),\n        [context.courier],\n    );\n\n    const onBulkCompleteClickCallback = useCallback(() => {\n        const tasksToUpdate = [...selectedTasks.values()];\n\n        const isNotDraftOrOnCheck = (task: TTask) =>\n            ![ETaskStatus.DRAFT, ETaskStatus.ON_CHECK].includes(task.status);\n\n        // allow complete only tasks in DRAFT & ON_CHECK states\n        if (tasksToUpdate.some(isNotDraftOrOnCheck)) {\n            return;\n        }\n\n        // TODO: perform one request\n        // https://github.com/DavidArutiunian/magnit/issues/88\n        Promise.all(tasksToUpdate.map(setTaskToInProgress))\n            .then(() => updateTasksList())\n            .then(() => clearSelectedTasks())\n            .catch(console.error);\n    }, [clearSelectedTasks, selectedTasks, setTaskToInProgress, updateTasksList]);\n\n    const onSelectToggleCallback = useCallback(\n        (selected: boolean) => {\n            const nextTasks = tasks.map(task => ({ ...task, selected }));\n            setTasks(nextTasks);\n            if (selected) {\n                nextTasks.forEach(task => task.id && selectedTasks.set(task.id, task));\n                setSelectedTasks(new Map(selectedTasks));\n            } else {\n                clearSelectedTasks();\n            }\n        },\n        [clearSelectedTasks, selectedTasks, tasks],\n    );\n\n    const updateTaskListDebounced = _.debounce(updateTasksList, 150);\n\n    const onSearchQueryChangeCallback = useCallback(\n        (event: React.ChangeEvent<HTMLInputElement>) => {\n            setSearchQuery(event.target.value);\n            updateTaskListDebounced({ title: event.target.value });\n        },\n        [updateTaskListDebounced],\n    );\n\n    const onRequestSortCallback = useCallback(\n        (sort: \"asc\" | \"desc\", sortBy: keyof Omit<TTask, \"selected\">) => {\n            updateTasksList({ sort, sortBy });\n        },\n        [updateTasksList],\n    );\n\n    function onDialogOpen() {\n        setDialogOpen(true);\n    }\n\n    function onDialogClose() {\n        setDialogOpen(false);\n    }\n\n    const empty = !total;\n\n    return (\n        <SectionLayout>\n            <Dialog open={dialogOpen} onClose={onDialogClose} onSuccess={onBulkRejectClickCallback}>\n                Вы действительно хотите отозвать задания?\n            </Dialog>\n            {redirect.redirect && <Redirect to={`tasks/view/${redirect.to}`} noThrow />}\n            <SectionTitle title=\"Список заданий\">\n                {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                    <Grid item hidden={empty}>\n                        <Button component={Link} to=\"create\" variant=\"contained\" scheme=\"blue\">\n                            <AddIcon />\n                            <Typography>Создать задание</Typography>\n                        </Button>\n                    </Grid>\n                )}\n            </SectionTitle>\n            {empty && (\n                <EmptyList\n                    title=\"Заданий нет\"\n                    button={\n                        <React.Fragment>\n                            {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                                <Grid item>\n                                    <Button\n                                        component={Link}\n                                        to=\"create\"\n                                        variant=\"contained\"\n                                        scheme=\"blue\"\n                                    >\n                                        <AddIcon />\n                                        <Typography>Создать задание</Typography>\n                                    </Button>\n                                </Grid>\n                            )}\n                        </React.Fragment>\n                    }\n                >\n                    {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                        <React.Fragment>\n                            <div>Для создания задания нажмите кнопку</div>\n                            <div>Создать задание</div>\n                        </React.Fragment>\n                    )}\n                </EmptyList>\n            )}\n            {!empty && (\n                <Paper\n                    square={true}\n                    css={({ spacing, colors }) => ({\n                        margin: spacing(3),\n                        boxShadow: `0 0 ${spacing(2)} ${colors.lightGray} !important`,\n                    })}\n                >\n                    <Grid container direction=\"row\" css={theme => ({ padding: theme.spacing(2) })}>\n                        <Grid item xs={12}>\n                            <TabsWrapper tabs={tabs}>\n                                <Grid\n                                    container\n                                    direction=\"column\"\n                                    css={theme => ({ padding: theme.spacing(4) })}\n                                >\n                                    <Grid item xs={12}>\n                                        <Grid container direction=\"row\" spacing={2}>\n                                            <Grid item xs>\n                                                <InputField\n                                                    placeholder=\"Поиск ...\"\n                                                    fullWidth\n                                                    value={searchQuery}\n                                                    onChange={onSearchQueryChangeCallback}\n                                                    css={({ spacing, ...theme }) => ({\n                                                        borderRadius: theme.radius(5),\n                                                        background: theme.colors.white,\n                                                        border: `1px solid ${theme.colors.lightGray}`,\n                                                        transition: \"border 0.25s ease-in-out\",\n                                                        cursor: \"pointer\",\n                                                        \":hover, :active\": {\n                                                            border: `1px solid ${theme.colors.primary}`,\n                                                        },\n                                                        div: {\n                                                            \":before, :after\": {\n                                                                border: \"none !important\",\n                                                            },\n                                                        },\n                                                        input: {\n                                                            padding: `${spacing(2)} ${spacing(4)}`,\n                                                        },\n                                                    })}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={2}>\n                                                <SelectField\n                                                    placeholder=\"Выберите регион\"\n                                                    fullWidth\n                                                />\n                                            </Grid>\n                                            <Grid item xs={2}>\n                                                <SelectField\n                                                    placeholder=\"Выберите филиал\"\n                                                    fullWidth\n                                                />\n                                            </Grid>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid\n                                        xs={12}\n                                        item\n                                        css={theme => ({\n                                            padding: theme.spacing(3),\n                                            paddingLeft: 0,\n                                            paddingRight: 0,\n                                        })}\n                                    >\n                                        <TableWrapper\n                                            css={theme => ({\n                                                marginLeft: theme.spacing(-2),\n                                                width: `calc(100% + ${theme.spacing(4)})`,\n                                            })}\n                                            selectable\n                                            columns={columns}\n                                            data={tasks}\n                                            onRowClick={onRowClick}\n                                            onRowSelectToggle={onRowSelectToggleCallback}\n                                            onSelectToggle={onSelectToggleCallback}\n                                            onRequestSort={onRequestSortCallback}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        {(tab === ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\") ||\n                                            !tab) && (\n                                            <Button\n                                                variant=\"contained\"\n                                                scheme=\"blue\"\n                                                onClick={onDialogOpen}\n                                            >\n                                                <ReturnIcon />\n                                                <Typography>Отозвать</Typography>\n                                            </Button>\n                                        )}\n                                        {tab &&\n                                            tab !== ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\") &&\n                                            tab !== ETaskStatus.COMPLETED && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    scheme=\"blue\"\n                                                    onClick={onBulkCompleteClickCallback}\n                                                >\n                                                    <SendIcon />\n                                                    <Typography>Отправить</Typography>\n                                                </Button>\n                                            )}\n                                    </Grid>\n                                </Grid>\n                            </TabsWrapper>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            )}\n        </SectionLayout>\n    );\n};\n\nTasksList.displayName = \"TasksList\";\n\nfunction getTaskStatusByTab(tab?: string): ETaskStatus {\n    if (!tab) {\n        return ETaskStatus.IN_PROGRESS;\n    }\n    return ((tab as unknown) as string).replace(\"-\", \"_\") as ETaskStatus;\n}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button } from \"@magnit/components\";\nimport { ETaskStatus, ITask, ITemplate } from \"@magnit/entities\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { TaskEditor } from \"@magnit/task-editor\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { Snackbar } from \"components/snackbar\";\nimport { AppContext } from \"context\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { addTemplateAssignment, createTask, getTemplate, getTemplates } from \"services/api\";\n\ninterface IEditableTemplate extends ITemplate {\n    editable: boolean;\n}\n\nexport const CreateTask: React.FC = () => {\n    const context = useContext(AppContext);\n    const [templates, setTemplates] = useState<IEditableTemplate[]>([]);\n    const [task, setTask] = useState<ITask>({\n        id: 0,\n        title: \"\",\n        templates: [],\n        stages: [],\n        status: ETaskStatus.DRAFT,\n    });\n    const [error, setError] = useState(false); // success/error snackbar state\n    const [snackbar, setSnackbar] = useState({\n        open: false,\n        message: \"\",\n    }); // open/close snackbar\n\n    useEffect(() => {\n        getTemplates(context.courier)\n            .then(response => {\n                return response.templates.map(template => ({\n                    ...template,\n                    id: template.id.toString(),\n                }));\n            })\n            .then(templates => {\n                return Promise.all(\n                    templates.map(template => getTemplate(context.courier, Number(template.id))),\n                );\n            })\n            .then(responses => {\n                const buffer: any[] = [];\n                responses.forEach(response => buffer.push(response.template));\n                setTemplates([...buffer]);\n            })\n            .catch(console.error);\n    }, [context.courier]);\n\n    function onSnackbarClose(event?: React.SyntheticEvent, reason?: string) {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setSnackbar({ open: false, message: \"\" });\n        // wait till animation ends\n        setTimeout(() => setError(false), 100);\n    }\n\n    function onTaskChange(task: Partial<ITask>): void {\n        const isValidTask = (value: object): value is ITask =>\n            _.has(value, \"id\") && _.has(value, \"title\") && _.has(value, \"templates\");\n\n        if (isValidTask(task)) {\n            setTask({ ...task });\n        }\n    }\n\n    function onTaskSave(): void {\n        createTask(context.courier, _.omit(task, [\"id\", \"templates\"]))\n            .then(async response => {\n                if (!response.taskId) {\n                    return;\n                }\n                await addTemplateAssignment(\n                    context.courier,\n                    Number(response.taskId),\n                    (task.templates || []).map(_.toNumber),\n                );\n            })\n            .then(() => setSnackbar({ open: true, message: \"Задание успешно сохранено!\" }))\n            .catch(() => {\n                setSnackbar({ open: true, message: \"Ошибка сохранения задания!\" });\n                setError(true);\n            });\n    }\n\n    return (\n        <SectionLayout>\n            <SectionTitle title=\"Создание задания\">\n                <Grid item>\n                    <Button\n                        variant=\"contained\"\n                        scheme=\"blue\"\n                        css={theme => ({ margin: `0 ${theme.spacing(1)}` })}\n                        onClick={onTaskSave}\n                        disabled={snackbar.open}\n                    >\n                        <SendIcon />\n                        <Typography>Отправить</Typography>\n                    </Button>\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                    transition: \"opacity 0.3s ease-in-out\",\n                })}\n            >\n                <TaskEditor<ITask>\n                    variant=\"create\"\n                    task={task}\n                    templates={templates}\n                    onTaskChange={onTaskChange}\n                />\n            </Grid>\n            <Snackbar\n                open={snackbar.open}\n                error={error}\n                onClose={onSnackbarClose}\n                message={snackbar.message}\n            />\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Modal } from \"@material-ui/core\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport * as React from \"react\";\n\ninterface IProps {\n    open?: boolean;\n    width?: number | string;\n\n    onClose?(): void;\n}\n\nexport const SimpleModal: React.FC<IProps> = ({ onClose, open, width, children }) => {\n    return (\n        <Modal open={!!open} onClose={onClose}>\n            <div\n                css={theme => ({\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    padding: theme.spacing(6),\n                    maxWidth: \"100%\",\n                    backgroundColor: theme.colors.white,\n                    width: width || theme.spacing(6),\n                    borderRadius: 6,\n                })}\n            >\n                <div\n                    css={theme => ({\n                        fontSize: theme.fontSize.xxLarge,\n                        position: \"absolute\",\n                        top: \"-.5em\",\n                        right: \"-.5em\",\n                        color: theme.colors.white,\n                        backgroundColor: theme.colors.gray,\n                        borderRadius: \"50%\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"1em\",\n                        height: \"1em\",\n                        cursor: \"pointer\",\n                    })}\n                    onClick={onClose}\n                >\n                    <CloseIcon css={theme => ({ fontSize: theme.fontSize.small })} />\n                </div>\n                {children}\n            </div>\n        </Modal>\n    );\n};\n\nSimpleModal.displayName = \"SimpleModal\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button, InputField } from \"@magnit/components\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useCallback, useState } from \"react\";\n\ninterface ISendMessageFormProps {\n    onSubmit?(title: string, message: string): void;\n}\n\nexport const SendMessageForm: React.FC<ISendMessageFormProps> = props => {\n    const { onSubmit } = props;\n\n    const [title, setTitle] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    const onSubmitCallback = useCallback(\n        (event: React.FormEvent) => {\n            event.preventDefault();\n            if (onSubmit) {\n                onSubmit(title, message);\n            }\n        },\n        [title, message, onSubmit],\n    );\n\n    function onChangeTitle(event: React.ChangeEvent<HTMLInputElement>) {\n        setTitle(event.target.value);\n    }\n\n    function onChangeMessage(event: React.ChangeEvent<HTMLInputElement>) {\n        setMessage(event.target.value);\n    }\n\n    return (\n        <form action=\"\" onSubmit={onSubmitCallback}>\n            <Grid container>\n                <Grid\n                    item\n                    xs={12}\n                    css={theme => ({\n                        fontSize: theme.fontSize.larger,\n                        marginBottom: theme.spacing(2),\n                    })}\n                >\n                    Новое сообщение\n                </Grid>\n                <Grid item xs={12}>\n                    <InputField\n                        onChange={onChangeTitle}\n                        value={title}\n                        placeholder=\"Заголовок\"\n                        autoFocus\n                        type=\"text\"\n                        required\n                        fullWidth\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <InputField\n                        onChange={onChangeMessage}\n                        value={message}\n                        placeholder=\"Текст сообщения\"\n                        autoFocus\n                        type=\"text\"\n                        required\n                        fullWidth\n                        multiline\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <Button\n                        type=\"submit\"\n                        css={theme => ({\n                            display: \"flex\",\n                            margin: `${theme.spacing(6)} auto 0`,\n                        })}\n                    >\n                        <SendIcon />\n                        Отправить\n                    </Button>\n                </Grid>\n            </Grid>\n        </form>\n    );\n};\n\nSendMessageForm.displayName = \"SendMessageForm\";\n","export class NoStagesException extends Error {}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button } from \"@magnit/components\";\nimport {\n    ETaskStatus,\n    IComment,\n    IDocument,\n    IExtendedDocument,\n    IExtendedTask,\n    IStage,\n    ITemplate,\n} from \"@magnit/entities\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { TaskEditor } from \"@magnit/task-editor\";\nimport { Grid, IconButton, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon } from \"@material-ui/icons\";\nimport { Redirect } from \"@reach/router\";\nimport { SimpleModal } from \"components/modal\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { SendMessageForm } from \"components/view-task\";\nimport { AppContext } from \"context\";\nimport { NoStagesException } from \"exceptions\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport {\n    addComment,\n    addStages,\n    addTaskDocument,\n    addTemplateAssignment,\n    deleteComment,\n    deleteTaskDocument,\n    getTaskExtended,\n    getTemplate,\n    getTemplates,\n    IGetTaskExtendedResponse,\n    IGetTemplate,\n    IGetTemplatesResponse,\n    sendPushToken,\n    updateTask,\n    updateTemplateAssignment,\n} from \"services/api\";\n\ninterface IViewTaskProps {\n    taskId: number;\n}\n\ninterface IEditableTemplate extends ITemplate {\n    editable: boolean;\n}\n\ntype TDocumentWithAnswers = IDocument & IExtendedDocument;\n\nexport const ViewTask: React.FC<IViewTaskProps> = ({ taskId }) => {\n    const context = useContext(AppContext);\n    const [menuAnchorElement, setMenuAnchorElement] = useState<null | HTMLElement>(null);\n    const [templates, setTemplates] = useState<IEditableTemplate[]>([]);\n    const [messageModalOpen, setMessageModalOpen] = useState(false);\n    const [task, setTask] = useState<IExtendedTask>({\n        id: 0,\n        title: \"\",\n        templates: [],\n        stages: [],\n        documents: [],\n        status: ETaskStatus.DRAFT,\n    });\n    const [redirect, setRedirect] = useState({\n        trigger: false,\n        to: \"\",\n    });\n\n    const isValidTask = (value: object): value is IExtendedTask =>\n        _.has(value, \"id\") &&\n        _.has(value, \"title\") &&\n        _.has(value, \"templates\") &&\n        _.has(value, \"stages\");\n\n    const initialStages = useRef<IExtendedTask[\"stages\"]>([]);\n\n    const isTaskEditable = (task: IExtendedTask) =>\n        task.status !== ETaskStatus.IN_PROGRESS && task.status !== ETaskStatus.COMPLETED;\n\n    const setTaskState = useCallback((response: IGetTaskExtendedResponse) => {\n        if (isValidTask(response.task)) {\n            initialStages.current = _.cloneDeep(response.task.stages);\n            setTask({ ...response.task });\n            return response.task;\n        }\n    }, []);\n\n    const fetchFullTemplate = useCallback(\n        (response: IGetTemplatesResponse) => {\n            return Promise.all(\n                response.templates.map(template =>\n                    getTemplate(context.courier, Number(template.id)),\n                ),\n            );\n        },\n        [context.courier],\n    );\n\n    const setTemplateState = (responses: IGetTemplate[], nextTask: IExtendedTask) => {\n        const buffer: any[] = [];\n        responses.forEach(response => buffer.push(response.template));\n        buffer.forEach((data, index, array) => {\n            const template = nextTask.templates.find(template => template.id === data.id);\n            if (template) {\n                array[index] = _.merge(data, template);\n            }\n        });\n        setTemplates([...buffer]);\n    };\n\n    const updateTaskState = useCallback(() => {\n        getTaskExtended(context.courier, _.toNumber(taskId))\n            .then(setTaskState)\n            .then(async nextTask => {\n                if (!nextTask || !isTaskEditable(nextTask)) {\n                    return;\n                }\n                const templates = await getTemplates(context.courier);\n                const fullTemplates = await fetchFullTemplate(templates);\n                setTemplateState(fullTemplates, nextTask);\n            })\n            .catch(console.error);\n    }, [context, fetchFullTemplate, setTaskState, taskId]);\n\n    useEffect(() => updateTaskState(), [updateTaskState]);\n\n    function onTaskChange(task: Partial<IExtendedTask>): void {\n        if (isValidTask(task)) {\n            setTask({ ...task });\n        }\n    }\n\n    function onMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        setMenuAnchorElement(event.currentTarget);\n    }\n\n    function onMenuClose() {\n        setMenuAnchorElement(null);\n    }\n\n    function onTaskHistoryClick() {\n        setRedirect({ to: `/tasks/${taskId}/history`, trigger: true });\n        onMenuClose();\n    }\n\n    function onTaskReportClick() {\n        setRedirect({ to: `/tasks/${taskId}/report`, trigger: true });\n        onMenuClose();\n    }\n\n    const addTaskStages = useCallback(\n        async (task: IExtendedTask) => {\n            const findIfStageExists = (stage: IStage) =>\n                !initialStages.current.find(initialStage => initialStage.id === stage.id);\n\n            const filterEmptyStages = (step: IStage) => step.title && step.deadline;\n\n            const diff = task.stages\n                // filter so that add only stages that doesn't exist\n                .filter(findIfStageExists)\n                // filter empty\n                .filter(filterEmptyStages)\n                .map(stage => {\n                    // TODO: mask input for date\n                    const splitted = stage.deadline.split(\".\");\n                    const date = new Date();\n                    date.setDate(Number(_.first(splitted)));\n                    date.setMonth(Number(_.nth(splitted, 1)) - 1);\n                    date.setFullYear(Number(_.nth(splitted, 2)));\n                    return { ...stage, deadline: new Date(date).toISOString() };\n                });\n            // throw error if overall no task stages found\n            const validTaskStages = task.stages.filter(stage => stage.title && stage.deadline);\n            if (validTaskStages.length + diff.length === 0) {\n                throw new NoStagesException();\n            }\n            if (!diff.length) {\n                return;\n            }\n            return addStages(context.courier, taskId, diff);\n        },\n        [context.courier, taskId],\n    );\n\n    const onTaskSaveCallback = useCallback((): void => {\n        const prevStatus = task.status;\n        // disallow update if task is not editable\n        if (!isTaskEditable(task)) {\n            return;\n        }\n        // sending from DRAFT to IN_PROGRESS\n        // only this transition is allowed\n        if (\n            task.status === ETaskStatus.DRAFT ||\n            task.status === ETaskStatus.ON_CHECK ||\n            task.status === ETaskStatus.EXPIRED\n        ) {\n            task.status = ETaskStatus.IN_PROGRESS;\n        }\n\n        const templateAssignmentExists = (assignment: TDocumentWithAnswers) =>\n            templates.find(template => template.id === assignment.id);\n\n        const templateIdToNumber = (template: TDocumentWithAnswers) => Number(template.id);\n\n        const callUpdateTemplateAssignment = ({ id, editable }: TDocumentWithAnswers) =>\n            updateTemplateAssignment(context.courier, taskId, Number(id), { editable });\n\n        const transformedTemplateAssignments = (task.templates || [])\n            .filter(templateAssignmentExists)\n            .map(templateIdToNumber);\n\n        const addAllTemplateAssignments = () =>\n            Promise.all(task.templates.map(callUpdateTemplateAssignment));\n\n        Promise.all([\n            addTemplateAssignment(\n                context.courier,\n                Number(taskId),\n                transformedTemplateAssignments,\n            ).then(addAllTemplateAssignments),\n            addTaskStages(task),\n        ])\n            .then(() => updateTask(context.courier, taskId, getTaskPayload(task)))\n            .then(() => {\n                updateTaskState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно обновлено\",\n                });\n            })\n            .catch((error: Error) => {\n                // rollback status\n                task.status = prevStatus;\n                let message = \"Не удалось обновить задание\";\n                if (error instanceof NoStagesException) {\n                    message = \"Заполнение этапов обязательно\";\n                }\n                context.setSnackbarState({ open: true, message });\n                context.setSnackbarError(true);\n            });\n    }, [addTaskStages, context, task, taskId, templates, updateTaskState]);\n\n    function onTaskWithdrawClick() {\n        if (task.status === ETaskStatus.IN_PROGRESS) {\n            task.status = ETaskStatus.ON_CHECK;\n        }\n        updateTask(context.courier, taskId, getTaskPayload(task))\n            .then(() => {\n                updateTaskState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно отозвано\",\n                });\n            })\n            .catch(() => {\n                context.setSnackbarState({ open: true, message: \"Не удалось отозвать задание\" });\n                context.setSnackbarError(true);\n            });\n        onMenuClose();\n    }\n\n    function onTaskCompleteClick() {\n        if (task.status === ETaskStatus.IN_PROGRESS || task.status === ETaskStatus.ON_CHECK) {\n            task.status = ETaskStatus.COMPLETED;\n        }\n        updateTask(context.courier, taskId, getTaskPayload(task))\n            .then(() => {\n                updateTaskState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно звершено\",\n                });\n            })\n            .catch(() => {\n                context.setSnackbarState({ open: true, message: \"Не удалось завершить задание\" });\n                context.setSnackbarError(true);\n            });\n        onMenuClose();\n    }\n\n    function onOpenSendMessageModel() {\n        onMenuClose();\n        setMessageModalOpen(true);\n    }\n\n    function onSubmitSendMessage(title: string, message: string) {\n        sendPushToken(context.courier, { title, body: message })\n            .then(() => {\n                setMessageModalOpen(false);\n                context.setSnackbarState({ open: true, message: \"Сообщение успешно отправлено\" });\n            })\n            .catch(() => {\n                setMessageModalOpen(false);\n                context.setSnackbarState({ open: true, message: \"Не удалось отправить сообщениу\" });\n                context.setSnackbarError(true);\n            });\n    }\n\n    function onMessageModalClose() {\n        setMessageModalOpen(false);\n    }\n\n    const onAddTaskDocument = useCallback(\n        (document: File) => {\n            addTaskDocument(context.courier, taskId, document)\n                .then(() => updateTaskState())\n                .catch(() => {\n                    context.setSnackbarState({ open: true, message: \"Не удалось сохранить файл\" });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, updateTaskState],\n    );\n\n    const onDeleteTaskDocument = useCallback(\n        (documentId: number) => {\n            deleteTaskDocument(context.courier, taskId, documentId)\n                .then(() => updateTaskState())\n                .catch(() => {\n                    context.setSnackbarState({ open: true, message: \"Не удалось удалить файл\" });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, updateTaskState],\n    );\n\n    const onAddComment = useCallback(\n        (comment: IComment) => {\n            addComment(context.courier, taskId, comment.idAssignment, comment.text)\n                .then(() => updateTaskState())\n                .catch(() => {\n                    context.setSnackbarState({\n                        open: true,\n                        message: \"Не удалось добавить комментарий\",\n                    });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, updateTaskState],\n    );\n\n    const onDeleteComment = useCallback(\n        (commentId: number) => {\n            deleteComment(context.courier, taskId, commentId)\n                .then(() => updateTaskState())\n                .catch(() => {\n                    context.setSnackbarState({\n                        open: true,\n                        message: \"Не удалось удалить комментарий\",\n                    });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, updateTaskState],\n    );\n\n    return (\n        <SectionLayout>\n            <SimpleModal width={370} open={messageModalOpen} onClose={onMessageModalClose}>\n                <SendMessageForm onSubmit={onSubmitSendMessage} />\n            </SimpleModal>\n            {redirect.trigger && <Redirect to={redirect.to} noThrow />}\n            <SectionTitle title=\"Информация о задании\">\n                <Grid item>\n                    <Grid container>\n                        <Grid item>\n                            {isTaskEditable(task) && (\n                                <Button\n                                    variant=\"contained\"\n                                    scheme=\"blue\"\n                                    css={theme => ({ margin: `0 ${theme.spacing(1)}` })}\n                                    onClick={onTaskSaveCallback}\n                                >\n                                    <SendIcon />\n                                    <Typography>Отправить</Typography>\n                                </Button>\n                            )}\n                        </Grid>\n                        {task.status !== ETaskStatus.DRAFT && (\n                            <React.Fragment>\n                                <Grid item>\n                                    <IconButton onClick={onMenuClick}>\n                                        <MoreVertIcon />\n                                    </IconButton>\n                                </Grid>\n                                <Menu\n                                    keepMounted\n                                    open={Boolean(menuAnchorElement)}\n                                    anchorEl={menuAnchorElement}\n                                    onClose={onMenuClose}\n                                >\n                                    <MenuItem onClick={onTaskReportClick}>\n                                        Посмотреть отчет\n                                    </MenuItem>\n                                    <MenuItem onClick={onTaskHistoryClick}>\n                                        Посмотреть истоию\n                                    </MenuItem>\n                                    {task.status === ETaskStatus.IN_PROGRESS && (\n                                        <MenuItem onClick={onTaskWithdrawClick}>\n                                            Отозвать задание\n                                        </MenuItem>\n                                    )}\n                                    {task.status !== ETaskStatus.COMPLETED && (\n                                        <MenuItem onClick={onTaskCompleteClick}>\n                                            Завершить задание\n                                        </MenuItem>\n                                    )}\n                                    <MenuItem onClick={onOpenSendMessageModel}>\n                                        Отправить сообщение\n                                    </MenuItem>\n                                </Menu>\n                            </React.Fragment>\n                        )}\n                    </Grid>\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                <TaskEditor<IExtendedTask>\n                    task={task}\n                    templates={isTaskEditable(task) ? templates : task.templates}\n                    variant=\"view\"\n                    onTaskChange={onTaskChange}\n                    onDeleteAsset={onDeleteTaskDocument}\n                    onAddAsset={onAddTaskDocument}\n                    onAddComment={onAddComment}\n                    onDeleteComment={onDeleteComment}\n                />\n            </Grid>\n        </SectionLayout>\n    );\n};\n\nfunction getTaskPayload(task: IExtendedTask) {\n    return _.omit(task, [\"id\", \"templates\", \"stages\"]);\n}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { EmptyList } from \"components/list\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { AppContext } from \"context\";\nimport * as _ from \"lodash\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getStagesWithFullHistory, IStageResponse } from \"services/api/tasks\";\n\ninterface ITaskHistoryProps {\n    taskId: number;\n}\n\nexport const TaskHistory: React.FC<ITaskHistoryProps> = ({ taskId }) => {\n    const [stages, setStages] = useState<IStageResponse[]>([]);\n    const [focusedBlockId, setFocusedBlockId] = useState(-1);\n    const context = useContext(AppContext);\n\n    useEffect(() => {\n        getStagesWithFullHistory(context.courier, taskId)\n            .then(response => {\n                setFocusedBlockId((_.last(response.stages) || { id: -1 }).id);\n                setStages(response.stages);\n            })\n            .catch(console.error);\n    }, [context.courier, taskId]);\n\n    return (\n        <SectionLayout>\n            <SectionTitle title=\"История изменений\" />\n            {!stages.length && <EmptyList title=\"Нет истории\" />}\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                {stages.map((stage, index) => {\n                    function onSelectableBlockFocus(): void {\n                        setFocusedBlockId(stage.id);\n                    }\n\n                    const last = index === stages.length - 1;\n\n                    return (\n                        <SelectableBlockWrapper\n                            key={stage.id}\n                            css={theme => ({\n                                padding: `${theme.spacing(3)} ${theme.spacing(4)}`,\n                                \"&:hover\": {\n                                    background: theme.colors.light,\n                                    \"> div:last-child\": { background: theme.colors.light },\n                                },\n                                zIndex: focusedBlockId === stage.id ? 1300 : \"initial\",\n                            })}\n                            focused={focusedBlockId === stage.id}\n                            onMouseDown={onSelectableBlockFocus}\n                            onFocus={onSelectableBlockFocus}\n                        >\n                            <Grid container spacing={2} css={{ position: \"relative\" }}>\n                                <Grid item>\n                                    <Grid container justify=\"flex-end\">\n                                        <div\n                                            css={theme => ({\n                                                width: theme.spacing(3),\n                                                height: theme.spacing(3),\n                                                borderRadius: \"50%\",\n                                                border: `2px solid ${theme.colors.primary}`,\n                                                zIndex: 1500,\n                                                color: stage.finished\n                                                    ? theme.colors.white\n                                                    : \"initial\",\n                                                position: \"relative\",\n                                                background: stage.finished\n                                                    ? theme.colors.primary\n                                                    : theme.colors.white,\n                                            })}\n                                        >\n                                            {stage.finished && <CheckIcon />}\n                                        </div>\n                                        {!last && (\n                                            <div\n                                                css={theme => ({\n                                                    width: theme.spacing(0.25),\n                                                    height: `calc(100% + ${theme.spacing()})`,\n                                                    background: theme.colors.lightGray,\n                                                    position: \"absolute\",\n                                                    top: theme.spacing(4),\n                                                    left: \"20.5px\", // TODO: dynamic calculation\n                                                    zIndex: 1400,\n                                                })}\n                                            />\n                                        )}\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={7}>\n                                    <Typography\n                                        component=\"span\"\n                                        css={theme => ({ fontSize: theme.fontSize.larger })}\n                                    >\n                                        {stage.title}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4}>\n                                    <Typography\n                                        css={theme => ({\n                                            textAlign: \"end\",\n                                            color: theme.colors.secondary,\n                                        })}\n                                    >\n                                        {getFriendlyDate(new Date(stage.deadline))}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    {(stage.history || []).map(history => (\n                                        <Grid container spacing={3} key={history.id}>\n                                            <Grid item>\n                                                <div\n                                                    css={theme => ({\n                                                        width: theme.spacing(3),\n                                                        height: theme.spacing(3),\n                                                        visibility: \"hidden\",\n                                                    })}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={1}>\n                                                <Typography\n                                                    css={theme => ({\n                                                        textAlign: \"end\",\n                                                        color: theme.colors.secondary,\n                                                    })}\n                                                >\n                                                    {getFriendlyDate(new Date(history.createdAt))}\n                                                </Typography>\n                                            </Grid>\n                                            <Grid item xs={10}>\n                                                <Typography>{history.description}</Typography>\n                                            </Grid>\n                                        </Grid>\n                                    ))}\n                                </Grid>\n                            </Grid>\n                        </SelectableBlockWrapper>\n                    );\n                })}\n            </Grid>\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button, InputField } from \"@magnit/components\";\nimport { SendIcon } from \"@magnit/icons\";\nimport * as React from \"react\";\nimport { useCallback, useState } from \"react\";\n\ninterface ISendReportFormProps {\n    onSubmit?(email: string): void;\n}\n\nexport const SendReportForm: React.FC<ISendReportFormProps> = props => {\n    const { onSubmit } = props;\n\n    const [email, setEmail] = useState(\"\");\n\n    const onSubmitCallback = useCallback(\n        (event: React.FormEvent) => {\n            event.preventDefault();\n            if (onSubmit) {\n                onSubmit(email);\n            }\n        },\n        [email, onSubmit],\n    );\n\n    function onEmailChange(event: React.ChangeEvent<HTMLInputElement>) {\n        setEmail(event.target.value);\n    }\n\n    return (\n        <form action=\"\" onSubmit={onSubmitCallback}>\n            <div\n                css={theme => ({\n                    fontSize: theme.fontSize.larger,\n                    marginBottom: theme.spacing(2),\n                })}\n            >\n                Введите email, на который будет отправлен отчет\n            </div>\n            <InputField\n                onChange={onEmailChange}\n                value={email}\n                placeholder=\"Эл. почта\"\n                autoFocus\n                type=\"email\"\n                required\n                fullWidth\n            />\n            <Button\n                type=\"submit\"\n                css={theme => ({\n                    display: \"flex\",\n                    margin: `${theme.spacing(6)} auto 0`,\n                })}\n            >\n                <SendIcon />\n                Отправить\n            </Button>\n        </form>\n    );\n};\n\nSendReportForm.displayName = \"SendReportForm\";\n","/** @jsx jsx */\n\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { jsx } from \"@emotion/core\";\nimport { EReportStatuses, IReportResponse } from \"services/api/tasks\";\n\ninterface IReportHeaderProps {\n    report: IReportResponse;\n    title: string;\n}\n\nconst reportStatusTranslations = {\n    [EReportStatuses.IN_PROGRESS]: \"В работе\",\n    [EReportStatuses.ON_CHECK]: \"На проверке\",\n    [EReportStatuses.DRAFT]: \"Draft\",\n    [EReportStatuses.COMPLETED]: \"Завершен\",\n};\n\nexport const ReportHeader: React.FC<IReportHeaderProps> = props => {\n    const headers = [\n        {\n            title: \"АДМИНИСТРАТОР\",\n            text: \"Терещенко Геннадий Владимирович\",\n        },\n        {\n            title: \"МЕСТОПОЛОЖЕНИЕ\",\n            text: \"Челябинская область, Челябинск, улица Железная, 5\",\n        },\n        {\n            title: \"ФОРМАТ ОБЪЕКТА\",\n            text: \"МК\",\n        },\n        {\n            title: \"ДАТА СОЗДАНИЯ\",\n            text: getFriendlyDate(new Date(props.report.createdAt)),\n        },\n        {\n            title: \"СТАТУС\",\n            text: reportStatusTranslations[props.report.status],\n        },\n    ];\n\n    return (\n        <SelectableBlockWrapper>\n            <Grid css={theme => ({ padding: theme.spacing(4) })}>\n                <Typography css={theme => ({ fontSize: theme.fontSize.normal })}>\n                    {props.title}\n                </Typography>\n\n                <Grid\n                    container\n                    spacing={2}\n                    justify=\"space-between\"\n                    css={theme => ({ marginTop: theme.spacing(2) })}\n                >\n                    {headers.map((field, fieldKey) => (\n                        <Grid item xs={12} md=\"auto\" key={fieldKey}>\n                            <Grid\n                                css={theme => ({\n                                    color: theme.colors.gray,\n                                    fontSize: theme.fontSize.sNormal,\n                                    marginBottom: theme.spacing(1),\n                                })}\n                            >\n                                {field.title}\n                            </Grid>\n                            <Grid css={theme => ({ fontSize: theme.fontSize.normal })}>\n                                {field.text}\n                            </Grid>\n                        </Grid>\n                    ))}\n                </Grid>\n            </Grid>\n        </SelectableBlockWrapper>\n    );\n};\n\nReportHeader.displayName = \"ReportHeader\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { IColumn, TableWrapper } from \"@magnit/components\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { IReportStageTemplate } from \"services/api/tasks\";\n\nconst columns: IColumn[] = [\n    { key: \"index\", label: \"№\" },\n    { key: \"title\", label: \"Название шаблона\" },\n    { key: \"createdAt\", label: \"Дата добавления\" },\n    { key: \"version\", label: \"Количество правок\" },\n];\n\ninterface ITaskStageProps {\n    title: string;\n    deadline: string;\n    templates: IReportStageTemplate[];\n}\n\nexport const ReportStage: React.FC<ITaskStageProps> = props => {\n    const transformedTemplateData = props.templates.map((template, templateIndex) => ({\n        selected: false,\n        index: templateIndex + 1,\n        title: template.title,\n        createdAt: getFriendlyDate(new Date(template.createdAt)),\n        version: template.version,\n    }));\n\n    return (\n        <React.Fragment>\n            <Typography\n                component=\"div\"\n                css={theme => ({\n                    fontSize: theme.fontSize.larger,\n                    marginBottom: theme.spacing(2),\n                })}\n            >\n                {props.title} ({getFriendlyDate(new Date(props.deadline))})\n            </Typography>\n            <div\n                css={theme => ({\n                    color: theme.colors.gray,\n                    fontSize: theme.fontSize.normal,\n                    marginBottom: theme.spacing(),\n                })}\n            >\n                <span css={{ fontWeight: 500 }}>Исполнитель:</span> Рукастый Иннокентий Петрович\n            </div>\n            <TableWrapper\n                hover={false}\n                pagination={false}\n                columns={columns}\n                data={transformedTemplateData}\n            />\n        </React.Fragment>\n    );\n};\n\nReportStage.displayName = \"ReportStage\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\ninterface IVerticalStepperProps {\n    focused?: boolean;\n    checked?: boolean;\n    index?: number;\n    first?: boolean;\n    last?: boolean;\n\n    onMouseDown?(): void;\n\n    onFocus?(): void;\n}\n\nexport const VerticalStepper: React.FC<IVerticalStepperProps> = props => {\n    const { index, onMouseDown, onFocus, focused, last, checked, first, children } = props;\n    return (\n        <SelectableBlockWrapper\n            css={theme => ({\n                padding: `${theme.spacing(3)} ${theme.spacing(4)}`,\n                \"&:hover\": { background: theme.colors.light },\n                zIndex: focused ? 1300 : \"initial\",\n            })}\n            focused={focused}\n            onMouseDown={onMouseDown}\n            onFocus={onFocus}\n        >\n            <Grid container spacing={2}>\n                <Grid item css={{ position: \"relative\" }}>\n                    <div\n                        css={theme => ({\n                            width: theme.spacing(3),\n                            height: theme.spacing(3),\n                            borderRadius: \"50%\",\n                            border: `2px solid ${theme.colors.primary}`,\n                            zIndex: 2,\n                            color: checked ? theme.colors.white : \"initial\",\n                            background: checked ? theme.colors.primary : theme.colors.white,\n                            position: \"relative\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                        })}\n                    >\n                        {checked && <CheckIcon />}\n                        {!checked && index && (\n                            <div\n                                css={theme => ({\n                                    fontSize: theme.fontSize.small,\n                                    color: theme.colors.primary,\n                                })}\n                            >\n                                {index}\n                            </div>\n                        )}\n                    </div>\n                    {!first && (\n                        <div\n                            css={theme => ({\n                                width: theme.spacing(0.25),\n                                height: theme.spacing(3),\n                                background: theme.colors.lightGray,\n                                position: \"absolute\",\n                                top: theme.spacing(-2),\n                                left: 0,\n                                right: 0,\n                                margin: \"auto\",\n                                zIndex: 1,\n                            })}\n                        />\n                    )}\n                    {!last && (\n                        <div\n                            css={theme => ({\n                                width: theme.spacing(0.25),\n                                height: `calc(100% - ${theme.spacing(2)})`,\n                                background: theme.colors.lightGray,\n                                position: \"absolute\",\n                                top: theme.spacing(4),\n                                left: 0,\n                                right: 0,\n                                margin: \"auto\",\n                                zIndex: 1,\n                            })}\n                        />\n                    )}\n                </Grid>\n                <Grid item>{children}</Grid>\n            </Grid>\n        </SelectableBlockWrapper>\n    );\n};\n\nVerticalStepper.displayName = \"VerticalStepper\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid, IconButton, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon } from \"@material-ui/icons\";\nimport { SimpleModal } from \"components/modal\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { ReportHeader, ReportStage, SendReportForm } from \"components/task-report\";\nimport { AppContext } from \"context\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getTaskReport, IReportResponse } from \"services/api/tasks\";\nimport { VerticalStepper } from \"../../components/vertical-stepper\";\n\ninterface ITaskReportProps {\n    taskId: number;\n}\n\nexport const TaskReport: React.FC<ITaskReportProps> = ({ taskId }) => {\n    const [focusedBlockId, setFocusedBlockId] = useState(-1);\n    const [menuAnchorElement, setMenuAnchorElement] = useState<null | HTMLElement>(null);\n    const [reportModalOpen, setReportModalOpen] = useState(false);\n    const [report, setReport] = useState<IReportResponse | null>(null);\n    const context = useContext(AppContext);\n\n    useEffect(() => {\n        getTaskReport(context.courier, taskId)\n            .then(response => setReport(response.report))\n            .catch(console.error);\n    }, [context.courier, taskId]);\n\n    function onMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        setMenuAnchorElement(event.currentTarget);\n    }\n    function onMenuClose() {\n        setMenuAnchorElement(null);\n    }\n    function onOpenSendReportMenuItem() {\n        onMenuClose();\n        setReportModalOpen(true);\n    }\n    function onSubmitSendReport(email: string) {\n        setReportModalOpen(false);\n    }\n\n    function onPopupClose() {\n        setReportModalOpen(false);\n    }\n\n    return (\n        <SectionLayout>\n            {/* send report popup */}\n            <SimpleModal width={370} open={reportModalOpen} onClose={onPopupClose}>\n                <SendReportForm onSubmit={onSubmitSendReport} />\n            </SimpleModal>\n\n            {/* top bar */}\n            <SectionTitle title=\"Отчет по заданию\">\n                <Grid item>\n                    <IconButton onClick={onMenuClick}>\n                        <MoreVertIcon />\n                    </IconButton>\n                </Grid>\n                <Menu\n                    keepMounted\n                    open={Boolean(menuAnchorElement)}\n                    anchorEl={menuAnchorElement}\n                    onClose={onMenuClose}\n                >\n                    <MenuItem onClick={onMenuClose}>Скачать отчет (.xls)</MenuItem>\n                    <MenuItem onClick={onOpenSendReportMenuItem}>Отправить на email</MenuItem>\n                </Menu>\n            </SectionTitle>\n\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                {/* report headers */}\n                {report && <ReportHeader title={report.title} report={report} />}\n\n                {report && report.stages.length > 0 && (\n                    <Typography\n                        css={({ spacing, fontSize, colors }) => ({\n                            fontSize: fontSize.large,\n                            padding: ` ${spacing(5)} ${spacing(4)} ${spacing()} `,\n                            backgroundColor: colors.white,\n                        })}\n                    >\n                        Этапы работы\n                    </Typography>\n                )}\n\n                {/* report stages */}\n                {report &&\n                    report.stages.map((stage, index) => {\n                        function onMouseDown() {\n                            setFocusedBlockId(stage.id);\n                        }\n\n                        function onFocus() {\n                            setFocusedBlockId(stage.id);\n                        }\n\n                        const friendlyIndex = index + 1;\n\n                        return (\n                            <VerticalStepper\n                                key={stage.id}\n                                index={friendlyIndex}\n                                checked={stage.finished}\n                                focused={focusedBlockId === stage.id}\n                                onMouseDown={onMouseDown}\n                                onFocus={onFocus}\n                                first={!index}\n                                last={friendlyIndex === report.stages.length}\n                            >\n                                <ReportStage\n                                    title={stage.title}\n                                    deadline={stage.deadline}\n                                    templates={stage.templates}\n                                />\n                            </VerticalStepper>\n                        );\n                    })}\n            </Grid>\n        </SectionLayout>\n    );\n};\n","export * from \"./TasksList\";\nexport * from \"./CreateTask\";\nexport * from \"./ViewTask\";\nexport * from \"./TaskHistory\";\nexport * from \"./TaskReport\";\n"],"sourceRoot":""}