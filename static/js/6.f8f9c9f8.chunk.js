(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{216:function(e,t,n){"use strict";var r=n(16),o=n(2),i=n(191),u=n(105),s=n(197);function l(){var e=Object(r.a)(["\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                "]);return l=function(){return e},e}function a(){var e=Object(r.a)(["\n                height: var(--section-title-height);\n            "]);return a=function(){return e},e}var c=function(e){var t=e.title,n=e.children;return Object(o.jsx)(i.a,{item:!0,css:Object(o.css)(a())},Object(o.jsx)(u.a,{square:!0,css:Object(o.css)(l()),elevation:0},Object(o.jsx)(i.a,{container:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},Object(o.jsx)(i.a,{item:!0,xs:!0},Object(o.jsx)(s.a,{variant:"h4",component:"div"},Object(o.jsx)("span",null,t))),n)))};n.d(t,"a",function(){return c})},217:function(e,t,n){"use strict";var r=n(16),o=n(2),i=n(191);function u(){var e=Object(r.a)(["\n                width: 100%;\n                min-height: 100vh;\n            "]);return u=function(){return e},e}var s=function(e){var t=e.children;return Object(o.jsx)(i.a,{container:!0,direction:"column",css:Object(o.css)(u())},t)};n.d(t,"a",function(){return s})},221:function(e,t,n){"use strict";var r=n(222),o=n(2),i=n(218),u=function(e){var t=e.children,n=Object(r.a)(e,["children"]);return Object(o.jsx)(i.a,Object.assign({},n,{variant:"contained",css:function(e){return{background:e.colors.primary,":hover":{background:e.colors.primary},color:"white",textTransform:"none",borderRadius:e.radius(5)}}}),t)};n.d(t,"a",function(){return u})},228:function(e,t,n){var r,o,i,u,s;window,e.exports=(r=n(2),o=n(37),i=n(0),u=n(220),s=n(85),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=i(n(2)),a=n(2),c=n(7),p=n(41),d=n(4),f=u(n(14)),y=n(6),z=u(n(10)),j=n(9),v=n(47);t.EditorContext=l.createContext(z.default.stubObject()),t.TemplateEditor=function(e){var n=a.useState(e.initialState||{id:f.default(),sections:[],puzzles:[],title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY}),i=n[0],u=n[1],l=a.useState(0),x=l[0],h=l[1],m=a.useState([i.id]),g=m[0],b=m[1];function O(e){e.preventDefault(),e.stopPropagation()}window.template=i,a.useEffect(function(){if(g.length){var e=z.default.head(g);if(e){var t=document.getElementById(e);if(t){var n=t.getBoundingClientRect().top;h(window.scrollY+n-128);var r=document.querySelector(".toolbar");r&&(r.style.willChange="transform",setTimeout(function(){return r.style.willChange="initial"},300))}}}},[g]);var P=z.default.throttle(function(){g.length=0},100);function E(e){P(),g.includes(e)?b(g.slice()):(g.push(e),b(g.slice()))}var _=z.default.head(g);return s.jsx(t.EditorContext.Provider,{value:{template:i,onTemplateChange:function(e){u(o({},e))},onAddAnswerPuzzle:function(e){y.traverse(i,function(t){if("object"===r(t)&&"id"in t){var n=t;if("puzzles"in n&&n.puzzles.some(function(t){return t.id===e})){var o=z.default.last(n.puzzles)||{order:-1,puzzleType:c.ETerminals.EMPTY};n.puzzles.push({id:f.default(),title:"",puzzles:[],puzzleType:o.puzzleType,order:o.order+1,conditions:[],description:"",validations:[]})}}}),u(o({},i))},onDeleteAnswerPuzzle:function(e){y.traverse(i,function(t){if("object"===r(t)&&"id"in t){var n=t;if("puzzles"in n&&n.puzzles.some(function(t){return t.id===e})&&1!==n.puzzles.length){var i=n.puzzles.findIndex(function(t){return t.id===e});console.log("%c%s","color:#094349","index",i),n.puzzles.splice(i,1),n.puzzles=n.puzzles.map(function(e,t){return o({order:t},e)})}}}),u(o({},i))}}},s.jsx(d.PuzzleToolbar,{top:x,onAddClick:function(){var e=[d.EPuzzleType.GROUP];y.traverse(i,function(t){if(g.length&&"object"===r(t)&&"id"in t){var n=z.default.head(g);if(t.id===n&&g.includes(t.id)&&(!("puzzleType"in t)||e.includes(t.puzzleType))){var o=t,i=o.puzzles[o.puzzles.length-1];o.puzzles.push({id:f.default(),puzzles:[{id:f.default(),puzzleType:d.EPuzzleType.TEXT_ANSWER,title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY,order:0,puzzles:[],conditions:[],validations:[]}],validations:[],conditions:[],title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY,puzzleType:d.EPuzzleType.QUESTION,order:(i||{order:-1}).order+1})}}}),u(o({},i))},onAddGroup:function(){y.traverse(i,function(e){if(g.length&&"object"===r(e)&&"id"in e){var t=z.default.head(g);if(e.id===t&&g.includes(e.id)&&!("puzzleType"in e)){var n=e,o=n.puzzles[n.puzzles.length-1];n.puzzles.push({id:f.default(),puzzles:[],validations:[],conditions:[],description:c.ETerminals.EMPTY,title:c.ETerminals.EMPTY,puzzleType:d.EPuzzleType.GROUP,order:(o||{order:-1}).order+1})}}}),u(o({},i))},onAddSection:function(){var e=i.sections[i.sections.length-1];i.sections.push({id:f.default(),puzzles:[],title:c.ETerminals.EMPTY,order:(e||{order:-1}).order+1}),u(o({},i))}}),s.jsx(j.SelectableBlockWrapper,{id:i.id,styles:function(e){return{paddingTop:e.spacing(3),marginBottom:e.spacing(2)}},focused:_===i.id,onFocus:E.bind(void 0,i.id),onMouseDown:E.bind(void 0,i.id),onBlur:O},s.jsx(v.ContentSection,{template:i,focused:_===i.id},s.jsx(v.Content,{puzzles:i.puzzles,onFocus:E,onBlur:O,isFocused:function(e){return e===_}}))),i.sections.map(function(e,t){var n=_===e.id;return s.jsx(j.SelectableBlockWrapper,{key:e.id,id:e.id,styles:function(e){return{marginTop:e.spacing(4),marginBottom:e.spacing(2),paddingTop:e.spacing(2)}},onFocus:E.bind(null,e.id),onMouseDown:E.bind(null,e.id),onBlur:O,focused:n},s.jsx(p.SectionPuzzle,{title:e.title,id:e.id,index:t,focused:n},s.jsx(v.Content,{puzzles:e.puzzles,onFocus:E,onBlur:O,isFocused:function(e){return e===_}})))}))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(26)),r(n(28)),r(n(13)),r(n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(46))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(36)),r(n(37)),r(n(38)),r(n(39)),r(n(40))},function(e,t){e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(27))},function(e,t){e.exports=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(4)),r(n(7)),r(n(3))},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0);t.PuzzleWrapper=function(e){var t=e.children,n=e.id,u=r(e,["children","id"]);return i.jsx(o.Grid,{id:n,container:!0,direction:"column",css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}},onFocus:u.onFocus,onMouseDown:u.onFocus,onBlur:u.onBlur},i.jsx(o.Grid,{item:!0},t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GROUP="group",e.QUESTION="question",e.RADIO_ANSWER="radio_answer",e.CHECKBOX_ANSWER="checkbox_answer",e.DROPDOWN_ANSWER="dropdown_answer",e.REFERENCE_ANSWER="reference_answer",e.UPLOAD_FILES="upload_files",e.DATE_ANSWER="date_answer",e.TEXT_ANSWER="text_answer",e.NUMERIC_ANSWER="numeric_answer"}(t.EPuzzleType||(t.EPuzzleType={}))},function(e,t,n){var r=n(44),o=n(45);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var s=0;s<16;++s)t[i+s]=u[s];return t||o(u)}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(4),u=n(48);t.ContentItem=function(e){var t=e.puzzle,n=e.parentPuzzle,s=r(e,["puzzle","parentPuzzle"]),l=u.getPuzzleFactory(t.puzzleType).createPuzzle({focused:!!s.active,puzzle:t,index:s.index,parentPuzzle:n});return o.jsx(i.PuzzleWrapper,{id:t.id,onFocus:s.onFocus,onMouseDown:s.onFocus,onBlur:s.onBlur},l)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(7),a=n(1),c=n(0),p=n(4),d=n(6),f=u(n(10)),y=n(5),z=[{label:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435",type:p.EPuzzleType.TEXT_ANSWER},{label:"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435",type:p.EPuzzleType.NUMERIC_ANSWER},{label:"\u041e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",type:p.EPuzzleType.RADIO_ANSWER},{label:"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",type:p.EPuzzleType.CHECKBOX_ANSWER},{label:"\u0414\u0430\u0442\u0430",type:p.EPuzzleType.DATE_ANSWER},{label:"\u0412\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",type:p.EPuzzleType.DROPDOWN_ANSWER}];t.QuestionPuzzle=function(e){var t=e.template,n=e.id,u=i(e,["template","id"]),p=s.useState(l.ETerminals.EMPTY),j=p[0],v=p[1],x=s.useState(u.title),h=x[0],m=x[1],g=s.useRef({}),b=s.useRef(l.ETerminals.EMPTY);return s.useEffect(function(){d.traverse(t,function(e){if("object"===r(e)&&"puzzles"in e){var t=e;if("id"in t&&t.id===n){var i=j;if(!i){var u=f.default.head(t.puzzles)||{puzzleType:l.ETerminals.EMPTY};v(u.puzzleType),i=u.puzzleType}t.puzzles.length&&(j!==b.current&&(t.puzzles.length=1),t.puzzles=t.puzzles.map(function(e){return o({},e,{puzzleType:i,title:j===b.current?e.title:""})}),t.title=h,b.current=i)}}}),f.default.isEqual(t,g.current)||f.default.isEmpty(g.current)?g.current=f.default.cloneDeep(t):(g.current=f.default.cloneDeep(t),u.onTemplateChange(g.current))},[j,h,t]),u.focused?c.jsx(a.Grid,{container:!0,direction:"column"},c.jsx(a.Grid,{item:!0,xs:12},c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{css:function(e){return{fontSize:e.fontSize.medium,marginBottom:e.spacing(.25)}}},u.index+1,".")),c.jsx(a.Grid,{item:!0,xs:!0,style:{paddingLeft:0}},c.jsx(y.InputField,{fullWidth:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",value:h,onChange:function(e){m(e.target.value)}})),c.jsx(a.Grid,{item:!0,xs:3},c.jsx(a.FormControl,{fullWidth:!0},c.jsx(a.Select,{value:j,input:c.jsx(a.Input,{id:"question-puzzle-type"}),onChange:function(e){v(e.target.value)}},z.map(function(e,t){var n=e.label,r=e.type;return c.jsx(a.MenuItem,{value:r,key:t},n)}))))))):c.jsx(a.Grid,{container:!0,direction:"column"},c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{variant:"body1"},c.jsx(a.Typography,{component:"span",css:function(e){return{paddingRight:e.spacing()}}},u.index+1,"."),h)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1);t.GroupPuzzle=function(){return r.jsx(o.Grid,{container:!0,direction:"column"},r.jsx(o.Grid,{item:!0,css:function(e){return{marginRight:e.spacing(2)}}},r.jsx(o.Typography,{variant:"h6"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432")))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(2)),l=n(2),a=n(1),c=n(0),p=n(6),d=n(8),f=n(5);t.DropdownAnswerPuzzle=function(e){var t=i(e,[]),n=l.useState(t.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(t.index+1)),u=n[0],y=n[1];return l.useEffect(function(){p.traverse(t.template,function(e){if("object"===r(e)&&"puzzles"in e){var n=e;"id"in n&&n.id===t.id&&(n.title=u)}}),t.onTemplateChange(o({},t.template))},[u]),t.questionFocused?c.jsx(s.Fragment,null,c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{css:function(e){return{fontSize:e.fontSize.medium,marginBottom:e.spacing(.25)}}},t.index+1,".")),c.jsx(a.Grid,{item:!0,xs:!0},c.jsx(f.InputField,{fullWidth:!0,value:u,onChange:function(e){y(e.target.value)}})),c.jsx(a.Grid,{item:!0,css:function(e){return{padding:e.spacing(.25)+" !important"}}},c.jsx(a.IconButton,{onClick:function(){t.onDeleteDropdownButton(t.id)}},c.jsx(d.Close,null)))),t.addDropdownButton&&t.questionFocused&&c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{css:function(e){return{fontSize:e.fontSize.medium,marginBottom:e.spacing(.25)}}},t.index+2,".")),c.jsx(a.Grid,{item:!0,xs:!0,css:function(e){return{paddingTop:"0 !important",paddingRight:e.spacing(4)}}},c.jsx(f.InputField,{fullWidth:!0,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442",onClick:function(){t.onAddDropdownButton(t.id)}})),c.jsx(a.Grid,{item:!0}))):c.jsx(a.Grid,{container:!0,direction:"column",css:function(e){return{paddingLeft:e.spacing(2)}}},c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{variant:"body1"},c.jsx(a.Typography,{component:"span",css:function(e){return{paddingRight:e.spacing()}}},t.index+1,"."),u)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(8);t.DateAnswerPuzzle=function(e){var t=e.questionFocused;return o.jsx(r.Grid,{container:!0,alignItems:"flex-end",css:function(e){return{paddingBottom:e.spacing(2),display:t?"":"none"}}},o.jsx(r.Grid,{item:!0,xs:12},o.jsx(r.FormControl,{disabled:!0},o.jsx(r.InputLabel,{htmlFor:"date-answer-puzzle"},"\u0414\u0435\u043d\u044c, \u043c\u0435\u0441\u044f\u0446, \u0433\u043e\u0434"),o.jsx(r.Input,{id:"date-answer-puzzle",type:"text",endAdornment:o.jsx(r.InputAdornment,{position:"end"},o.jsx(i.CalendarToday,null))}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0),i=n(5);t.TextAnswerPuzzle=function(e){var t=e.questionFocused;return o.jsx(r.Grid,{container:!0,alignItems:"flex-end",css:function(e){return{paddingBottom:e.spacing(2),display:t?"":"none"}}},o.jsx(r.Grid,{item:!0,xs:12},o.jsx(i.InputField,{disabled:!0,type:"text",fullWidth:!0,placeholder:"\u041e\u0442\u0432\u0435\u0442"})))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(2)),l=n(2),a=n(1),c=n(0),p=n(6),d=n(8),f=n(5);t.CheckboxAnswerPuzzle=function(e){var t=i(e,[]),n=l.useState(t.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(t.index+1)),u=n[0],y=n[1];return l.useEffect(function(){p.traverse(t.template,function(e){if("object"===r(e)&&"puzzles"in e){var n=e;"id"in n&&n.id===t.id&&(n.title=u)}}),t.onTemplateChange(o({},t.template))},[u]),t.questionFocused?c.jsx(s.Fragment,null,c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Checkbox,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing(),paddingBottom:e.spacing(.5)}}})),c.jsx(a.Grid,{item:!0,xs:!0,style:{paddingLeft:0}},c.jsx(f.InputField,{fullWidth:!0,value:u,onChange:function(e){y(e.target.value)}})),c.jsx(a.Grid,{item:!0,css:function(e){return{padding:e.spacing(.25)+" !important"}}},c.jsx(a.IconButton,{onClick:function(){t.onDeleteCheckboxButton(t.id)}},c.jsx(d.Close,null)))),t.addCheckboxButton&&c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Checkbox,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing(),paddingBottom:e.spacing(.5)}}})),c.jsx(a.Grid,{item:!0,xs:!0,css:function(e){return{paddingTop:"0 !important",paddingLeft:"0 !important",paddingRight:e.spacing(4)}}},c.jsx(f.InputField,{fullWidth:!0,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442",onClick:function(){t.onAddCheckboxButton(t.id)}})),c.jsx(a.Grid,{item:!0}))):c.jsx(a.Grid,{container:!0,alignItems:"center"},c.jsx(a.Grid,{item:!0},c.jsx(a.Checkbox,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing()}}})),c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{variant:"body1"},u)))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(2)),l=n(2),a=n(1),c=n(0),p=n(6),d=n(8),f=n(5);t.RadioAnswerPuzzle=function(e){var t=e.template,n=i(e,["template"]),u=l.useState(n.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(n.index+1)),y=u[0],z=u[1];return l.useEffect(function(){p.traverse(t,function(e){if("object"===r(e)&&"puzzles"in e){var t=e;"id"in t&&t.id===n.id&&(t.title=y)}}),n.onTemplateChange(o({},t))},[y]),n.questionFocused?c.jsx(s.Fragment,null,c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Radio,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing(),paddingBottom:e.spacing(.5)}}})),c.jsx(a.Grid,{item:!0,xs:!0,style:{paddingLeft:0}},c.jsx(f.InputField,{fullWidth:!0,value:y,onChange:function(e){z(e.target.value)}})),c.jsx(a.Grid,{item:!0,css:function(e){return{padding:e.spacing(.25)+" !important"}}},c.jsx(a.IconButton,{onClick:function(){n.onDeleteRadioButton(n.id)}},c.jsx(d.Close,null)))),n.addRadioButton&&c.jsx(a.Grid,{container:!0,alignItems:"flex-end",spacing:2},c.jsx(a.Grid,{item:!0},c.jsx(a.Radio,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing(),paddingBottom:e.spacing(.5)}}})),c.jsx(a.Grid,{item:!0,xs:!0,css:function(e){return{paddingTop:"0 !important",paddingLeft:"0 !important",paddingRight:e.spacing(4)}}},c.jsx(f.InputField,{fullWidth:!0,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442",onClick:function(){n.onAddRadioButton(n.id)}})),c.jsx(a.Grid,{item:!0}))):c.jsx(a.Grid,{container:!0,alignItems:"center"},c.jsx(a.Grid,{item:!0},c.jsx(a.Radio,{disabled:!0,css:function(e){return{marginLeft:"-"+e.spacing()}}})),c.jsx(a.Grid,{item:!0},c.jsx(a.Typography,{variant:"body1"},y)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(5);t.NumericAnswerPuzzle=function(e){var t=e.questionFocused;return r.jsx(o.Grid,{container:!0,alignItems:"flex-end",css:function(e){return{paddingBottom:e.spacing(2),display:t?"":"none"}}},r.jsx(o.Grid,{item:!0,xs:12},r.jsx(i.InputField,{disabled:!0,type:"number",fullWidth:!0,placeholder:"\u041e\u0442\u0432\u0435\u0442"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(0),i=n(4),u=n(15),s=n(67);t.ContentGroup=function(e){var n=e.isFocused,l=e.item,a=e.parentItem;function c(){e.onFocus(l.id)}var p=n(l.id),d=l.puzzleType===i.EPuzzleType.GROUP,f=!p&&d;return o.jsx(r.SelectableBlockWrapper,{onFocus:c,onMouseDown:c,onBlur:e.onBlur,focused:p,styles:function(e){return{position:"relative",paddingTop:e.spacing(2),paddingBottom:e.spacing(2),zIndex:p?1300:0}}},o.jsx("div",{css:function(e){return{paddingLeft:a?e.spacing(4):0}},style:{borderTop:f?"1px dashed #AAB4BE":"none",borderBottom:f?"1px dashed #AAB4BE":"none"}},o.jsx(u.ContentItem,{puzzle:l,parentPuzzle:a,index:e.index,active:p,onFocus:c,onBlur:e.onBlur}),l.puzzles.map(function(r,s){return r.puzzleType===i.EPuzzleType.QUESTION?o.jsx(t.ContentGroup,{key:r.id,item:r,onFocus:e.onFocus,onBlur:e.onBlur,isFocused:n,index:s,parentItem:l}):o.jsx(u.ContentItem,{puzzle:r,index:s,active:p,onFocus:c,onBlur:e.onBlur,key:r.id,parentPuzzle:l})}),o.jsx(s.ContentConditions,{puzzleId:l.id,focused:p,puzzleType:l.puzzleType})))}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(n(2)),u=n(4),s=n(7),l=n(1),a=function(){function e(e){this.options=e}return e.getActionLiteral=function(e){var t;return(t={},t[s.EActionType.CHOSEN_ANSWER]="\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0442\u0432\u0435\u0442",t[s.EActionType.NOT_EQUAL]="\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",t[s.EActionType.MORE_THAN]="\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",t[s.EActionType.LESS_THAN]="\u041c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",t[s.EActionType.EQUAL]="\u0420\u0430\u0432\u043d\u043e",t[s.EActionType.GIVEN_ANSWER]="\u0414\u0430\u043d \u043e\u0442\u0432\u0435\u0442",t[s.EActionType.NONE]=s.ETerminals.EMPTY,t)[e]},e.prototype.getActionVariants=function(){switch(this.options.puzzleType){case u.EPuzzleType.TEXT_ANSWER:case u.EPuzzleType.NUMERIC_ANSWER:case u.EPuzzleType.DATE_ANSWER:return[o.jsx(l.MenuItem,{key:s.EActionType.EQUAL,value:s.EActionType.EQUAL},e.getActionLiteral(s.EActionType.EQUAL)),o.jsx(l.MenuItem,{key:s.EActionType.LESS_THAN,value:s.EActionType.LESS_THAN},e.getActionLiteral(s.EActionType.LESS_THAN)),o.jsx(l.MenuItem,{key:s.EActionType.MORE_THAN,value:s.EActionType.MORE_THAN},e.getActionLiteral(s.EActionType.MORE_THAN)),o.jsx(l.MenuItem,{key:s.EActionType.NOT_EQUAL,value:s.EActionType.NOT_EQUAL},e.getActionLiteral(s.EActionType.NOT_EQUAL)),o.jsx(l.MenuItem,{key:s.EActionType.GIVEN_ANSWER,value:s.EActionType.GIVEN_ANSWER},e.getActionLiteral(s.EActionType.GIVEN_ANSWER))];case u.EPuzzleType.DROPDOWN_ANSWER:case u.EPuzzleType.RADIO_ANSWER:case u.EPuzzleType.CHECKBOX_ANSWER:return[o.jsx(l.MenuItem,{key:s.EActionType.CHOSEN_ANSWER,value:s.EActionType.CHOSEN_ANSWER},e.getActionLiteral(s.EActionType.CHOSEN_ANSWER)),o.jsx(l.MenuItem,{key:s.EActionType.GIVEN_ANSWER,value:s.EActionType.GIVEN_ANSWER},e.getActionLiteral(s.EActionType.GIVEN_ANSWER))];default:return[o.jsx(l.MenuItem,{key:s.EActionType.GIVEN_ANSWER,value:s.EActionType.GIVEN_ANSWER},e.getActionLiteral(s.EActionType.GIVEN_ANSWER))]}},e.prototype.getAnswerPuzzle=function(e,t){var n=this.options.condition;switch(n.actionType){case s.EActionType.CHOSEN_ANSWER:return function(r){return o.jsx(l.FormControl,{fullWidth:!0},o.jsx(l.InputLabel,{htmlFor:"answer-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442"),o.jsx(l.Select,{onChange:r,value:n.answerPuzzle||s.ETerminals.EMPTY,input:o.jsx(l.Input,{id:"answer-puzzle"})},0===e.length&&o.jsx(l.MenuItem,null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"),0!==e.length&&e.filter(function(e){var r=t.find(function(e){return n.questionPuzzle===e.id});return!!r&&r.puzzles.some(function(t){return t.id===e.id})}).map(function(e){return o.jsx(l.MenuItem,{key:e.id,value:e.id},e.title)})))};case s.EActionType.EQUAL:case s.EActionType.LESS_THAN:case s.EActionType.MORE_THAN:case s.EActionType.NOT_EQUAL:return function(e){return o.jsx(l.TextField,{value:n.value,onChange:e,css:function(e){return{marginTop:e.spacing(-2)}},label:"\u041e\u0442\u0432\u0435\u0442"})};case s.EActionType.GIVEN_ANSWER:default:return function(){return o.jsx(i.Fragment,null)}}},e.prototype.getConditionLiteral=function(){var e;return 0===this.options.index?"\u0415\u0441\u043b\u0438":(e={},e[s.EConditionType.AND]="\u0418",e[s.EConditionType.OR]="\u0418\u043b\u0438",e)[this.options.condition.conditionType]},e}();t.ConditionService=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(2)),s=n(0),l=n(12),a=n(13),c=n(9);t.Puzzle=function(e){var n=e.puzzles,i=o(e,["puzzles"]);return s.jsx(u.Fragment,null,n.map(function(e,o){function p(){i.onFocus(e.id)}var d={index:o,id:e.id},f=r({},d,{title:e.title,questionFocused:o===n.length-1});switch(e.puzzleType){case a.EPuzzleType.GROUP:return s.jsx(c.SelectableBlockWrapper,{key:e.id,id:e.id,onFocus:p,onMouseDown:p,onBlur:i.onBlur,styles:function(t){return{position:"relative",paddingTop:t.spacing(2),marginTop:t.spacing(0===o?4:0),paddingBottom:t.spacing(2),marginBottom:t.spacing(o===n.length-1?4:0),zIndex:i.isFocused(e.id)?1300:i.isInFocusedChain(e.id)?1200:0}},square:!0,focused:i.isFocused(e.id)},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.GROUP](d)),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.QUESTION:return s.jsx(c.SelectableBlockWrapper,{key:e.id,id:e.id,styles:function(t){return{position:"relative",paddingTop:t.spacing(2),marginTop:t.spacing(0===o?2:0),paddingBottom:t.spacing(2),marginBottom:t.spacing(o===n.length-1?0:2),zIndex:i.isFocused(e.id)?1300:0}},onFocus:p,onMouseDown:p,onBlur:i.onBlur,square:!0,focused:i.isFocused(e.id)},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.QUESTION](f)),s.jsx(t.Puzzle,r({questionFocused:i.isFocused(e.id),puzzles:e.puzzles,index:i.index,onMouseDown:p},i)));case a.EPuzzleType.TEXT_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.TEXT_ANSWER](d)),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.DATE_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.DATE_ANSWER](d)),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.NUMERIC_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.NUMERIC_ANSWER](d)),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.RADIO_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.RADIO_ANSWER](r({},f,{addRadioButton:!!i.questionFocused}))),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.CHECKBOX_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.CHECKBOX_ANSWER](r({},f,{addCheckboxButton:!!i.questionFocused}))),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));case a.EPuzzleType.DROPDOWN_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:i.onMouseDown},s.jsx(l.PuzzleWrapper,null,i.components[a.EPuzzleType.DROPDOWN_ANSWER](r({},f,{addDropdownButton:!!i.questionFocused}))),s.jsx(t.Puzzle,r({puzzles:e.puzzles,index:i.index},i)));default:return s.jsx(u.Fragment,{key:e.id})}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1);t.SelectableBlockWrapper=function(e){var t=e.children,n=e.focused,s=void 0!==n&&n,l=e.styles,a=void 0===l?function(){}:l,c=o(e,["children","focused","styles"]);return i.jsx(u.Paper,r({css:function(e){return r({boxShadow:s?"0px 0px 16px #bfc8d2 !important":"none",overflow:"hidden",position:"relative"},a(e))}},c,{square:!1,elevation:0}),i.jsx("div",{style:{position:"absolute",width:5,left:0,top:0,bottom:0,backgroundColor:"#2F97FF",zIndex:1e3,display:s?"block":"none"}}),t)}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),u=n(29);t.PuzzleToolbar=function(e){var t=e.right,n=void 0===t?0:t,s=e.top,l=void 0===s?0:s,a=r(e,["right","top"]),c=[{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",icon:i.jsx(u.QuestionIcon,null),action:a.onAddClick},{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:i.jsx(u.GroupIcon,null),action:a.onAddGroup},{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b",icon:i.jsx(u.SectionIcon,null),action:a.onAddSection},{label:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:i.jsx(u.CopyIcon,null),action:void 0},{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",icon:i.jsx(u.ImageIcon,null),action:void 0},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442",icon:i.jsx(u.TrashIcon,null),action:void 0}];return i.jsx(o.Paper,{css:function(e){return{position:"absolute",right:"calc(-"+e.spacing(10)+" + "+n+"px)",marginBottom:e.spacing(4),top:0,transform:"translateY("+l+"px)",transition:"transform 0.3s ease-in-out !important",boxShadow:"0px 0px 16px #bfc8d2 !important"}},className:"toolbar"},i.jsx(o.Grid,{container:!0,direction:"column",alignItems:"center",justify:"center",css:function(e){return{padding:e.spacing()}}},c.map(function(e,t){var n=e.label,r=e.action,u=e.icon;return i.jsx(o.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}},key:t},i.jsx(o.Grid,{container:!0,justify:"center",alignItems:"center"},i.jsx(o.IconButton,{color:"primary","aria-label":n,onClick:r},u)))})))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(30)),r(n(31)),r(n(32)),r(n(33)),r(n(34)),r(n(35))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.QuestionIcon=function(e){var t=e.size,n=void 0===t?18:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("path",{d:"M6.375 6.75C6.375 5.85 7.25 4.5 9 4.5C11.1875 4.5 11.625 6.3 11.625 7.2C11.625 9 9.4375 9.45 9 9.9V11.25",stroke:"#2F97FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("circle",{cx:"9",cy:"13.5",r:"0.5",fill:"#2F97FF",stroke:"#2F97FF",strokeWidth:"0.5"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.GroupIcon=function(e){var t=e.size,n=void 0===t?18:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("circle",{cx:"9",cy:"4.875",r:"1.375",stroke:"#2F97FF"}),i.jsx("circle",{cx:"4.5",cy:"12.75",r:"1.375",stroke:"#2F97FF"}),i.jsx("circle",{cx:"13.5",cy:"12.75",r:"1.375",stroke:"#2F97FF"}),i.jsx("path",{d:"M8.25 6V8C8.25 8.55228 7.80228 9 7.25 9H5.5C4.94772 9 4.5 9.44772 4.5 10V11.25",stroke:"#2F97FF"}),i.jsx("path",{d:"M9.75 6V8C9.75 8.55228 10.1977 9 10.75 9H12.5C13.0523 9 13.5 9.44772 13.5 10V11.25",stroke:"#2F97FF"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.SectionIcon=function(e){var t=e.size,n=void 0===t?18:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("rect",{x:"3",y:"4.5",width:"12",height:"3",rx:"1",fill:"#2F97FF"}),i.jsx("rect",{x:"3",y:"10.5",width:"12",height:"3",rx:"1",fill:"#2F97FF"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.CopyIcon=function(e){var t=e.size,n=void 0===t?24:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("path",{d:"M3.5 14.5V2.5H14",stroke:"#2F97FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M6.75 5.75H18C18.6904 5.75 19.25 6.30964 19.25 7V19C19.25 19.6904 18.6904 20.25 18 20.25H8C7.30964 20.25 6.75 19.6904 6.75 19V5.75Z",stroke:"#2F97FF",strokeWidth:"1.5"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.ImageIcon=function(e){var t=e.size,n=void 0===t?24:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("path",{d:"M14.14 12L11.14 15.87L9 13.28L6 17.14H18L14.14 12Z",fill:"#2F97FF"}),i.jsx("rect",{x:"3.75",y:"3.75",width:"16.5",height:"16.5",rx:"1.25",stroke:"#2F97FF",strokeWidth:"1.5"}),i.jsx("circle",{cx:"9",cy:"10",r:"0.5",fill:"#3F4752",stroke:"#2F97FF"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(0),u=n(1);t.TrashIcon=function(e){var t=e.size,n=void 0===t?24:t;return i.jsx(u.SvgIcon,{width:n,height:n,viewBox:"0 0 "+n+" "+n,css:i.css(o||(o=r(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),n,n)},i.jsx("path",{d:"M14.25 5.125H9.75004L9.97039 4.69348L10.1969 4.25H13.8031L14.0296 4.69348L14.25 5.125ZM17.525 8.75L16.8526 19.3378C16.8526 19.3379 16.8526 19.338 16.8526 19.3381C16.8386 19.5532 16.65 19.75 16.3893 19.75H7.61071C7.34997 19.75 7.1614 19.5532 7.14744 19.3381C7.14744 19.338 7.14743 19.3379 7.14743 19.3378L6.47498 8.75H17.525Z",stroke:"#AAB4BE",strokeWidth:"2.5"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPARE_WITH_ANSWER="compare_with_answer",e.SET_VALUE="set_value"}(t.EValidationType||(t.EValidationType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MORE_THAN="more_than",e.LESS_THAN="less_than",e.EQUAL="equal",e.LESS_OR_EQUAL="less_or_equal",e.MORE_OR_EQUAL="more_or_equal"}(t.EOperatorType||(t.EOperatorType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AND="and",e.OR="or"}(t.EConditionType||(t.EConditionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NONE="",e.CHOSEN_ANSWER="chosen_answer",e.GIVEN_ANSWER="given_answer",e.EQUAL="equal",e.NOT_EQUAL="not_equal",e.MORE_THAN="more_than",e.LESS_THAN="less_than"}(t.EActionType||(t.EActionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY=""}(t.ETerminals||(t.ETerminals={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(42))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=n(1),u=n(0),s=n(5);t.SectionPuzzle=function(e){var t=e.title,n=e.index,r=e.focused,l=e.children;return u.jsx(o.Fragment,null,u.jsx(i.Grid,{container:!0,alignItems:"flex-end",justify:"center",spacing:2,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}},style:{paddingBottom:10}},u.jsx(i.Grid,{item:!0},u.jsx(i.Typography,{style:{fontSize:26,marginBottom:2}},"\u0420\u0430\u0437\u0434\u0435\u043b ",n+1,".")),u.jsx(i.Grid,{item:!0,xs:!0,style:{display:"flex"}},u.jsx(s.InputField,{fullWidth:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430",defaultValue:t,isSimpleMode:!r,InputProps:{style:{fontSize:26}}}))),u.jsx(i.Grid,{container:!0,direction:"column"},l))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=n(0);t.InputField=function(e){var t=e.fullWidth,n=e.placeholder,s=e.defaultValue,l=e.isSimpleMode,a=o(e,["fullWidth","placeholder","defaultValue","isSimpleMode"]);return u.jsx(i.TextField,r({fullWidth:t,placeholder:n,defaultValue:s,css:function(e){return{minHeight:e.spacing(6),height:"100%",input:{position:"absolute",bottom:0,fontFamily:"Roboto",color:e.colors.black},div:{minHeight:e.spacing(6),":before":{borderBottom:l?"none !important":"1px solid rgba(0, 0, 0, 0.42)"},":after":{borderBottom:l?"none !important":"2px solid "+e.colors.primary}}}}},a))}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.traverse=function e(t,n){if(i=t,"[object Array]"===Object.prototype.toString.call(i))n&&n(t),t.forEach(function(t){return e(t,n)});else if(function(e){return"object"===r(e)&&null!==e}(t))for(var o in n&&n(t),t)t.hasOwnProperty(o)&&e(t[o],n);else n&&n(t);var i}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(15)),r(n(66)),r(n(24)),r(n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(49))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(50),u=n(52),s=n(54),l=n(56),a=n(58),c=n(60),p=n(62),d=n(64),f=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle;return r.jsx("div",{key:t.id})},e}();t.getPuzzleFactory=function(e){switch(e){case o.EPuzzleType.QUESTION:return new i.QuestionFactory;case o.EPuzzleType.GROUP:return new u.GroupFactory;case o.EPuzzleType.DROPDOWN_ANSWER:return new s.DropdownAnswerFactory;case o.EPuzzleType.DATE_ANSWER:return new l.DateAnswerFactory;case o.EPuzzleType.TEXT_ANSWER:return new a.TextAnswerFactory;case o.EPuzzleType.CHECKBOX_ANSWER:return new c.CheckboxAnswerFactory;case o.EPuzzleType.RADIO_ANSWER:return new p.RadioAnswerFactory;case o.EPuzzleType.NUMERIC_ANSWER:return new d.NumericAnswerFactory;default:return console.warn("Current type ("+e+") factory does not exist!"),new f}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(16)),r(n(51))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(16),s=n(11),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=o(e,["puzzle"]);return i.jsx(s.EditorContext.Consumer,null,function(e){var o=e.template,s=e.onTemplateChange;return i.jsx(u.QuestionPuzzle,r({},n,{template:o,onTemplateChange:s,id:t.id,title:t.title}))})},e}();t.QuestionFactory=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(17)),r(n(53))},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(17),u=n(3),s=function(){function e(){}return e.prototype.createPuzzle=function(e){return e.puzzle,r(e,["puzzle"]),o.jsx(u.EditorContext.Consumer,null,function(){return o.jsx(i.GroupPuzzle,null)})},e}();t.GroupFactory=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(18)),r(n(55))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(3),s=n(18),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.parentPuzzle,l=e.focused,a=o(e,["puzzle","parentPuzzle","focused"]),c=!!n&&n.puzzles.length-1===a.index;return i.jsx(u.EditorContext.Consumer,null,function(e){var n=e.onAddAnswerPuzzle,u=e.onDeleteAnswerPuzzle,p=o(e,["onAddAnswerPuzzle","onDeleteAnswerPuzzle"]);return i.jsx(s.DropdownAnswerPuzzle,r({},a,p,{id:t.id,title:t.title,questionFocused:l},{onAddDropdownButton:n,onDeleteDropdownButton:u,addDropdownButton:c}))})},e}();t.DropdownAnswerFactory=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(19)),r(n(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(19),u=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.focused,u=e.index;return r.jsx(o.EditorContext.Consumer,null,function(){return r.jsx(i.DateAnswerPuzzle,{questionFocused:n,id:t.id,index:u})})},e}();t.DateAnswerFactory=u},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(20)),r(n(59))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(3),s=n(20),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.focused,l=o(e,["puzzle","focused"]);return i.jsx(u.EditorContext.Consumer,null,function(){return i.jsx(s.TextAnswerPuzzle,r({},{id:t.id,questionFocused:n},l))})},e}();t.TextAnswerFactory=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(21)),r(n(61))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(3),s=n(21),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.parentPuzzle,l=e.focused,a=o(e,["puzzle","parentPuzzle","focused"]);return i.jsx(u.EditorContext.Consumer,null,function(e){var u=e.onAddAnswerPuzzle,c=e.onDeleteAnswerPuzzle,p=o(e,["onAddAnswerPuzzle","onDeleteAnswerPuzzle"]);return i.jsx(s.CheckboxAnswerPuzzle,r({},p,a,{id:t.id,title:t.title,questionFocused:l},{onAddCheckboxButton:u,onDeleteCheckboxButton:c,addCheckboxButton:!!n&&n.puzzles.length-1===a.index}))})},e}();t.CheckboxAnswerFactory=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(22)),r(n(63))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(22),s=n(3),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.parentPuzzle,l=e.focused,a=o(e,["puzzle","parentPuzzle","focused"]);return i.jsx(s.EditorContext.Consumer,null,function(e){var s=e.onAddAnswerPuzzle,c=e.onDeleteAnswerPuzzle,p=o(e,["onAddAnswerPuzzle","onDeleteAnswerPuzzle"]);return i.jsx(u.RadioAnswerPuzzle,r({},{id:t.id,title:t.title,questionFocused:l},a,p,{onAddRadioButton:s,onDeleteRadioButton:c,addRadioButton:!!n&&n.puzzles.length-1===a.index}))})},e}();t.RadioAnswerFactory=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(23)),r(n(65))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(3),s=n(23),l=function(){function e(){}return e.prototype.createPuzzle=function(e){var t=e.puzzle,n=e.focused,l=o(e,["puzzle","focused"]);return i.jsx(u.EditorContext.Consumer,null,function(){return i.jsx(s.NumericAnswerPuzzle,r({},{id:t.id,questionFocused:n},l))})},e}();t.NumericAnswerFactory=l},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2)),u=n(0),s=n(24);t.Content=function(e){var t=e.puzzles,n=r(e,["puzzles"]);return u.jsx(i.Fragment,null,t.map(function(e,t){return u.jsx(s.ContentGroup,{key:e.id,item:e,onFocus:n.onFocus,onBlur:n.onBlur,isFocused:n.isFocused,index:t})}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),u=n(68);t.ContentConditions=function(e){var t=e.puzzleId,n=e.focused,s=e.puzzleType;return n?o.jsx(i.EditorContext.Consumer,null,function(e){var n=e.onTemplateChange,i=e.template;return o.jsx(u.Conditions,r({},{puzzleId:t,onTemplateChange:n,template:i,puzzleType:s}))}):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(69))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=i(n(2)),a=n(2),c=n(1),p=n(8),d=n(7),f=n(6),y=n(4),z=u(n(10)),j=u(n(14)),v=n(70);t.Conditions=function(e){var t=e.puzzleId,n=e.template,i=e.puzzleType,u=a.useState([{id:j.default(),order:0,questionPuzzle:d.ETerminals.EMPTY,answerPuzzle:d.ETerminals.EMPTY,value:d.ETerminals.EMPTY,actionType:d.EActionType.NONE,conditionType:d.EConditionType.OR}]),x=u[0],h=u[1],m=a.useState([]),g=m[0],b=m[1],O=a.useState([]),P=O[0],E=O[1],_=a.useRef({});function T(e,t){var n=x.findIndex(function(t){return t.id===e});x[n]=o({},x[n],t),h(x.slice())}a.useEffect(function(){z.default.isEqual(n,_.current)||x.forEach(function(e,t,i){var u=!1,s=g.find(function(t){return t.id===e.questionPuzzle});s&&(f.traverse(n,function(e){if("object"===r(e)&&"puzzles"in e){var t=e;"puzzleType"in t&&t.puzzleType===y.EPuzzleType.QUESTION&&t.id===s.id&&(u=!z.default.isEqual(s,t))}}),u&&(e.answerPuzzle=d.ETerminals.EMPTY,e.value=d.ETerminals.EMPTY,e.actionType=d.EActionType.NONE,i[t]=o({},e)))}),g.length=0,P.length=0,f.traverse(n,function(e){if("object"===r(e)&&"puzzles"in e){var n=e;if(n.puzzles.some(function(e){return e.id===t})){var o=n.puzzles.findIndex(function(e){return e.id===t});z.default.range(0,o).forEach(function(e){f.traverse(n.puzzles[e],function(e){if("object"===r(e)&&"puzzleType"in e){var t=e;t.puzzleType===y.EPuzzleType.QUESTION&&t.title.length>0?g.push(t):[y.EPuzzleType.GROUP,y.EPuzzleType.QUESTION,y.EPuzzleType.UPLOAD_FILES].includes(t.puzzleType)||P.push(t)}})}),n.puzzles[o].conditions=x.slice()}}}),b(z.default.cloneDeep(g)),E(z.default.cloneDeep(P)),z.default.isEqual(n,_.current)||z.default.isEmpty(_.current)?_.current=z.default.cloneDeep(n):(_.current=z.default.cloneDeep(n),e.onTemplateChange(_.current))},[x,n]);var w=i===y.EPuzzleType.GROUP?"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430";return s.jsx(c.Grid,{css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4),marginTop:e.spacing(2)}}},s.jsx(c.Grid,{container:!0,style:{background:"#F6F7FB",padding:"24px 16px"},spacing:2,alignItems:"flex-end"},s.jsx(c.Grid,{container:!0},s.jsx(c.Typography,{variant:"subtitle1",style:{fontWeight:500}},w)),x.map(function(e,t){var n=P.filter(function(t){var n=g.find(function(t){return t.id===e.questionPuzzle});return!!n&&n.puzzles.some(function(e){return e.id===t.id})}),r=z.default.head(n)||{puzzleType:d.ETerminals.EMPTY},o=v.getConditionService({index:t,condition:e,puzzleType:r.puzzleType}),i=0===t;return s.jsx(l.Fragment,{key:e.id},i&&s.jsx(c.Grid,{item:!0},s.jsx(c.Typography,null,o.getConditionLiteral())),s.jsx(c.Grid,{xs:i?"auto":4,item:!0,style:{marginLeft:i?0:70}},!i&&s.jsx(l.Fragment,null,s.jsx(c.RadioGroup,{value:e.conditionType,onChange:function(t,n){T(e.id,{conditionType:n})},row:!0},s.jsx(c.FormControlLabel,{value:d.EConditionType.AND,control:s.jsx(c.Radio,{color:"primary"}),label:"\u0418",labelPlacement:"end"}),s.jsx(c.FormControlLabel,{value:d.EConditionType.OR,control:s.jsx(c.Radio,{color:"primary"}),label:"\u0418\u043b\u0438",labelPlacement:"end"})))),i&&s.jsx(c.Grid,{item:!0,xs:4},s.jsx(c.FormControl,{fullWidth:!0},s.jsx(c.InputLabel,{htmlFor:"question-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"),s.jsx(c.Select,{value:e.questionPuzzle||d.ETerminals.EMPTY,input:s.jsx(c.Input,{id:"question-puzzle"}),onChange:function(t){x.length=1,T(e.id,{answerPuzzle:d.ETerminals.EMPTY,value:d.ETerminals.EMPTY,actionType:d.EActionType.NONE,questionPuzzle:t.target.value})}},0===g.length&&s.jsx(c.MenuItem,null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"),g.map(function(e){return s.jsx(c.MenuItem,{key:e.id,value:e.id},e.title)})))),s.jsx(l.Fragment,null,s.jsx(c.Grid,{item:!0,xs:3},!!e.questionPuzzle&&s.jsx(c.FormControl,{fullWidth:!0},s.jsx(c.InputLabel,{htmlFor:"action-type"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),s.jsx(c.Select,{value:e.actionType||d.ETerminals.EMPTY,input:s.jsx(c.Input,{id:"action-type"}),onChange:function(t){T(e.id,{actionType:t.target.value})}},o.getActionVariants()))),s.jsx(c.Grid,{item:!0,xs:2},!!e.questionPuzzle&&o.getAnswerPuzzle(P,g)(e.actionType===d.EActionType.CHOSEN_ANSWER?function(t){T(e.id,{answerPuzzle:t.target.value})}:function(t){T(e.id,{value:t.target.value})}))),s.jsx(c.Grid,{item:!0,xs:2},s.jsx(c.Grid,{container:!0,justify:"flex-end"},s.jsx(c.Grid,{item:!0},s.jsx(c.IconButton,{onClick:function(){return t=e.id,void(1!==x.length&&h(x.filter(function(e){return e.id!==t}).slice()));var t}},s.jsx(p.Close,null))))))}),s.jsx(c.Grid,{container:!0,style:{marginTop:10}},s.jsx(c.Grid,{css:function(e){return{marginLeft:e.spacing(9)}}},s.jsx(c.Button,{size:"small",variant:"outlined",color:"primary",onClick:function(){if(0!==g.length&&(0===x.length||x.some(function(e){return!!e.questionPuzzle}))){var e=z.default.head(x)||{questionPuzzle:d.ETerminals.EMPTY};x.push({id:j.default(),order:x.length-1,questionPuzzle:e.questionPuzzle,answerPuzzle:d.ETerminals.EMPTY,value:d.ETerminals.EMPTY,actionType:d.EActionType.NONE,conditionType:d.EConditionType.OR}),h(x.slice())}}},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435")))))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25);r(n(71)),r(n(25)),t.getConditionService=function(e){return new o.ConditionService(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5),i=n(1);t.ContentSection=function(e){var t=e.children,n=e.template,u=e.focused;return r.jsx(i.Grid,{container:!0,direction:"column"},r.jsx(i.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},r.jsx(o.InputField,{fullWidth:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430",defaultValue:n.title,isSimpleMode:!u,InputProps:{style:{fontSize:26,fontWeight:500}}})),r.jsx(i.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4),paddingBottom:e.spacing(2)}}},r.jsx(o.InputField,{fullWidth:!0,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",defaultValue:n.description,isSimpleMode:!u,InputProps:{style:{fontSize:18,fontWeight:300}}})),r.jsx(i.Grid,{item:!0},t))}}]))},245:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(217),i=n(216),u=n(191),s=n(230),l=n(228),a=n(238),c=n.n(a),p={id:c()(),sections:[{id:c()(),title:"\u0411\u043b\u0430\u0433\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",description:"",order:1,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u041d\u0443\u0436\u043d\u0430 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430?",description:"",order:0,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.CHECKBOX_ANSWER,title:"\u0414\u0430",description:"",order:0,puzzles:[],conditions:[],validations:[]},{id:c()(),puzzleType:l.EPuzzleType.CHECKBOX_ANSWER,title:"\u041d\u0435\u0442",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]},{id:c()(),title:"",description:"",order:1,puzzleType:l.EPuzzleType.GROUP,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0438",description:"",order:0,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.NUMERIC_ANSWER,title:"",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]}],conditions:[],validations:[]}]}],puzzles:[],title:"\u0412\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c"},d=n(221),f=function(){return Object(r.jsx)(o.a,null,Object(r.jsx)(i.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},Object(r.jsx)(u.a,{item:!0},Object(r.jsx)(d.a,null,Object(r.jsx)(s.a,{css:function(e){return{marginRight:e.spacing()}},alignmentBaseline:"middle"}),Object(r.jsx)("span",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),Object(r.jsx)(u.a,{css:function(e){return{maxWidth:e.maxTemplateWidth,margin:e.spacing(4),position:"relative"}}},Object(r.jsx)(l.TemplateEditor,{initialState:p,css:function(e){return{background:e.colors.main}}})))};n.d(t,"CreateTemplate",function(){return f})}}]);
//# sourceMappingURL=6.f8f9c9f8.chunk.js.map