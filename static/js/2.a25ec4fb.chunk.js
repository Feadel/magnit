(window["webpackJsonp@magnit/frontend"]=window["webpackJsonp@magnit/frontend"]||[]).push([[2],{350:function(e,t,n){"use strict";var r=n(47),c=n(12),o=n(343);function a(){var e=Object(r.a)(["\n                width: 100%;\n                min-height: 100vh;\n            "]);return a=function(){return e},e}var i=function(e){var t=e.children;return Object(c.jsx)(o.a,{container:!0,direction:"column",css:Object(c.css)(a())},t)};n.d(t,"a",function(){return i})},351:function(e,t,n){"use strict";var r=n(47),c=n(12),o=n(343),a=n(101),i=n(244);function s(){var e=Object(r.a)(["\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                    box-shadow: none !important;\n                "]);return s=function(){return e},e}function u(){var e=Object(r.a)(["\n                height: var(--section-title-height);\n                box-shadow: 0 6px 20px rgba(220, 227, 235, 0.3);\n            "]);return u=function(){return e},e}var j=function(e){var t=e.title,n=e.children;return Object(c.jsx)(o.a,{item:!0,css:Object(c.css)(u())},Object(c.jsx)(a.a,{square:!0,css:Object(c.css)(s())},Object(c.jsx)(o.a,{container:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},Object(c.jsx)(o.a,{item:!0,xs:!0},Object(c.jsx)(i.a,{variant:"h4",component:"div"},Object(c.jsx)("span",null,t))),n)))};n.d(t,"a",function(){return j})},352:function(e,t,n){"use strict";var r=n(47),c=n(353),o=n(346),a=n(251),i=n(340),s=n(12),u=n(126),j=n(124),l=n(125);function b(){var e=Object(r.a)(["\n                            display: flex;\n                            align-items: center;\n                        "]);return b=function(){return e},e}var p=function(e){var t=e.message,n=e.error,r=e.open,p=Object(c.a)(e,["message","error","open"]);return Object(s.jsx)(o.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:r,autoHideDuration:2500,onClose:p.onClose},Object(s.jsx)(a.a,{css:function(e){return{background:n?e.colors.red:e.colors.green,boxShadow:"0 4px 8px ".concat(n?e.colors.red:e.colors.green,"50")}},message:Object(s.jsx)("span",{css:Object(s.css)(b())},n?Object(s.jsx)(u.a,{css:function(e){return{marginRight:e.spacing(1)}}}):Object(s.jsx)(j.a,{css:function(e){return{marginRight:e.spacing(1)}}}),t),action:[Object(s.jsx)(i.a,{key:"close",color:"inherit",onClick:p.onClose},Object(s.jsx)(l.a,null))]}))};n.d(t,"a",function(){return p})},353:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",function(){return r})},354:function(e,t,n){"use strict";var r=n(343),c=n(244),o=n(12),a=n(47);function i(){var e=Object(a.a)(["\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n            "]);return i=function(){return e},e}var s=function(e){var t=e.children;return Object(o.jsx)(r.a,{item:!0,xs:!0,css:Object(o.css)(i())},t)},u=function(e){var t=e.title,n=e.button,a=e.children;return Object(o.jsx)(s,null,Object(o.jsx)(r.a,{container:!0,justify:"center",alignContent:"center",direction:"column"},Object(o.jsx)(r.a,{item:!0,css:function(e){return{marginBottom:e.spacing(3)}}},Object(o.jsx)(c.a,{component:"div",align:"center",css:function(e){return{color:e.colors.black,fontWeight:500,fontSize:e.fontSize.xLarge}}},Object(o.jsx)("span",null,t))),Object(o.jsx)(r.a,{item:!0,css:function(e){return{marginBottom:e.spacing(3)}}},Object(o.jsx)(c.a,{component:"div",align:"center",css:function(e){return{color:e.colors.secondary,fontSize:e.colors.larger}}},a)),Object(o.jsx)(r.a,{item:!0},Object(o.jsx)(r.a,{container:!0,justify:"center",alignContent:"center"},Object(o.jsx)(r.a,{item:!0},n)))))};n.d(t,"a",function(){return u})},359:function(e,t,n){"use strict";n.r(t);var r=n(104),c=n(86),o=n(12),a=n(0),i=n(351),s=n(350),u=n(53),j=n(152),l=n(52),b=n(354),p=n(107),O=n(103),f=n(343),d=n(244),m=n(101),g=n(31),x=n.n(g),h=n(153);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=[{key:"title",sortable:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},{key:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{key:"createdAt",label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"},{key:"updatedAt",label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}],w=function(){var e=Object(a.useContext)(O.a),t=Object(a.useState)([]),n=Object(c.a)(t,2),g=n[0],w=n[1],k=Object(a.useState)({redirect:!1,to:""}),P=Object(c.a)(k,2),S=P[0],T=P[1];Object(a.useEffect)(function(){Object(p.c)(e.courier).then(function(e){e.templates=e.templates.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{createdAt:Object(h.getFriendlyDate)(new Date(e.createdAt),!0),updatedAt:Object(h.getFriendlyDate)(new Date(e.updatedAt),!0)})}),w(e.templates)}).catch(console.error)},[e.courier]);var E=!g.length;return Object(o.jsx)(s.a,null,S.redirect&&Object(o.jsx)(u.Redirect,{to:"templates/edit/".concat(S.to),noThrow:!0}),Object(o.jsx)(i.a,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"},Object(o.jsx)(f.a,{item:!0,hidden:E},Object(o.jsx)(j.Button,{component:u.Link,to:"create",variant:"contained",scheme:"blue"},Object(o.jsx)(l.AddIcon,null),Object(o.jsx)(d.a,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d")))),E&&Object(o.jsx)(b.a,{title:"\u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442",button:Object(o.jsx)(j.Button,{component:u.Link,to:"create",scheme:"blue"},Object(o.jsx)(l.AddIcon,null),Object(o.jsx)(d.a,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d"))},Object(o.jsx)("div",null,"\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443"),Object(o.jsx)("div",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d")),!E&&Object(o.jsx)(m.a,{square:!0,css:function(e){return{margin:e.spacing(3),boxShadow:"0 0 ".concat(e.spacing(2)," ").concat(e.colors.lightGray," !important")}}},Object(o.jsx)(f.a,{container:!0,direction:"row",css:function(e){return{marginTop:e.spacing(2)}}},Object(o.jsx)(f.a,{container:!0,direction:"column",css:function(e){return{padding:e.spacing(3)}}},Object(o.jsx)(f.a,{container:!0,direction:"row",spacing:2},Object(o.jsx)(f.a,{item:!0,xs:!0},Object(o.jsx)(j.InputField,{placeholder:"\u041f\u043e\u0438\u0441\u043a ...",fullWidth:!0,css:function(e){return{borderRadius:e.radius(5),background:e.colors.white,border:"1px solid ".concat(e.colors.lightGray),transition:"border 0.25s ease-in-out",cursor:"pointer",":hover, :active":{border:"1px solid ".concat(e.colors.primary)},div:{":before, :after":{border:"none !important"}},input:{padding:"".concat(e.spacing(2)," ").concat(e.spacing(4))}}}}))),Object(o.jsx)(f.a,{item:!0,css:function(e){return{padding:e.spacing(3)}}},Object(o.jsx)(j.TableWrapper,{columns:v,data:g,onRowClick:function(e){x.a.isObject(e)&&x.a.has(e,"id")&&T({redirect:!0,to:x.a.get(e,"id")})}}))))))},k=n(10),P=n.n(k),S=n(15),T=n(66),E=n(352),D=n(108);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(){var e=Object(a.useContext)(O.a),t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],b=n[1],m=Object(a.useState)(!1),g=Object(c.a)(m,2),y=g[0],v=g[1],w=Object(a.useState)({open:!1,message:h.ETerminals.EMPTY}),k=Object(c.a)(w,2),C=k[0],R=k[1],I=Object(a.useState)(!1),W=Object(c.a)(I,2),B=W[0],F=W[1];function L(){return(L=Object(S.a)(P.a.mark(function t(n){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(D.b)(e.courier,n).then(function(e){return A({},e,{filename:"".concat("http://91.144.161.208:1337","/").concat(e.filename)})}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function z(){return(z=Object(S.a)(P.a.mark(function t(n){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(D.a)(e.courier,n));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(o.jsx)(s.a,null,B&&Object(o.jsx)(u.Redirect,{to:"/templates",noThrow:!0}),Object(o.jsx)(i.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},Object(o.jsx)(f.a,{item:!0},Object(o.jsx)(j.Button,{variant:"contained",scheme:"green",onClick:function(){Object(p.a)(e.courier,r).then(function(){return R({open:!0,message:"\u0428\u0430\u0431\u043b\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d!"})}).catch(function(){R({open:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430!"}),v(!0)})},disabled:C.open},Object(o.jsx)(l.CheckIcon,null),Object(o.jsx)(d.a,null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),Object(o.jsx)(f.a,{css:function(e){return{maxWidth:e.maxTemplateWidth,margin:e.spacing(4),position:"relative",opacity:C.open?.5:1,transition:"opacity 0.3s ease-in-out",pointerEvents:C.open?"none":"initial"}}},Object(o.jsx)(T.TemplateEditor,{css:function(e){return{background:e.colors.main}},onChange:function(e){b(x.a.cloneDeep(e))},onAddAsset:function(e){return L.apply(this,arguments)},onDeleteAsset:function(e){return z.apply(this,arguments)}})),Object(o.jsx)(E.a,{open:C.open,error:y,onClose:function(e,t){"clickaway"!==t&&(y||F(!0),R({open:!1,message:h.ETerminals.EMPTY}),setTimeout(function(){return v(!1)},100))},message:C.message}))},I=n(70);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(e){var t=e.templateId,n=Object(a.useContext)(O.a),r=Object(a.useState)({}),b=Object(c.a)(r,2),p=b[0],m=b[1],g=Object(a.useState)(!1),y=Object(c.a)(g,2),v=y[0],w=y[1],k=Object(a.useState)({open:!1,message:h.ETerminals.EMPTY}),D=Object(c.a)(k,2),C=D[0],A=D[1],R=Object(a.useState)(!1),W=Object(c.a)(R,2),F=W[0],L=W[1];function z(){return(z=Object(S.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(I.uploadFile)(n.courier,t).then(function(e){return B({},e,{filename:"".concat("http://91.144.161.208:1337","/").concat(e.filename)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=Object(S.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(I.deleteFile)(n.courier,t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(a.useEffect)(function(){Object(I.getTemplate)(n.courier,t).then(function(e){return m(e.template)}).catch(console.error)},[n.courier,t]),Object(o.jsx)(s.a,null,F&&Object(o.jsx)(u.Redirect,{to:"/templates",noThrow:!0}),Object(o.jsx)(i.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},Object(o.jsx)(f.a,{item:!0},Object(o.jsx)(j.Button,{variant:"contained",scheme:"blue",onClick:function(){Object(I.updateTemplate)(n.courier,t,p).then(function(){return A({open:!0,message:"\u0428\u0430\u0431\u043b\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d!"})}).catch(function(){A({open:!0,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430!"}),w(!0)})},disabled:C.open},Object(o.jsx)(l.CheckIcon,null),Object(o.jsx)(d.a,null,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")))),Object(o.jsx)(f.a,{css:function(e){return{maxWidth:e.maxTemplateWidth,margin:e.spacing(4),position:"relative",opacity:C.open?.5:1,transition:"opacity 0.3s ease-in-out",pointerEvents:C.open?"none":"initial"}}},!x.a.isEmpty(p)&&Object(o.jsx)(T.TemplateEditor,{initialState:p,css:function(e){return{background:e.colors.main}},onChange:function(e){m(x.a.cloneDeep(e))},onAddAsset:function(e){return z.apply(this,arguments)},onDeleteAsset:function(e){return M.apply(this,arguments)}})),Object(o.jsx)(E.a,{open:C.open,error:v,onClose:function(e,t){"clickaway"!==t&&(v||L(!0),A({open:!1,message:h.ETerminals.EMPTY}),setTimeout(function(){return w(!1)},100))},message:C.message}))};n.d(t,"TemplateList",function(){return w}),n.d(t,"CreateTemplate",function(){return R}),n.d(t,"EditTemplate",function(){return F})}}]);
//# sourceMappingURL=2.a25ec4fb.chunk.js.map