{"version":3,"sources":["../../services/dist/index.js","containers/templates/TemplateList.tsx","components/snackbar/Snackbar.tsx","containers/templates/CreateTemplate.tsx","containers/templates/EditTemplate.tsx","containers/templates/index.ts"],"names":["e","window","module","exports","__webpack_require__","t","o","n","r","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","this","__importDefault","focusedPuzzleState","toolbarTopPositionState","throttledChainCleaning","throttle","length","onPuzzleFocus","includes","slice","push","onPuzzleBlur","preventDefault","stopPropagation","updateToolbarTopPosition","head","document","getElementById","getBoundingClientRect","top","scrollY","EditorServiceImpl","u","TEMPLATE","TASK","EEditorType","getEditorService","TaskEditorService","apply","concat","TemplateEditorService","console","log","_n","__extends","setPrototypeOf","__proto__","Array","constructor","arguments","_n2","EMPTY","ETerminals","GROUP","QUESTION","RADIO_ANSWER","CHECKBOX_ANSWER","DROPDOWN_ANSWER","REFERENCE_ANSWER","UPLOAD_FILES","DATE_ANSWER","TEXT_ANSWER","NUMERIC_ANSWER","EPuzzleType","toString","getFriendlyDate","getDate","getMonth","getFullYear","columns","id","sortable","label","TemplateList","context","useContext","AppContext","_useState","useState","_useState2","slicedToArray","rows","setRows","_useState3","redirect","to","_useState4","setRedirect","useEffect","getTemplates","courier","then","response","templates","map","template","objectSpread","createdAt","Date","updatedAt","catch","error","empty","core_browser_esm","section_layout","es","noThrow","section_title","title","Grid","item","hidden","dist","component","Link","variant","scheme","icon","icons_dist","css","_templateObject","list","actionName","button","_templateObject2","description","Paper","square","theme","margin","spacing","boxShadow","colors","lightGray","container","direction","marginTop","padding","xs","placeholder","fullWidth","borderRadius","radius","background","white","border","transition","cursor",":hover, :active","primary","div",":before, :after","input","data","onRowClick","row","_","isObject","has","Snackbar","_ref","messages","open","props","objectWithoutProperties","Snackbar_Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","SnackbarContent","red","green","message","Snackbar_templateObject","Error","marginRight","CheckCircle","success","action","IconButton","key","color","onClick","Close","CreateTemplate","setTemplate","setError","_useState5","_useState6","setOpen","_useState7","_useState8","createTemplate","maxWidth","maxTemplateWidth","position","opacity","pointerEvents","template_editor_dist","main","onChange","cloneDeep","snackbar_Snackbar_Snackbar","event","reason","setTimeout","EditTemplate","templateId","getTemplate","JSON","parse","updateTemplate","isEmpty","initialState","__webpack_exports__","TemplateList_TemplateList","CreateTemplate_CreateTemplate","EditTemplate_EditTemplate"],"mappings":"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","file":"static/js/2.8b8e4788.chunk.js","sourcesContent":["!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"lodash\")) : \"function\" == typeof define && define.amd ? define([\"lodash\"], t) : \"object\" == typeof exports ? exports.TemplateEditor = t(require(\"lodash\")) : e.TemplateEditor = t(e.lodash);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function o(n) {\n      if (t[n]) return t[n].exports;\n      var r = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(r.exports, r, r.exports, o), r.l = !0, r.exports;\n    }\n\n    return o.m = e, o.c = t, o.d = function (e, t, n) {\n      o.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, o.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, o.t = function (e, t) {\n      if (1 & t && (e = o(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (o.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        o.d(n, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return n;\n    }, o.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return o.d(t, \"a\", t), t;\n    }, o.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, o.p = \"\", o(o.s = 1);\n  }([function (e, t, o) {\n    \"use strict\";\n\n    var n = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(o(4)),\n        i = function () {\n      function e(e, t) {\n        var o = this;\n        this.focusedPuzzleState = e, this.toolbarTopPositionState = t;\n        this.throttledChainCleaning = r.default.throttle(function () {\n          o.focusedPuzzleState[0].length = 0;\n        }, 100);\n      }\n\n      return e.prototype.onPuzzleFocus = function (e) {\n        var t = this.focusedPuzzleState,\n            o = t[0],\n            n = t[1];\n        this.throttledChainCleaning(), o.includes(e) ? n(o.slice()) : (o.push(e), n(o.slice()));\n      }, e.prototype.onPuzzleBlur = function (e) {\n        e.preventDefault(), e.stopPropagation();\n      }, e.prototype.updateToolbarTopPosition = function () {\n        var e = this.focusedPuzzleState[0],\n            t = this.toolbarTopPositionState[1];\n\n        if (e.length) {\n          var o = r.default.head(e);\n\n          if (o) {\n            var n = document.getElementById(o);\n\n            if (n) {\n              var i = n.getBoundingClientRect().top;\n              t(window.scrollY + i - 128);\n            }\n          }\n        }\n      }, e;\n    }();\n\n    t.EditorServiceImpl = i;\n  }, function (e, t, o) {\n    \"use strict\";\n\n    function n(e) {\n      for (var o in e) {\n        t.hasOwnProperty(o) || (t[o] = e[o]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), n(o(2)), n(o(6)), n(o(9));\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n,\n        r = o(3),\n        i = o(5),\n        u = o(0);\n    !function (e) {\n      e[e.TEMPLATE = 0] = \"TEMPLATE\", e[e.TASK = 1] = \"TASK\";\n    }(n = t.EEditorType || (t.EEditorType = {})), t.getEditorService = function (e, t) {\n      switch (e) {\n        case n.TASK:\n          return new (r.TaskEditorService.bind.apply(r.TaskEditorService, [void 0].concat(t)))();\n\n        case n.TEMPLATE:\n          return new (i.TemplateEditorService.bind.apply(i.TemplateEditorService, [void 0].concat(t)))();\n\n        default:\n          return console.log(\"%c%s\", \"color:#F07178\", \"Current type (\" + e + \") service does not exist!\"), new (u.EditorServiceImpl.bind.apply(u.EditorServiceImpl, [void 0].concat(t)))();\n      }\n    };\n  }, function (e, t, o) {\n    \"use strict\";\n\n    var _n,\n        r = this && this.__extends || (_n = function n(e, t) {\n      return (_n = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var o in t) {\n          t.hasOwnProperty(o) && (e[o] = t[o]);\n        }\n      })(e, t);\n    }, function (e, t) {\n      function o() {\n        this.constructor = e;\n      }\n\n      _n(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());\n    });\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t() {\n        return null !== e && e.apply(this, arguments) || this;\n      }\n\n      return r(t, e), t;\n    }(o(0).EditorServiceImpl);\n\n    t.TaskEditorService = i;\n  }, function (t, o) {\n    t.exports = e;\n  }, function (e, t, o) {\n    \"use strict\";\n\n    var _n2,\n        r = this && this.__extends || (_n2 = function n(e, t) {\n      return (_n2 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var o in t) {\n          t.hasOwnProperty(o) && (e[o] = t[o]);\n        }\n      })(e, t);\n    }, function (e, t) {\n      function o() {\n        this.constructor = e;\n      }\n\n      _n2(e, t), e.prototype = null === t ? Object.create(t) : (o.prototype = t.prototype, new o());\n    });\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = function (e) {\n      function t() {\n        return null !== e && e.apply(this, arguments) || this;\n      }\n\n      return r(t, e), t;\n    }(o(0).EditorServiceImpl);\n\n    t.TemplateEditorService = i;\n  }, function (e, t, o) {\n    \"use strict\";\n\n    function n(e) {\n      for (var o in e) {\n        t.hasOwnProperty(o) || (t[o] = e[o]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), n(o(7)), n(o(8));\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e.EMPTY = \"\";\n    }(t.ETerminals || (t.ETerminals = {}));\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e.GROUP = \"group\", e.QUESTION = \"question\", e.RADIO_ANSWER = \"radio_answer\", e.CHECKBOX_ANSWER = \"checkbox_answer\", e.DROPDOWN_ANSWER = \"dropdown_answer\", e.REFERENCE_ANSWER = \"reference_answer\", e.UPLOAD_FILES = \"upload_files\", e.DATE_ANSWER = \"date_answer\", e.TEXT_ANSWER = \"text_answer\", e.NUMERIC_ANSWER = \"numeric_answer\";\n    }(t.EPuzzleType || (t.EPuzzleType = {}));\n  }, function (e, t, o) {\n    \"use strict\";\n\n    function n(e) {\n      return 1 === e.toString().length ? \"0\" + e : e.toString();\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.getFriendlyDate = function (e) {\n      return n(e.getDate()) + \".\" + n(e.getMonth() + 1) + \".\" + e.getFullYear();\n    };\n  }]);\n});","/** @jsx jsx */\n\nimport { css, jsx } from \"@emotion/core\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { SectionTitle } from \"components/section-title\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { Link, Redirect } from \"@reach/router\";\nimport { Button, IColumn, InputField, TableWrapper } from \"@magnit/components\";\nimport { AddIcon } from \"@magnit/icons\";\nimport { EmptyList } from \"components/list\";\nimport { getTemplates } from \"services/api/templates\";\nimport { AppContext } from \"context\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport { getFriendlyDate } from \"@magnit/services\";\n\nconst columns: IColumn[] = [\n    { id: \"title\", sortable: true, label: \"Название шаблона\" },\n    { id: \"description\", label: \"Описание\" },\n    { id: \"createdAt\", label: \"Дата создания\" },\n    { id: \"updatedAt\", label: \"Дата редактирования\" },\n];\n\nexport const TemplateList: React.FC = () => {\n    const context = useContext(AppContext);\n    const [rows, setRows] = useState<object[]>([]);\n    const [redirect, setRedirect] = useState({ redirect: false, to: \"\" });\n\n    useEffect(() => {\n        getTemplates(context.courier)\n            .then(response => {\n                response.templates = response.templates.map(template => {\n                    return {\n                        ...template,\n                        createdAt: getFriendlyDate(new Date(template.createdAt)),\n                        updatedAt: getFriendlyDate(new Date(template.updatedAt)),\n                    };\n                });\n                setRows(response.templates);\n            })\n            .catch(console.error);\n    }, [context.courier]);\n\n    function onRowClick(row?: object) {\n        if (!_.isObject(row) || !_.has(row, \"id\")) {\n            return;\n        }\n        setRedirect({ redirect: true, to: _.get(row, \"id\") });\n    }\n\n    const empty = !rows.length;\n\n    return (\n        <SectionLayout>\n            {redirect.redirect && <Redirect to={`templates/edit/${redirect.to}`} noThrow />}\n            <SectionTitle title=\"Список шаблонов\">\n                <Grid item hidden={empty}>\n                    <Button\n                        component={Link}\n                        to=\"create\"\n                        variant=\"contained\"\n                        title=\"Создать шаблон\"\n                        scheme=\"blue\"\n                        icon={<AddIcon />}\n                        css={css`\n                            width: 180px;\n                        `}\n                    />\n                </Grid>\n            </SectionTitle>\n            {empty && (\n                <EmptyList\n                    title={\"Шаблонов нет\"}\n                    actionName={\"Создать шаблон\"}\n                    button={\n                        <Button\n                            component={Link}\n                            to=\"create\"\n                            icon={<AddIcon />}\n                            title={\"Создать шаблон\"}\n                            css={css`\n                                width: 180px;\n                            `}\n                        />\n                    }\n                    description={\"Для создания шаблона нажмите кнопку\"}\n                />\n            )}\n            {!empty && (\n                <Paper\n                    square={true}\n                    css={theme => ({\n                        margin: theme.spacing(3),\n                        boxShadow: `0px 0px ${theme.spacing(2)} ${\n                            theme.colors.lightGray\n                        } !important`,\n                    })}\n                >\n                    <Grid\n                        container\n                        direction=\"row\"\n                        css={theme => ({ marginTop: theme.spacing(2) })}\n                    >\n                        <Grid\n                            container\n                            direction=\"column\"\n                            css={theme => ({ padding: theme.spacing(3) })}\n                        >\n                            <Grid container direction=\"row\" spacing={2}>\n                                <Grid item xs>\n                                    <InputField\n                                        placeholder=\"Поиск ...\"\n                                        fullWidth\n                                        css={theme => ({\n                                            borderRadius: theme.radius(5),\n                                            background: theme.colors.white,\n                                            border: `1px solid ${theme.colors.lightGray}`,\n                                            transition: \"border 0.25s ease-in-out\",\n                                            cursor: \"pointer\",\n                                            \":hover, :active\": {\n                                                border: `1px solid ${theme.colors.primary}`,\n                                            },\n                                            div: {\n                                                \":before, :after\": {\n                                                    border: \"none !important\",\n                                                },\n                                            },\n                                            input: {\n                                                padding: `${theme.spacing(2)} ${theme.spacing(4)}`,\n                                            },\n                                        })}\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Grid item css={theme => ({ padding: theme.spacing(3) })}>\n                                <TableWrapper\n                                    columns={columns}\n                                    data={rows}\n                                    onRowClick={onRowClick}\n                                />\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            )}\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport * as React from \"react\";\nimport { IconButton, Snackbar as MaterialSnackbar, SnackbarContent } from \"@material-ui/core\";\nimport { css, jsx } from \"@emotion/core\";\nimport {\n    CheckCircle as CheckCircleIcon,\n    Close as CloseIcon,\n    Error as ErrorIcon,\n} from \"@material-ui/icons\";\n\ninterface ISnackbarProps {\n    messages: {\n        success: string;\n        error: string;\n    };\n    open: boolean;\n    error: boolean;\n\n    onClose?(event?: React.SyntheticEvent, reason?: string): void;\n}\n\nexport const Snackbar: React.FC<ISnackbarProps> = ({ messages, error, open, ...props }) => {\n    return (\n        <MaterialSnackbar\n            anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n            }}\n            open={open}\n            autoHideDuration={2500}\n            onClose={props.onClose}\n        >\n            <SnackbarContent\n                css={theme => ({\n                    background: error ? theme.colors.red : theme.colors.green,\n                    boxShadow: `0 4px 8px ${error ? theme.colors.red : theme.colors.green}50`,\n                })}\n                message={\n                    <span\n                        css={css`\n                            display: flex;\n                            align-items: center;\n                        `}\n                    >\n                        {error ? (\n                            <ErrorIcon css={theme => ({ marginRight: theme.spacing(1) })} />\n                        ) : (\n                            <CheckCircleIcon css={theme => ({ marginRight: theme.spacing(1) })} />\n                        )}\n                        {error ? messages.error : messages.success}\n                    </span>\n                }\n                action={[\n                    <IconButton key=\"close\" color=\"inherit\" onClick={props.onClose}>\n                        <CloseIcon />\n                    </IconButton>,\n                ]}\n            />\n        </MaterialSnackbar>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport * as React from \"react\";\nimport { useContext, useState } from \"react\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { Grid } from \"@material-ui/core\";\nimport { TemplateEditor } from \"@magnit/template-editor\";\nimport { Button } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { createTemplate } from \"services/api/templates\";\nimport { AppContext } from \"context\";\nimport { Snackbar } from \"components/snackbar\";\nimport { Redirect } from \"@reach/router\";\nimport _ from \"lodash\";\n\nexport const CreateTemplate: React.FC = () => {\n    const context = useContext(AppContext);\n    const [template, setTemplate] = useState<object>({});\n    const [error, setError] = useState(false); // success/error snackbar state\n    const [open, setOpen] = useState(false); // open/close snackbar\n    const [redirect, setRedirect] = useState(false);\n\n    function onTemplateChange(template: object) {\n        setTemplate(_.cloneDeep(template));\n    }\n\n    function onSnackbarClose(event?: React.SyntheticEvent, reason?: string) {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        if (!error) {\n            setRedirect(true);\n        }\n        setOpen(false);\n        // wait till animation ends\n        setTimeout(() => setError(false), 100);\n    }\n\n    function onTemplateSave() {\n        createTemplate(context.courier, template)\n            .then(() => setOpen(true))\n            .catch(() => {\n                setOpen(true);\n                setError(true);\n            });\n    }\n\n    return (\n        <SectionLayout>\n            {redirect && <Redirect to={\"/templates\"} noThrow />}\n            <SectionTitle title=\"Создание шаблона\">\n                <Grid item>\n                    <Button\n                        variant=\"contained\"\n                        title=\"Сохранить\"\n                        scheme=\"blue\"\n                        icon={<CheckIcon />}\n                        onClick={onTemplateSave}\n                    />\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                    opacity: open ? 0.5 : 1,\n                    transition: \"opacity 0.3s ease-in-out\",\n                    pointerEvents: open ? \"none\" : \"initial\",\n                })}\n            >\n                <TemplateEditor\n                    css={theme => ({ background: theme.colors.main })}\n                    onChange={onTemplateChange}\n                />\n            </Grid>\n            <Snackbar\n                open={open}\n                error={error}\n                onClose={onSnackbarClose}\n                messages={{\n                    success: \"Шаблон успешно сохранён!\",\n                    error: \"Ошибка сохранения шаблона!\",\n                }}\n            />\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { Grid } from \"@material-ui/core\";\nimport { ITemplate, TemplateEditor } from \"@magnit/template-editor\";\nimport { Button } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { getTemplate, updateTemplate } from \"services/api/templates\";\nimport { AppContext } from \"context\";\nimport { Snackbar } from \"components/snackbar\";\nimport { Redirect } from \"@reach/router\";\nimport _ from \"lodash\";\n\ninterface IEditTemplateProps {\n    templateId: number;\n}\n\nexport const EditTemplate: React.FC<IEditTemplateProps> = ({ templateId }) => {\n    const context = useContext(AppContext);\n    const [template, setTemplate] = useState<object>({});\n    const [error, setError] = useState(false); // success/error snackbar state\n    const [open, setOpen] = useState(false); // open/close snackbar\n    const [redirect, setRedirect] = useState(false);\n\n    useEffect(() => {\n        getTemplate(context.courier, templateId)\n            .then(response => setTemplate(JSON.parse(response.template)))\n            .catch(console.error);\n    }, [context.courier, templateId]);\n\n    function onTemplateChange(template: object) {\n        setTemplate(_.cloneDeep(template));\n    }\n\n    function onSnackbarClose(event?: React.SyntheticEvent, reason?: string) {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        if (!error) {\n            setRedirect(true);\n        }\n        setOpen(false);\n        // wait till animation ends\n        setTimeout(() => setError(false), 100);\n    }\n\n    function onTemplateSave() {\n        updateTemplate(context.courier, templateId, template)\n            .then(() => setOpen(true))\n            .catch(() => {\n                setOpen(true);\n                setError(true);\n            });\n    }\n\n    return (\n        <SectionLayout>\n            {redirect && <Redirect to={\"/templates\"} noThrow />}\n            <SectionTitle title=\"Редактирование шаблона\">\n                <Grid item>\n                    <Button\n                        variant=\"contained\"\n                        title=\"Обновить\"\n                        scheme=\"blue\"\n                        icon={<CheckIcon />}\n                        onClick={onTemplateSave}\n                    />\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                    opacity: open ? 0.5 : 1,\n                    transition: \"opacity 0.3s ease-in-out\",\n                    pointerEvents: open ? \"none\" : \"initial\",\n                })}\n            >\n                {!_.isEmpty(template) && (\n                    <TemplateEditor\n                        initialState={(template as unknown) as ITemplate}\n                        css={theme => ({ background: theme.colors.main })}\n                        onChange={onTemplateChange}\n                    />\n                )}\n            </Grid>\n            <Snackbar\n                open={open}\n                error={error}\n                onClose={onSnackbarClose}\n                messages={{\n                    success: \"Шаблон успешно обновлён!\",\n                    error: \"Ошибка обновления шаблона!\",\n                }}\n            />\n        </SectionLayout>\n    );\n};\n","export * from \"./TemplateList\";\nexport * from \"./CreateTemplate\";\nexport * from \"./EditTemplate\";\n"],"sourceRoot":""}