(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{216:function(e,n,t){"use strict";var i=t(16),r=t(2),o=t(191),s=t(105),u=t(197);function l(){var e=Object(i.a)(["\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                "]);return l=function(){return e},e}function a(){var e=Object(i.a)(["\n                height: var(--section-title-height);\n            "]);return a=function(){return e},e}var c=function(e){var n=e.title,t=e.children;return Object(r.jsx)(o.a,{item:!0,css:Object(r.css)(a())},Object(r.jsx)(s.a,{square:!0,css:Object(r.css)(l()),elevation:0},Object(r.jsx)(o.a,{container:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},Object(r.jsx)(o.a,{item:!0,xs:!0},Object(r.jsx)(u.a,{variant:"h4",component:"div"},Object(r.jsx)("span",null,n))),t)))};t.d(n,"a",function(){return c})},217:function(e,n,t){"use strict";var i=t(16),r=t(2),o=t(191);function s(){var e=Object(i.a)(["\n                width: 100%;\n                min-height: 100vh;\n            "]);return s=function(){return e},e}var u=function(e){var n=e.children;return Object(r.jsx)(o.a,{container:!0,direction:"column",css:Object(r.css)(s())},n)};t.d(n,"a",function(){return u})},221:function(e,n,t){"use strict";var i=t(222),r=t(2),o=t(218),s=function(e){var n=e.children,t=Object(i.a)(e,["children"]);return Object(r.jsx)(o.a,Object.assign({},t,{variant:"contained",css:function(e){return{background:e.colors.primary,":hover":{background:e.colors.primary},color:"white",textTransform:"none",borderRadius:e.radius(5)}}}),n)};t.d(n,"a",function(){return s})},228:function(e,n,t){var i,r,o,s,u;window,e.exports=(i=t(2),r=t(37),o=t(0),s=t(220),u=t(85),function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=11)}([function(e,n){e.exports=i},function(e,n){e.exports=r},function(e,n){e.exports=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(33))},function(e,n){e.exports=s},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(12)),i(t(14)),i(t(8))},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(22)),i(t(23)),i(t(24)),i(t(25)),i(t(26))},function(e,n){e.exports=u},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.GROUP="group",e.QUESTION="question",e.RADIO_ANSWER="radio_answer",e.CHECKBOX_ANSWER="checkbox_answer",e.DROPDOWN_ANSWER="dropdown_answer",e.REFERENCE_ANSWER="reference_answer",e.UPLOAD_FILES="upload_files",e.DATE_ANSWER="date_answer",e.TEXT_ANSWER="text_answer",e.NUMERIC_ANSWER="numeric_answer"}(n.EPuzzleType||(n.EPuzzleType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(32))},function(e,n,t){var i=t(34),r=t(35);e.exports=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var u=0;u<16;++u)n[o+u]=s[u];return n||r(s)}},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(5)),i(t(6)),i(t(27))},function(e,n,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var s=o(t(2)),u=t(0),l=t(13),a=t(1),c=t(8);n.Puzzle=function(e){var t=e.puzzles,o=r(e,["puzzles"]);return u.jsx(s.Fragment,null,t.map(function(e,r){function p(){o.onFocus(e.id)}var d={index:r,id:e.id},f=i({},d,{title:e.title,questionFocused:r===t.length-1});switch(e.puzzleType){case c.EPuzzleType.GROUP:return u.jsx(a.Paper,{key:e.id,id:e.id,onFocus:p,onMouseDown:p,onBlur:o.onBlur,css:function(n){return{position:"relative",paddingTop:n.spacing(2),marginTop:n.spacing(0===r?4:0),paddingBottom:n.spacing(2),marginBottom:n.spacing(r===t.length-1?4:0),zIndex:o.isFocused(e.id)?1300:o.isInFocusedChain(e.id)?1200:0}},square:!0,elevation:o.isFocused(e.id)?16:0},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.GROUP](d)),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.QUESTION:return u.jsx(a.Paper,{key:e.id,id:e.id,css:function(n){return{position:"relative",paddingTop:n.spacing(2),marginTop:n.spacing(0===r?2:0),paddingBottom:n.spacing(2),marginBottom:n.spacing(r===t.length-1?0:2),zIndex:o.isFocused(e.id)?1300:0}},onFocus:p,onMouseDown:p,onBlur:o.onBlur,square:!0,elevation:o.isFocused(e.id)?16:0},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.QUESTION](f)),u.jsx(n.Puzzle,i({questionFocused:o.isFocused(e.id),puzzles:e.puzzles,index:o.index,onMouseDown:p},o)));case c.EPuzzleType.TEXT_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.TEXT_ANSWER](d)),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.DATE_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.DATE_ANSWER](d)),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.NUMERIC_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.NUMERIC_ANSWER](d)),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.RADIO_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.RADIO_ANSWER](i({},f,{addRadioButton:!!o.questionFocused}))),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.CHECKBOX_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.CHECKBOX_ANSWER](i({},f,{addCheckboxButton:!!o.questionFocused}))),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case c.EPuzzleType.DROPDOWN_ANSWER:return u.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}},onMouseDown:o.onMouseDown},u.jsx(l.PuzzleWrapper,null,o.components[c.EPuzzleType.DROPDOWN_ANSWER](i({},f,{addDropdownButton:!!o.questionFocused}))),u.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));default:return u.jsx(s.Fragment,{key:e.id})}}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0);n.PuzzleWrapper=function(e){var n=e.children;return r.jsx(i.Grid,{container:!0,direction:"column",css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},r.jsx(i.Grid,{item:!0},n))}},function(e,n,t){"use strict";var i=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t(0),s=t(15);n.PuzzleToolbar=function(e){var n=e.right,t=void 0===n?0:n,u=e.top,l=void 0===u?0:u,a=i(e,["right","top"]);return o.jsx(r.Paper,{css:function(e){return{position:"absolute",right:"calc(-"+e.spacing(10)+" + "+t+"px)",marginBottom:e.spacing(4),top:0,transform:"translateY("+l+"px)",willChange:"transform",transition:"transform 0.3s ease-in-out"}},className:"toolbar"},o.jsx(r.Grid,{container:!0,direction:"column",alignItems:"center",justify:"center",css:function(e){return{padding:e.spacing()}}},o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",onClick:a.onAddClick},o.jsx(s.QuestionIcon,null)))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{onClick:a.onAddGroup,color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},o.jsx(s.GroupIcon,null)))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{color:"primary",onClick:a.onAddSection,"aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b"},o.jsx(s.SectionIcon,null)))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},o.jsx(s.CopyIcon,null)))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"},o.jsx(s.ImageIcon,null)))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.Grid,{container:!0,justify:"center",alignItems:"center"},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"},o.jsx(s.TrashIcon,null))))))}},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(16)),i(t(17)),i(t(18)),i(t(19)),i(t(20)),i(t(21))},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.QuestionIcon=function(e){var n=e.size,t=void 0===n?18:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("path",{d:"M6.375 6.75C6.375 5.85 7.25 4.5 9 4.5C11.1875 4.5 11.625 6.3 11.625 7.2C11.625 9 9.4375 9.45 9 9.9V11.25",stroke:"#2F97FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("circle",{cx:"9",cy:"13.5",r:"0.5",fill:"#2F97FF",stroke:"#2F97FF",strokeWidth:"0.5"}))}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.GroupIcon=function(e){var n=e.size,t=void 0===n?18:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("circle",{cx:"9",cy:"4.875",r:"1.375",stroke:"#2F97FF"}),o.jsx("circle",{cx:"4.5",cy:"12.75",r:"1.375",stroke:"#2F97FF"}),o.jsx("circle",{cx:"13.5",cy:"12.75",r:"1.375",stroke:"#2F97FF"}),o.jsx("path",{d:"M8.25 6V8C8.25 8.55228 7.80228 9 7.25 9H5.5C4.94772 9 4.5 9.44772 4.5 10V11.25",stroke:"#2F97FF"}),o.jsx("path",{d:"M9.75 6V8C9.75 8.55228 10.1977 9 10.75 9H12.5C13.0523 9 13.5 9.44772 13.5 10V11.25",stroke:"#2F97FF"}))}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.SectionIcon=function(e){var n=e.size,t=void 0===n?18:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("rect",{x:"3",y:"4.5",width:"12",height:"3",rx:"1",fill:"#2F97FF"}),o.jsx("rect",{x:"3",y:"10.5",width:"12",height:"3",rx:"1",fill:"#2F97FF"}))}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.CopyIcon=function(e){var n=e.size,t=void 0===n?24:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("path",{d:"M3.5 14.5V2.5H14",stroke:"#2F97FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M6.75 5.75H18C18.6904 5.75 19.25 6.30964 19.25 7V19C19.25 19.6904 18.6904 20.25 18 20.25H8C7.30964 20.25 6.75 19.6904 6.75 19V5.75Z",stroke:"#2F97FF",strokeWidth:"1.5"}))}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.ImageIcon=function(e){var n=e.size,t=void 0===n?24:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("path",{d:"M14.14 12L11.14 15.87L9 13.28L6 17.14H18L14.14 12Z",fill:"#2F97FF"}),o.jsx("rect",{x:"3.75",y:"3.75",width:"16.5",height:"16.5",rx:"1.25",stroke:"#2F97FF",strokeWidth:"1.5"}),o.jsx("circle",{cx:"9",cy:"10",r:"0.5",fill:"#3F4752",stroke:"#2F97FF"}))}},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(0),s=t(1);n.TrashIcon=function(e){var n=e.size,t=void 0===n?24:n;return o.jsx(s.SvgIcon,{width:t,height:t,viewBox:"0 0 "+t+" "+t,css:o.css(r||(r=i(["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "],["\n                fill: none;\n                width: ","px;\n                height: ","px;\n            "])),t,t)},o.jsx("path",{d:"M14.25 5.125H9.75004L9.97039 4.69348L10.1969 4.25H13.8031L14.0296 4.69348L14.25 5.125ZM17.525 8.75L16.8526 19.3378C16.8526 19.3379 16.8526 19.338 16.8526 19.3381C16.8386 19.5532 16.65 19.75 16.3893 19.75H7.61071C7.34997 19.75 7.1614 19.5532 7.14744 19.3381C7.14744 19.338 7.14743 19.3379 7.14743 19.3378L6.47498 8.75H17.525Z",stroke:"#AAB4BE",strokeWidth:"2.5"}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.COMPARE_WITH_ANSWER="compare_with_answer",e.SET_VALUE="set_value"}(n.EValidationType||(n.EValidationType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.MORE_THAN="more_than",e.LESS_THAN="less_than",e.EQUAL="equal",e.LESS_OR_EQUAL="less_or_equal",e.MORE_OR_EQUAL="more_or_equal"}(n.EOperatorType||(n.EOperatorType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.AND="and",e.OR="or"}(n.EConditionType||(n.EConditionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.NONE="",e.CHOSEN_ANSWER="chosen_answer",e.GIVEN_ANSWER="given_answer",e.EQUAL="equal",e.NOT_EQUAL="not_equal",e.MORE_THAN="more_than",e.LESS_THAN="less_than"}(n.EActionType||(n.EActionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.EMPTY=""}(n.ETerminals||(n.ETerminals={}))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),l=o(t(2)),a=t(2),c=t(6),p=t(1),d=t(28),f=t(30),y=t(36),z=t(5),x=t(38),m=s(t(10)),j=t(3),h=t(40),v=t(42),E=s(t(7)),T=t(44),g=t(46),b=t(48);n.TemplateEditor=function(e){var n,t=a.useState(e.initialState||{id:m.default(),sections:[],puzzles:[],title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY}),o=t[0],s=t[1],O=a.useState(0),P=O[0],_=O[1],S=a.useState([o.id]),w=S[0],A=S[1];function M(e){e.preventDefault(),e.stopPropagation()}window.template=o,a.useEffect(function(){if(w.length){var e=E.default.head(w);if(e){var n=document.getElementById(e);if(n){var t=n.getBoundingClientRect().top;_(window.scrollY+t-128);var i=document.querySelector(".toolbar");i&&(i.style.willChange="transform",setTimeout(function(){return i.style.willChange="initial"},300))}}}},[w]);var N=E.default.throttle(function(){w.length=0},100);function I(e){N(),w.includes(e)?A(w.slice()):(w.push(e),A(w.slice()))}function R(e){s(r({},e))}function C(e){j.traverse(o,function(n){if("object"===i(n)&&"id"in n){var t=n;if("puzzles"in t&&t.puzzles.some(function(n){return n.id===e})){var r=E.default.last(t.puzzles)||{order:-1,puzzleType:c.ETerminals.EMPTY};t.puzzles.push({id:m.default(),title:"",puzzles:[],puzzleType:r.puzzleType,order:r.order+1,conditions:[],description:"",validations:[]})}}}),s(r({},o))}function F(e){j.traverse(o,function(n){if("object"===i(n)&&"id"in n){var t=n;if("puzzles"in t&&t.puzzles.some(function(n){return n.id===e})&&1!==t.puzzles.length){var o=t.puzzles.findIndex(function(n){return n.id===e});console.log("%c%s","color:#094349","index",o),t.puzzles.splice(o,1),t.puzzles=t.puzzles.map(function(e,n){return r({order:n},e)})}}}),s(r({},o))}var G=E.default.head(w),W=((n={})[z.EPuzzleType.GROUP]=function(e){return u.jsx(f.GroupPuzzle,r({template:o,isFocused:function(e){return e===G},onTemplateChange:R},e))},n[z.EPuzzleType.QUESTION]=function(e){return u.jsx(y.QuestionPuzzle,r({template:o,isFocused:function(e){return e===G},onTemplateChange:R},e))},n[z.EPuzzleType.TEXT_ANSWER]=function(e){return u.jsx(x.TextAnswerPuzzle,r({},e))},n[z.EPuzzleType.DATE_ANSWER]=function(e){return u.jsx(b.DateAnswerPuzzle,r({},e))},n[z.EPuzzleType.NUMERIC_ANSWER]=function(e){return u.jsx(h.NumericAnswerPuzzle,r({},e))},n[z.EPuzzleType.RADIO_ANSWER]=function(e){return u.jsx(v.RadioAnswerPuzzle,r({template:o},e,{onTemplateChange:R,onAddRadioButton:C,onDeleteRadioButton:F}))},n[z.EPuzzleType.CHECKBOX_ANSWER]=function(e){return u.jsx(T.CheckboxAnswerPuzzle,r({template:o},e,{onTemplateChange:R,onAddCheckboxButton:C,onDeleteCheckboxButton:F}))},n[z.EPuzzleType.DROPDOWN_ANSWER]=function(e){return u.jsx(g.DropdownAnswerPuzzle,r({template:o},e,{onTemplateChange:R,onAddDropdownButton:C,onDeleteDropdownButton:F}))},n);return u.jsx(l.Fragment,null,u.jsx(z.PuzzleToolbar,{top:P,onAddClick:function(){var e=[z.EPuzzleType.GROUP];j.traverse(o,function(n){if(w.length&&"object"===i(n)&&"id"in n){var t=E.default.head(w);if(n.id===t&&w.includes(n.id)&&(!("puzzleType"in n)||e.includes(n.puzzleType))){var r=n,o=r.puzzles[r.puzzles.length-1];r.puzzles.push({id:m.default(),puzzles:[{id:m.default(),puzzleType:z.EPuzzleType.TEXT_ANSWER,title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY,order:0,puzzles:[],conditions:[],validations:[]}],validations:[],conditions:[],title:c.ETerminals.EMPTY,description:c.ETerminals.EMPTY,puzzleType:z.EPuzzleType.QUESTION,order:(o||{order:-1}).order+1})}}}),s(r({},o))},onAddGroup:function(){j.traverse(o,function(e){if(w.length&&"object"===i(e)&&"id"in e){var n=E.default.head(w);if(e.id===n&&w.includes(e.id)&&!("puzzleType"in e)){var t=e,r=t.puzzles[t.puzzles.length-1];t.puzzles.push({id:m.default(),puzzles:[],validations:[],conditions:[],description:c.ETerminals.EMPTY,title:c.ETerminals.EMPTY,puzzleType:z.EPuzzleType.GROUP,order:(r||{order:-1}).order+1})}}}),s(r({},o))},onAddSection:function(){var e=o.sections[o.sections.length-1];o.sections.push({id:m.default(),puzzles:[],title:c.ETerminals.EMPTY,order:(e||{order:-1}).order+1}),s(r({},o))}}),u.jsx(p.Paper,{css:function(e){return{paddingTop:e.spacing(4),paddingBottom:o.puzzles.some(function(e){return e.puzzleType===z.EPuzzleType.GROUP})?e.spacing(0):e.spacing(4)}},id:o.id,onFocus:I.bind(void 0,o.id),onMouseDown:I.bind(void 0,o.id),onBlur:M,elevation:G===o.id?16:0},u.jsx(p.Grid,{container:!0,direction:"column"},u.jsx(p.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},u.jsx(p.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430",defaultValue:o.title})),u.jsx(p.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},u.jsx(p.TextField,{fullWidth:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",defaultValue:o.description})),u.jsx(p.Grid,{item:!0},u.jsx(z.Puzzle,{puzzles:o.puzzles,index:0,components:W,onFocus:I,onBlur:M,isFocused:function(e){return e===G},isInFocusedChain:function(e){return w.includes(e)}})))),o.sections.map(function(e,n){return u.jsx("div",{key:e.id,id:e.id,onFocus:I.bind(null,e.id),onMouseDown:I.bind(null,e.id),onBlur:M},u.jsx("div",{css:function(e){return{margin:e.spacing(4)}}}),u.jsx(p.Grid,{container:!0,direction:"column",css:function(e){return{marginBottom:e.spacing(2)}}},u.jsx(p.Grid,{item:!0},u.jsx(p.Grid,{container:!0,alignItems:"flex-end"},u.jsx(d.SectionPuzzle,{title:e.title,id:e.id,index:n})))),u.jsx(p.Grid,{container:!0},u.jsx(p.Paper,{css:function(e){return{width:"100%",":empty":{minHeight:e.spacing(32)}}},elevation:G===e.id?16:0},u.jsx(z.Puzzle,{puzzles:e.puzzles,index:n,components:W,onFocus:I,onBlur:M,isFocused:function(e){return e===G},isInFocusedChain:function(e){return w.includes(e)}}))))}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(29))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0);n.SectionPuzzle=function(e){var n=e.title,t=e.index;return r.jsx(i.Grid,{container:!0,alignItems:"flex-end",spacing:2},r.jsx(i.Grid,{item:!0,xs:1},r.jsx(i.Typography,{variant:"h6"},"\u0420\u0430\u0437\u0434\u0435\u043b ",t+2,".")),r.jsx(i.Grid,{item:!0,xs:11},r.jsx(i.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430",defaultValue:n})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(31))},function(e,n,t){"use strict";var i=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t(0),s=t(9);n.GroupPuzzle=function(e){var n=e.id,t=(e.index,i(e,["id","index"]));return o.jsx(r.Grid,{container:!0,direction:"column"},o.jsx(r.Grid,{item:!0,css:function(e){return{marginRight:e.spacing(2)}}},o.jsx(r.Typography,{variant:"h6"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432")),o.jsx(r.Grid,{item:!0,css:function(e){return{marginTop:e.spacing(2)}}},o.jsx(r.Typography,{variant:"subtitle1"},"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430")),o.jsx(r.Grid,{css:function(e){return{flexGrow:1,marginTop:e.spacing(2),opacity:t.isFocused(n)?1:.5}},item:!0},o.jsx(s.Conditions,{puzzleId:n,template:t.template,onTemplateChange:t.onTemplateChange})))}},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a,c=t(0),p=u(t(2)),d=t(2),f=t(1),y=t(4),z=t(6),x=t(3),m=t(5),j=l(t(7)),h=l(t(10));function v(e){var n;return(n={},n[z.EActionType.CHOSEN_ANSWER]="\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0442\u0432\u0435\u0442",n[z.EActionType.NOT_EQUAL]="\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",n[z.EActionType.MORE_THAN]="\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",n[z.EActionType.LESS_THAN]="\u041c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",n[z.EActionType.EQUAL]="\u0420\u0430\u0432\u043d\u043e",n[z.EActionType.GIVEN_ANSWER]="\u0414\u0430\u043d \u043e\u0442\u0432\u0435\u0442",n[z.EActionType.NONE]=z.ETerminals.EMPTY,n)[e]}n.Conditions=function(e){var n=e.puzzleId,t=e.template,u=s(e,["puzzleId","template"]),l=d.useState([{id:h.default(),order:0,questionPuzzle:z.ETerminals.EMPTY,answerPuzzle:z.ETerminals.EMPTY,value:z.ETerminals.EMPTY,actionType:z.EActionType.NONE,conditionType:z.EConditionType.OR}]),E=l[0],T=l[1],g=d.useState([]),b=g[0],O=g[1],P=d.useState([]),_=P[0],S=P[1],w=d.useRef({});function A(e,n){var t=E.findIndex(function(n){return n.id===e});E[t]=o({},E[t],n),T(E.slice())}return d.useEffect(function(){j.default.isEqual(t,w.current)||E.forEach(function(e,n,r){var s=!1,u=b.find(function(n){return n.id===e.questionPuzzle});u&&(x.traverse(t,function(e){if("object"===i(e)&&"puzzles"in e){var n=e;"puzzleType"in n&&n.puzzleType===m.EPuzzleType.QUESTION&&n.id===u.id&&(s=!j.default.isEqual(u,n))}}),s&&(e.answerPuzzle=z.ETerminals.EMPTY,e.value=z.ETerminals.EMPTY,e.actionType=z.EActionType.NONE,r[n]=o({},e)))}),b.length=0,_.length=0,x.traverse(t,function(e){if("object"===i(e)&&"puzzles"in e){var t=e;if(t.puzzles.some(function(e){return e.id===n})){var r=t.puzzles.findIndex(function(e){return e.id===n});j.default.range(0,r).forEach(function(e){x.traverse(t.puzzles[e],function(e){if("object"===i(e)&&"puzzleType"in e){var n=e;n.puzzleType===m.EPuzzleType.QUESTION&&n.title.length>0?b.push(n):[m.EPuzzleType.GROUP,m.EPuzzleType.QUESTION,m.EPuzzleType.UPLOAD_FILES].includes(n.puzzleType)||_.push(n)}})}),t.puzzles[r].conditions=E.slice()}}}),O(j.default.cloneDeep(b)),S(j.default.cloneDeep(_)),j.default.isEqual(t,w.current)||j.default.isEmpty(w.current)?w.current=j.default.cloneDeep(t):(w.current=j.default.cloneDeep(t),u.onTemplateChange(w.current))},[E,t]),c.jsx(f.Grid,{container:!0,spacing:2,alignItems:"flex-end"},E.map(function(e,n){var t=_.filter(function(n){var t=b.find(function(n){return n.id===e.questionPuzzle});return!!t&&t.puzzles.some(function(e){return e.id===n.id})}),i=j.default.head(t)||{puzzleType:z.ETerminals.EMPTY},r=function(e,n){var t;return 0===e?"\u0415\u0441\u043b\u0438":(t={},t[z.EConditionType.AND]="\u0418",t[z.EConditionType.OR]="\u0418\u043b\u0438",t)[n]}(n,e.conditionType);return c.jsx(p.Fragment,{key:e.id},c.jsx(f.Grid,{xs:0===n?2:6,item:!0},0===n&&r,n>0&&c.jsx(p.Fragment,null,c.jsx(f.RadioGroup,{value:e.conditionType,onChange:function(n,t){A(e.id,{conditionType:t})},row:!0},c.jsx(f.FormControlLabel,{value:z.EConditionType.AND,control:c.jsx(f.Radio,{color:"primary"}),label:"\u0418",labelPlacement:"end"}),c.jsx(f.FormControlLabel,{value:z.EConditionType.OR,control:c.jsx(f.Radio,{color:"primary"}),label:"\u0418\u043b\u0438",labelPlacement:"end"})))),0===n&&c.jsx(f.Grid,{item:!0,xs:4},c.jsx(f.FormControl,{fullWidth:!0},c.jsx(f.InputLabel,{htmlFor:"question-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"),c.jsx(f.Select,{value:e.questionPuzzle||z.ETerminals.EMPTY,input:c.jsx(f.Input,{id:"question-puzzle"}),onChange:function(n){E.length=1,A(e.id,{answerPuzzle:z.ETerminals.EMPTY,value:z.ETerminals.EMPTY,actionType:z.EActionType.NONE,questionPuzzle:n.target.value})}},0===b.length&&c.jsx(f.MenuItem,null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"),b.map(function(e){return c.jsx(f.MenuItem,{key:e.id,value:e.id},e.title)})))),!!e.questionPuzzle&&c.jsx(p.Fragment,null,c.jsx(f.Grid,{item:!0,xs:3},c.jsx(f.FormControl,{fullWidth:!0},c.jsx(f.InputLabel,{htmlFor:"action-type"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),c.jsx(f.Select,{value:e.actionType||z.ETerminals.EMPTY,input:c.jsx(f.Input,{id:"action-type"}),onChange:function(n){A(e.id,{actionType:n.target.value})}},function(e){switch(e){case m.EPuzzleType.TEXT_ANSWER:case m.EPuzzleType.NUMERIC_ANSWER:case m.EPuzzleType.DATE_ANSWER:return[c.jsx(f.MenuItem,{key:z.EActionType.EQUAL,value:z.EActionType.EQUAL},v(z.EActionType.EQUAL)),c.jsx(f.MenuItem,{key:z.EActionType.LESS_THAN,value:z.EActionType.LESS_THAN},v(z.EActionType.LESS_THAN)),c.jsx(f.MenuItem,{key:z.EActionType.MORE_THAN,value:z.EActionType.MORE_THAN},v(z.EActionType.MORE_THAN)),c.jsx(f.MenuItem,{key:z.EActionType.NOT_EQUAL,value:z.EActionType.NOT_EQUAL},v(z.EActionType.NOT_EQUAL)),c.jsx(f.MenuItem,{key:z.EActionType.GIVEN_ANSWER,value:z.EActionType.GIVEN_ANSWER},v(z.EActionType.GIVEN_ANSWER))];case m.EPuzzleType.DROPDOWN_ANSWER:case m.EPuzzleType.RADIO_ANSWER:case m.EPuzzleType.CHECKBOX_ANSWER:return[c.jsx(f.MenuItem,{key:z.EActionType.CHOSEN_ANSWER,value:z.EActionType.CHOSEN_ANSWER},v(z.EActionType.CHOSEN_ANSWER)),c.jsx(f.MenuItem,{key:z.EActionType.GIVEN_ANSWER,value:z.EActionType.GIVEN_ANSWER},v(z.EActionType.GIVEN_ANSWER))];default:return[c.jsx(f.MenuItem,{key:z.EActionType.GIVEN_ANSWER,value:z.EActionType.GIVEN_ANSWER},v(z.EActionType.GIVEN_ANSWER))]}}(i.puzzleType)))),c.jsx(f.Grid,{item:!0,xs:2},function(e,n,t){switch(e.actionType){case z.EActionType.CHOSEN_ANSWER:return function(i){return c.jsx(f.FormControl,{fullWidth:!0},c.jsx(f.InputLabel,{htmlFor:"answer-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442"),c.jsx(f.Select,{onChange:i,value:e.answerPuzzle||z.ETerminals.EMPTY,input:c.jsx(f.Input,{id:"answer-puzzle"})},0===n.length&&c.jsx(f.MenuItem,null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"),0!==n.length&&n.filter(function(n){var i=t.find(function(n){return e.questionPuzzle===n.id});return!!i&&i.puzzles.some(function(e){return e.id===n.id})}).map(function(e){return c.jsx(f.MenuItem,{key:e.id,value:e.id},e.title)})))};case z.EActionType.EQUAL:case z.EActionType.LESS_THAN:case z.EActionType.MORE_THAN:case z.EActionType.NOT_EQUAL:return function(n){return c.jsx(f.TextField,{value:e.value,onChange:n,css:function(e){return{marginTop:e.spacing(-2)}},label:"\u041e\u0442\u0432\u0435\u0442"})};case z.EActionType.GIVEN_ANSWER:default:return function(){return c.jsx(p.Fragment,null)}}}(e,_,b)(e.actionType===z.EActionType.CHOSEN_ANSWER?function(n){A(e.id,{answerPuzzle:n.target.value})}:function(n){A(e.id,{value:n.target.value})}))),c.jsx(f.Grid,{item:!0,xs:e.questionPuzzle?1:6},c.jsx(f.Grid,{container:!0,justify:"flex-end"},c.jsx(f.Grid,{item:!0},c.jsx(f.IconButton,{onClick:function(){return n=e.id,void(1!==E.length&&T(E.filter(function(e){return e.id!==n}).slice()));var n}},c.jsx(y.Close,null))))))}),c.jsx(f.Grid,{item:!0,xs:2},c.jsx(f.Button,{size:"small",css:c.css(a||(a=r(["\n                        text-transform: none;\n                    "],["\n                        text-transform: none;\n                    "]))),variant:"contained",onClick:function(){if(0!==b.length&&(0===E.length||E.some(function(e){return!!e.questionPuzzle}))){var e=j.default.head(E)||{questionPuzzle:z.ETerminals.EMPTY};E.push({id:h.default(),order:E.length-1,questionPuzzle:e.questionPuzzle,answerPuzzle:z.ETerminals.EMPTY,value:z.ETerminals.EMPTY,actionType:z.EActionType.NONE,conditionType:z.EConditionType.OR}),T(E.slice())}}},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435")))}},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.traverse=function e(n,t){if(o=n,"[object Array]"===Object.prototype.toString.call(o))t&&t(n),n.forEach(function(n){return e(n,t)});else if(function(e){return"object"===i(e)&&null!==e}(n))for(var r in t&&t(n),n)n.hasOwnProperty(r)&&e(n[r],t);else t&&t(n);var o}},function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}},function(e,n){for(var t=[],i=0;i<256;++i)t[i]=(i+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(37))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=t(2),l=t(6),a=t(1),c=t(0),p=t(9),d=t(5),f=t(3),y=s(t(7)),z=t(2);n.QuestionPuzzle=function(e){var n=e.template,t=e.id,s=o(e,["template","id"]),x=u.useState(!1),m=x[0],j=x[1],h=u.useState(l.ETerminals.EMPTY),v=h[0],E=h[1],T=u.useState(s.title),g=T[0],b=T[1],O=z.useRef({}),P=z.useRef(l.ETerminals.EMPTY);return u.useEffect(function(){f.traverse(n,function(e){if("object"===i(e)&&"puzzles"in e){var n=e;if("id"in n&&n.id===t){var o=v;if(!o){var s=y.default.head(n.puzzles)||{puzzleType:l.ETerminals.EMPTY};E(s.puzzleType),o=s.puzzleType}n.puzzles.length&&(v!==P.current&&(n.puzzles.length=1),n.puzzles=n.puzzles.map(function(e){return r({},e,{puzzleType:o,title:v===P.current?e.title:""})}),n.title=g,P.current=o)}}}),y.default.isEqual(n,O.current)||y.default.isEmpty(O.current)?O.current=y.default.cloneDeep(n):(O.current=y.default.cloneDeep(n),s.onTemplateChange(O.current))},[v,g,n]),c.jsx(a.Grid,{container:!0,direction:"column"},c.jsx(a.Grid,{item:!0,xs:12},c.jsx(a.Grid,{container:!0,spacing:4},c.jsx(a.Grid,{item:!0,xs:9},c.jsx(a.Grid,{container:!0,alignItems:"flex-end"},c.jsx(a.Grid,{xs:1,item:!0},c.jsx(a.Typography,{variant:"body1"},s.index+1,".")),c.jsx(a.Grid,{xs:11,item:!0},c.jsx(a.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",value:g,onChange:function(e){b(e.target.value)}})))),c.jsx(a.Grid,{item:!0,xs:3},c.jsx(a.FormControl,{fullWidth:!0},c.jsx(a.InputLabel,{htmlFor:"question-puzzle-type"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"),c.jsx(a.Select,{value:v,input:c.jsx(a.Input,{id:"question-puzzle-type"}),onChange:function(e){E(e.target.value)}},c.jsx(a.MenuItem,{value:d.EPuzzleType.TEXT_ANSWER},"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435"),c.jsx(a.MenuItem,{value:d.EPuzzleType.NUMERIC_ANSWER},"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435"),c.jsx(a.MenuItem,{value:d.EPuzzleType.RADIO_ANSWER},"\u041e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),c.jsx(a.MenuItem,{value:d.EPuzzleType.CHECKBOX_ANSWER},"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"),c.jsx(a.MenuItem,{value:d.EPuzzleType.DATE_ANSWER},"\u0414\u0430\u0442\u0430"),c.jsx(a.MenuItem,{value:d.EPuzzleType.DROPDOWN_ANSWER},"\u0412\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a")))))),c.jsx(a.Grid,{item:!0,xs:12},s.isFocused(t)&&c.jsx(a.FormControlLabel,{css:function(e){return{marginTop:e.spacing(2)}},control:c.jsx(a.Checkbox,{checked:m,onChange:function(e){j(e.target.checked)},color:"primary"}),label:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0433\u0440\u0443\u043f\u043f\u044b"})),m&&c.jsx(a.Grid,{xs:12,css:function(e){return{marginTop:e.spacing(2),opacity:s.isFocused(t)?1:.5,pointerEvents:s.isFocused(t)?"initial":"none"}},item:!0},c.jsx(p.Conditions,{puzzleId:t,template:n,onTemplateChange:s.onTemplateChange})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(39))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0);n.TextAnswerPuzzle=function(){return r.jsx(i.Grid,{container:!0,alignItems:"flex-end"},r.jsx(i.Grid,{item:!0,xs:12},r.jsx(i.TextField,{type:"text",fullWidth:!0,label:"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",disabled:!0})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(41))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0);n.NumericAnswerPuzzle=function(){return r.jsx(i.Grid,{container:!0,alignItems:"flex-end"},r.jsx(i.Grid,{item:!0,xs:12},r.jsx(i.TextField,{type:"number",fullWidth:!0,label:"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043e\u0442\u0432\u0435\u0442",disabled:!0})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(43))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var l,a,c,p=u(t(2)),d=t(2),f=t(1),y=t(0),z=t(3),x=t(4);n.RadioAnswerPuzzle=function(e){var n=e.template,t=s(e,["template"]),u=d.useState(t.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(t.index+1)),m=u[0],j=u[1];return d.useEffect(function(){z.traverse(n,function(e){if("object"===i(e)&&"puzzles"in e){var n=e;"id"in n&&n.id===t.id&&(n.title=m)}}),t.onTemplateChange(o({},n))},[m]),y.jsx(p.Fragment,null,y.jsx(f.Grid,{container:!0,alignItems:"center"},y.jsx(f.Grid,{item:!0,xs:1},y.jsx(f.Radio,{disabled:!0,checked:!0,css:y.css(l||(l=r(["\n                            padding-left: 0;\n                        "],["\n                            padding-left: 0;\n                        "])))})),y.jsx(f.Grid,{item:!0,xs:10},y.jsx(f.TextField,{fullWidth:!0,value:m,onChange:function(e){j(e.target.value)}})),y.jsx(f.Grid,{item:!0,xs:1},y.jsx(f.Grid,{container:!0,justify:"flex-end"},y.jsx(f.Grid,{item:!0},y.jsx(f.IconButton,{onClick:function(){t.onDeleteRadioButton(t.id)}},y.jsx(x.Close,null)))))),t.addRadioButton&&t.questionFocused&&y.jsx(f.Grid,{container:!0,alignItems:"center"},y.jsx(f.Grid,{item:!0,xs:1,css:function(e){return{marginTop:e.spacing(2)}}},y.jsx(f.Radio,{disabled:!0,checked:!0,css:y.css(a||(a=r(["\n                                padding-left: 0;\n                            "],["\n                                padding-left: 0;\n                            "])))})),y.jsx(f.Grid,{item:!0,xs:11,css:function(e){return{marginTop:e.spacing(2)}}},y.jsx(f.Button,{variant:"contained",size:"small",css:y.css(c||(c=r(["\n                                text-transform: none;\n                            "],["\n                                text-transform: none;\n                            "]))),onClick:function(){t.onAddRadioButton(t.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"))))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(45))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var l,a,c,p=u(t(2)),d=t(2),f=t(1),y=t(0),z=t(3),x=t(4);n.CheckboxAnswerPuzzle=function(e){var n=s(e,[]),t=d.useState(n.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(n.index+1)),u=t[0],m=t[1];return d.useEffect(function(){z.traverse(n.template,function(e){if("object"===i(e)&&"puzzles"in e){var t=e;"id"in t&&t.id===n.id&&(t.title=u)}}),n.onTemplateChange(o({},n.template))},[u]),y.jsx(p.Fragment,null,y.jsx(f.Grid,{container:!0,alignItems:"center"},y.jsx(f.Grid,{item:!0,xs:1},y.jsx(f.Checkbox,{disabled:!0,checked:!0,css:y.css(l||(l=r(["\n                            padding-left: 0;\n                        "],["\n                            padding-left: 0;\n                        "])))})),y.jsx(f.Grid,{item:!0,xs:10},y.jsx(f.TextField,{fullWidth:!0,value:u,onChange:function(e){m(e.target.value)}})),y.jsx(f.Grid,{item:!0,xs:1},y.jsx(f.Grid,{container:!0,justify:"flex-end"},y.jsx(f.Grid,{item:!0},y.jsx(f.IconButton,{onClick:function(){n.onDeleteCheckboxButton(n.id)}},y.jsx(x.Close,null)))))),n.addCheckboxButton&&n.questionFocused&&y.jsx(f.Grid,{container:!0,alignItems:"center"},y.jsx(f.Grid,{item:!0,xs:1,css:function(e){return{marginTop:e.spacing(2)}}},y.jsx(f.Checkbox,{disabled:!0,checked:!0,css:y.css(a||(a=r(["\n                                padding-left: 0;\n                            "],["\n                                padding-left: 0;\n                            "])))})),y.jsx(f.Grid,{item:!0,xs:11,css:function(e){return{marginTop:e.spacing(2)}}},y.jsx(f.Button,{variant:"contained",size:"small",css:y.css(c||(c=r(["\n                                text-transform: none;\n                            "],["\n                                text-transform: none;\n                            "]))),onClick:function(){n.onAddCheckboxButton(n.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"))))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(47))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var l,a=u(t(2)),c=t(2),p=t(1),d=t(0),f=t(3),y=t(4);n.DropdownAnswerPuzzle=function(e){var n=s(e,[]),t=c.useState(n.title||"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 "+(n.index+1)),u=t[0],z=t[1];return c.useEffect(function(){f.traverse(n.template,function(e){if("object"===i(e)&&"puzzles"in e){var t=e;"id"in t&&t.id===n.id&&(t.title=u)}}),n.onTemplateChange(o({},n.template))},[u]),d.jsx(a.Fragment,null,d.jsx(p.Grid,{container:!0,alignItems:"center"},d.jsx(p.Grid,{item:!0,xs:1},n.index+1,"."),d.jsx(p.Grid,{item:!0,xs:10},d.jsx(p.TextField,{fullWidth:!0,value:u,onChange:function(e){z(e.target.value)}})),d.jsx(p.Grid,{item:!0,xs:1},d.jsx(p.Grid,{container:!0,justify:"flex-end"},d.jsx(p.Grid,{item:!0},d.jsx(p.IconButton,{onClick:function(){n.onDeleteDropdownButton(n.id)}},d.jsx(y.Close,null)))))),n.addDropdownButton&&n.questionFocused&&d.jsx(p.Grid,{container:!0,alignItems:"center"},d.jsx(p.Grid,{item:!0,xs:1,css:function(e){return{marginTop:e.spacing(2)}}},n.index+2,"."),d.jsx(p.Grid,{item:!0,xs:11,css:function(e){return{marginTop:e.spacing(2)}}},d.jsx(p.Button,{variant:"contained",size:"small",css:d.css(l||(l=r(["\n                                text-transform: none;\n                            "],["\n                                text-transform: none;\n                            "]))),onClick:function(){n.onAddDropdownButton(n.id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0440\u0438\u0430\u043d\u0442"))))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(49))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0),o=t(4);n.DateAnswerPuzzle=function(){return r.jsx(i.Grid,{container:!0,alignItems:"flex-end"},r.jsx(i.Grid,{item:!0,xs:12},r.jsx(i.FormControl,{disabled:!0},r.jsx(i.InputLabel,{htmlFor:"date-answer-puzzle"},"\u0414\u0435\u043d\u044c, \u043c\u0435\u0441\u044f\u0446, \u0433\u043e\u0434"),r.jsx(i.Input,{id:"date-answer-puzzle",type:"text",endAdornment:r.jsx(i.InputAdornment,{position:"end"},r.jsx(o.CalendarToday,null))}))))}}]))},245:function(e,n,t){"use strict";t.r(n);var i=t(2),r=t(217),o=t(216),s=t(191),u=t(230),l=t(228),a=t(238),c=t.n(a),p={id:c()(),sections:[{id:c()(),title:"\u0411\u043b\u0430\u0433\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",description:"",order:1,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u041d\u0443\u0436\u043d\u0430 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430?",description:"",order:0,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.RADIO_ANSWER,title:"\u0414\u0430",description:"",order:0,puzzles:[],conditions:[],validations:[]},{id:c()(),puzzleType:l.EPuzzleType.RADIO_ANSWER,title:"\u041d\u0435\u0442",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]},{id:c()(),title:"",description:"",order:1,puzzleType:l.EPuzzleType.GROUP,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0438",description:"",order:0,puzzles:[{id:c()(),puzzleType:l.EPuzzleType.NUMERIC_ANSWER,title:"",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]}],conditions:[],validations:[]}]}],puzzles:[],title:"\u0412\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c"},d=t(221),f=function(){return Object(i.jsx)(r.a,null,Object(i.jsx)(o.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},Object(i.jsx)(s.a,{item:!0},Object(i.jsx)(d.a,null,Object(i.jsx)(u.a,{css:function(e){return{marginRight:e.spacing()}},alignmentBaseline:"middle"}),Object(i.jsx)("span",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),Object(i.jsx)(s.a,{item:!0,css:function(e){return{maxWidth:e.maxTemplateWidth,margin:e.spacing(4),position:"relative"}}},Object(i.jsx)(l.TemplateEditor,{initialState:p})))};t.d(n,"CreateTemplate",function(){return f})}}]);
//# sourceMappingURL=6.b2c4c2d0.chunk.js.map