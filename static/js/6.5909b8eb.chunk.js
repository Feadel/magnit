(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{244:function(e,n,t){"use strict";var i=t(30),r=t(4),o=t(216),u=t(125),s=t(225);function c(){var e=Object(i.a)(["\n                            flex-grow: 1;\n                        "]);return c=function(){return e},e}function l(){var e=Object(i.a)(["\n                    height: 100%;\n                    display: flex;\n                    align-items: center;\n                "]);return l=function(){return e},e}function a(){var e=Object(i.a)(["\n                height: var(--section-title-height);\n            "]);return a=function(){return e},e}var p=function(e){var n=e.title,t=e.children;return Object(r.jsx)(o.a,{item:!0,css:Object(r.css)(a())},Object(r.jsx)(u.a,{square:!0,css:Object(r.css)(l())},Object(r.jsx)(o.a,{container:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},Object(r.jsx)(o.a,{item:!0,css:Object(r.css)(c())},Object(r.jsx)(s.a,{variant:"h4",component:"div"},Object(r.jsx)("span",null,n))),t)))};t.d(n,"a",function(){return p})},245:function(e,n,t){"use strict";var i=t(30),r=t(4),o=t(216);function u(){var e=Object(i.a)(["\n                width: 100%;\n                min-height: 100vh;\n            "]);return u=function(){return e},e}var s=function(e){var n=e.children;return Object(r.jsx)(o.a,{container:!0,direction:"column",css:Object(r.css)(u())},n)};t.d(n,"a",function(){return s})},254:function(e,n,t){var i,r,o,u,s;window,e.exports=(i=t(4),r=t(81),o=t(0),u=t(210),s=t(228),function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(e,n){e.exports=i},function(e,n){e.exports=r},function(e,n){e.exports=o},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(11)),i(t(13)),i(t(4))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.GROUP="group",e.QUESTION="question",e.RADIO_ANSWER="radio_answer",e.DROPDOWN_ANSWER="dropdown_answer",e.INPUT_ANSWER="input_answer"}(n.EPuzzleType||(n.EPuzzleType={}))},function(e,n){e.exports=u},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(14)),i(t(15)),i(t(16)),i(t(17))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(25))},function(e,n){e.exports=s},function(e,n,t){var i=t(26),r=t(27);e.exports=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var u=(e=e||{}).random||(e.rng||i)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var s=0;s<16;++s)n[o+s]=u[s];return n||r(u)}},function(e,n,t){"use strict";function i(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i(t(3)),i(t(6)),i(t(18))},function(e,n,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var u=o(t(2)),s=t(0),c=t(12),l=t(1),a=t(4);n.Puzzle=function(e){var t=e.puzzles,o=r(e,["puzzles"]);return s.jsx(u.Fragment,null,t.map(function(e,r){function u(){o.onFocus(e.id)}switch(e.puzzleType){case a.EPuzzleType.GROUP:return s.jsx(l.Paper,{key:e.id,id:e.id,onFocus:u,onBlur:o.onBlur,onMouseDown:function(n){return o.onMouseDown(n,e.id)},css:function(n){return{position:"relative",paddingTop:n.spacing(2),marginTop:n.spacing(0===r?4:0),paddingBottom:n.spacing(2),marginBottom:n.spacing(r===t.length-1?4:0),zIndex:o.isFocused(e.id)?1300:o.isInFocusedChain(e.id)?1200:0}},square:!0,elevation:o.isFocused(e.id)?16:0},s.jsx(c.PuzzleWrapper,null,o.components[a.EPuzzleType.GROUP](r,e.id)),s.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case a.EPuzzleType.QUESTION:return s.jsx(l.Paper,{key:e.id,id:e.id,css:function(n){return{position:"relative",paddingTop:n.spacing(2),marginTop:n.spacing(0===r?2:0),paddingBottom:n.spacing(2),marginBottom:n.spacing(r===t.length-1?0:2),zIndex:o.isFocused(e.id)?1300:0}},onMouseDown:function(n){return o.onMouseDown(n,e.id)},onFocus:u,onBlur:o.onBlur,square:!0,elevation:o.isFocused(e.id)?16:0},s.jsx(c.PuzzleWrapper,null,o.components[a.EPuzzleType.QUESTION](r,e.id,e.title)),s.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));case a.EPuzzleType.INPUT_ANSWER:return s.jsx("div",{key:e.id,css:function(e){return{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}},s.jsx(c.PuzzleWrapper,null,o.components[a.EPuzzleType.INPUT_ANSWER](r,e.id)),s.jsx(n.Puzzle,i({puzzles:e.puzzles,index:o.index},o)));default:return null}}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),r=t(0);n.PuzzleWrapper=function(e){var n=e.children;return r.jsx(i.Grid,{container:!0,direction:"column",css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},r.jsx(i.Grid,{item:!0},n))}},function(e,n,t){"use strict";var i=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t(0),u=t(5);n.PuzzleToolbar=function(e){var n=e.right,t=void 0===n?0:n,s=e.top,c=void 0===s?0:s,l=i(e,["right","top"]);return o.jsx(r.Paper,{css:function(e){return{position:"absolute",right:"calc(-"+e.spacing(10)+" + "+t+"px)",marginBottom:e.spacing(4),top:0,transform:"translateY("+c+"px)",willChange:"transform",transition:"transform 0.3s ease-in-out"}},className:"toolbar"},o.jsx(r.Grid,{container:!0,direction:"column",alignContent:"center",css:function(e){return{padding:e.spacing()}}},o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",onClick:l.onAddClick},o.jsx(u.Add,null))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{onClick:l.onAddGroup,color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"},o.jsx(u.NoteAdd,null))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{color:"primary",onClick:l.onAddSection,"aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b"},o.jsx(u.Title,null))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},o.jsx(u.FileCopy,null))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"},o.jsx(u.AddPhotoAlternate,null))),o.jsx(r.Grid,{item:!0,css:function(e){return{marginBottom:e.spacing()}}},o.jsx(r.IconButton,{color:"primary","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"},o.jsx(u.Delete,null)))))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.COMPARE_WITH_ANSWER="compare_with_answer",e.SET_VALUE="set_value"}(n.EValidationType||(n.EValidationType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.MORE_THAN="more_than",e.LESS_THAN="less_than",e.EQUAL="equal",e.LESS_OR_EQUAL="less_or_equal",e.MORE_OR_EQUAL="more_or_equal"}(n.EOperatorType||(n.EOperatorType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.AND="and",e.OR="or"}(n.EConditionType||(n.EConditionType={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.CHOSEN_ANSWER="chosen_answer",e.GIVEN_ANSWER="given_answer",e.EQUAL="equal",e.NOT_EQUAL="not_equal",e.MORE_THAN="more_than",e.LESS_THAN="less_than"}(n.EActionType||(n.EActionType={}))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=t(0),a=u(t(2)),p=t(2),d=t(1),f=t(19),y=t(21),z=t(28),j=t(3),m=t(30),x=s(t(9)),T=t(7),E=u(t(8));n.TemplateEditor=function(e){var n,t=p.useState(e.initialState||{id:x.default(),sections:[],puzzles:[],title:"",description:""}),u=t[0],s=t[1],v=p.useState(0),O=v[0],g=v[1],_=p.useState([u.id]),b=_[0],P=_[1];function h(e){e.preventDefault(),e.stopPropagation()}function A(e){b.includes(e)?P(b.slice()):(b.push(e),P(b.slice()))}function S(e,n){e.stopPropagation(),n!==E.head(b)&&P([])}p.useEffect(function(){if(b.length){var e=E.head(b);if(e){var n=document.getElementById(e);if(n){var t=n.getBoundingClientRect().top;g(window.scrollY+t-128);var i=document.querySelector(".toolbar");i&&(i.style.willChange="transform",setTimeout(function(){return i.style.willChange="initial"},300))}}}},[b]);var N=E.head(b);return l.jsx(a.Fragment,null,l.jsx(j.PuzzleToolbar,{top:O,onAddClick:function(){var e=[j.EPuzzleType.GROUP];T.traverse(u,function(n){if(b.length&&"object"===i(n)&&"id"in n){var t=E.head(b);if(n.id===t&&b.includes(n.id)&&(!("puzzleType"in n)||e.includes(n.puzzleType))){var r=n,o=r.puzzles[r.puzzles.length-1];r.puzzles.push({id:x.default(),puzzles:[{id:x.default(),puzzleType:j.EPuzzleType.INPUT_ANSWER,title:"",description:"",order:0,puzzles:[],conditions:[],validations:[]}],validations:[],conditions:[],title:"",description:"",puzzleType:j.EPuzzleType.QUESTION,order:(o||{order:-1}).order+1})}}}),s(o({},u))},onAddGroup:function(){T.traverse(u,function(e){if(b.length&&"object"===i(e)&&"id"in e){var n=E.head(b);if(e.id===n&&b.includes(e.id)&&!("puzzleType"in e)){var t=e,r=[];"puzzles"in e&&"sections"in e&&!u.puzzles.some(function(e){return e.puzzleType===j.EPuzzleType.GROUP})&&(r.push.apply(r,t.puzzles.filter(function(e){return e.puzzleType===j.EPuzzleType.QUESTION})),t.puzzles=[]);var o=t.puzzles[t.puzzles.length-1];t.puzzles.push({id:x.default(),puzzles:r.slice(),validations:[],conditions:[],description:"",title:"",puzzleType:j.EPuzzleType.GROUP,order:(o||{order:-1}).order+1})}}}),s(o({},u))},onAddSection:function(){var e=u.sections[u.sections.length-1];u.sections.push({id:x.default(),puzzles:[{id:x.default(),puzzles:[],validations:[],conditions:[],description:"",title:"",puzzleType:j.EPuzzleType.GROUP,order:0}],title:"",order:(e||{order:-1}).order+1}),s(o({},u))}}),l.jsx(d.Paper,{css:function(e){return{paddingTop:e.spacing(4),paddingBottom:u.puzzles.some(function(e){return e.puzzleType===j.EPuzzleType.GROUP})?e.spacing(0):e.spacing(4)}},id:u.id,onFocus:A.bind(null,u.id),onBlur:h,onMouseDown:function(e){return S(e,u.id)},elevation:N===u.id?16:0},l.jsx(d.Grid,{container:!0,direction:"column"},l.jsx(d.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},l.jsx(d.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430",defaultValue:u.title})),l.jsx(d.Grid,{item:!0,css:function(e){return{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}},l.jsx(d.TextField,{fullWidth:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",defaultValue:u.description})),l.jsx(d.Grid,{item:!0},l.jsx(j.Puzzle,{puzzles:u.puzzles,index:0,components:(n={},n[j.EPuzzleType.GROUP]=function(e){return l.jsx(y.GroupPuzzle,{template:u,isFocused:function(e){return e===N},id:u.id,index:e})},n[j.EPuzzleType.QUESTION]=function(e){return l.jsx(z.QuestionPuzzle,{title:u.title,id:u.id,index:e})},n[j.EPuzzleType.INPUT_ANSWER]=function(e){return l.jsx(m.InputAnswerPuzzle,{id:u.id,index:e})},n),onFocus:A,onMouseDown:function(e){return S(e,u.id)},onBlur:h,isFocused:function(e){return e===N},isInFocusedChain:function(e){return b.includes(e)}})))),u.sections.map(function(e,n){var t;return l.jsx("div",{key:e.id,id:e.id,onFocus:A.bind(null,e.id),onBlur:h,onMouseDown:function(n){return S(n,e.id)}},l.jsx("div",{css:function(e){return{margin:e.spacing(4)}}}),l.jsx(d.Grid,{container:!0,direction:"column",css:function(e){return{marginBottom:e.spacing(2)}}},l.jsx(d.Grid,{item:!0},l.jsx(d.Grid,{container:!0,alignItems:"flex-end"},l.jsx(f.SectionPuzzle,{title:e.title,id:e.id,index:n})))),l.jsx(d.Grid,{container:!0},l.jsx(d.Paper,{css:l.css(c||(c=r(["\n                                    width: 100%;\n                                "],["\n                                    width: 100%;\n                                "]))),elevation:N===e.id?16:0},l.jsx(j.Puzzle,{puzzles:e.puzzles,index:n,components:(t={},t[j.EPuzzleType.GROUP]=function(e,n){return l.jsx(y.GroupPuzzle,{template:u,isFocused:function(e){return e===N},id:n,index:e})},t[j.EPuzzleType.QUESTION]=function(e,n,t){return l.jsx(z.QuestionPuzzle,{title:t,index:e,id:n})},t[j.EPuzzleType.INPUT_ANSWER]=function(e,n){return l.jsx(m.InputAnswerPuzzle,{index:e,id:n})},t),onFocus:A,onMouseDown:function(e,n){return S(e,n)},onBlur:h,isFocused:function(e){return e===N},isInFocusedChain:function(e){return b.includes(e)}}))))}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(20))},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(1),u=t(0);n.SectionPuzzle=function(e){var n=e.title,t=e.index;return u.jsx(o.Grid,{container:!0,alignItems:"flex-end"},u.jsx(o.Grid,{item:!0,css:function(e){return{marginRight:e.spacing(2)}}},u.jsx(o.Typography,{variant:"h5"},"\u0420\u0430\u0437\u0434\u0435\u043b ",t+2,".")),u.jsx(o.Grid,{item:!0,css:u.css(r||(r=i(["\n                    flex-grow: 1;\n                "],["\n                    flex-grow: 1;\n                "])))},u.jsx(o.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430",defaultValue:n})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(22))},function(e,n,t){"use strict";var i=this&&this.__rest||function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),o=t(0),u=t(23);n.GroupPuzzle=function(e){var n=e.id,t=(e.index,i(e,["id","index"]));return o.jsx(r.Grid,{container:!0,direction:"column"},o.jsx(r.Grid,{item:!0,css:function(e){return{marginRight:e.spacing(2)}}},o.jsx(r.Typography,{variant:"h6"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432")),o.jsx(r.Grid,{item:!0,css:function(e){return{marginTop:e.spacing(2)}}},o.jsx(r.Typography,{variant:"subtitle1"},"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430")),o.jsx(r.Grid,{css:function(e){return{flexGrow:1,marginTop:e.spacing(2),opacity:t.isFocused(n)?1:.5}},item:!0},o.jsx(u.Conditions,{puzzleId:n,template:t.template})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(24))},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s,c,l,a=t(0),p=o(t(2)),d=t(2),f=t(1),y=t(5),z=t(6),j=t(7),m=t(3),x=o(t(8)),T=u(t(9));function E(e){var n;return(n={},n[z.EActionType.CHOSEN_ANSWER]="\u0412\u044b\u0431\u0440\u0430\u043d \u043e\u0442\u0432\u0435\u0442",n[z.EActionType.NOT_EQUAL]="\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",n[z.EActionType.MORE_THAN]="\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",n[z.EActionType.LESS_THAN]="\u041c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",n[z.EActionType.EQUAL]="\u0420\u0430\u0432\u043d\u043e",n[z.EActionType.GIVEN_ANSWER]="\u0414\u0430\u043d \u043e\u0442\u0432\u0435\u0442",n)[e]}n.Conditions=function(e){var n=e.puzzleId,t=e.template,o=d.useState([{id:T.default(),order:0,questionPuzzle:"",answerPuzzle:"",value:"",actionType:"",conditionType:""}]),u=o[0],v=o[1],O=d.useState([]),g=O[0],_=O[1],b=d.useState([]),P=b[0],h=b[1];return d.useEffect(function(){g.length=0,P.length=0,j.traverse(t,function(e){if("object"===i(e)&&"puzzles"in e){var t=e;if(t.puzzles.some(function(e){return e.id===n})){var r=t.puzzles.findIndex(function(e){return e.id===n});x.range(0,r).forEach(function(e){j.traverse(t.puzzles[e],function(e){if("object"===i(e)&&"puzzleType"in e){var n=e;n.puzzleType===m.EPuzzleType.QUESTION&&n.title.length>0?g.push(n):[m.EPuzzleType.INPUT_ANSWER,m.EPuzzleType.RADIO_ANSWER,m.EPuzzleType.DROPDOWN_ANSWER].includes(n.puzzleType)&&P.push(n)}})})}}}),_(g.slice()),h(P.slice())},[g,t,u,n]),a.jsx(f.Grid,{container:!0,spacing:2},u.map(function(e,n){var t=x.prop("conditionType"),i=x.prop("actionType"),o=x.path(["questionPuzzle","puzzleType"]);return a.jsx(p.Fragment,{key:e.id},a.jsx(f.Grid,{xs:2,item:!0},a.jsx(f.Grid,{container:!0,alignItems:"center",css:a.css(s||(s=r(["\n                                    height: 100%;\n                                "],["\n                                    height: 100%;\n                                "])))},a.jsx(f.Grid,{item:!0},function(e,n){var t;return 0===e?"\u0415\u0441\u043b\u0438":(t={},t[z.EConditionType.AND]="\u0418",t[z.EConditionType.OR]="\u0418\u043b\u0438",t)[n]}(n,t(e))))),a.jsx(f.Grid,{item:!0,xs:4},a.jsx(f.FormControl,{fullWidth:!0},a.jsx(f.InputLabel,{htmlFor:"question-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"),a.jsx(f.Select,{value:e.questionPuzzle,input:a.jsx(f.Input,{id:"question-puzzle"})},0===g.length&&a.jsx(f.MenuItem,null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"),g.map(function(e){var n=x.prop("id")(e),t=x.prop("title")(e);return a.jsx(f.MenuItem,{key:n,value:n},t)})))),0!==g.length&&a.jsx(p.Fragment,null,a.jsx(f.Grid,{item:!0,xs:3},a.jsx(f.FormControl,{fullWidth:!0},a.jsx(f.InputLabel,{htmlFor:"action-type"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),a.jsx(f.Select,{value:e.actionType,input:a.jsx(f.Input,{id:"action-type"})},function(e){switch(e){case m.EPuzzleType.INPUT_ANSWER:return[a.jsx(f.MenuItem,{key:z.EActionType.EQUAL},E(z.EActionType.EQUAL)),a.jsx(f.MenuItem,{key:z.EActionType.LESS_THAN},E(z.EActionType.LESS_THAN)),a.jsx(f.MenuItem,{key:z.EActionType.MORE_THAN},E(z.EActionType.MORE_THAN)),a.jsx(f.MenuItem,{key:z.EActionType.NOT_EQUAL},E(z.EActionType.NOT_EQUAL))];case m.EPuzzleType.DROPDOWN_ANSWER:case m.EPuzzleType.RADIO_ANSWER:return[a.jsx(f.MenuItem,{key:z.EActionType.CHOSEN_ANSWER},E(z.EActionType.CHOSEN_ANSWER)),a.jsx(f.MenuItem,{key:z.EActionType.GIVEN_ANSWER},E(z.EActionType.GIVEN_ANSWER))];default:return[a.jsx(f.MenuItem,{key:z.EActionType.EQUAL},E(z.EActionType.EQUAL)),a.jsx(f.MenuItem,{key:z.EActionType.LESS_THAN},E(z.EActionType.LESS_THAN)),a.jsx(f.MenuItem,{key:z.EActionType.MORE_THAN},E(z.EActionType.MORE_THAN)),a.jsx(f.MenuItem,{key:z.EActionType.NOT_EQUAL},E(z.EActionType.NOT_EQUAL)),a.jsx(f.MenuItem,{key:z.EActionType.CHOSEN_ANSWER},E(z.EActionType.CHOSEN_ANSWER)),a.jsx(f.MenuItem,{key:z.EActionType.GIVEN_ANSWER},E(z.EActionType.GIVEN_ANSWER))]}}(o(e))))),a.jsx(f.Grid,{item:!0,xs:2},function(e,n,t){switch(e){case z.EActionType.CHOSEN_ANSWER:return a.jsx(f.FormControl,{fullWidth:!0},a.jsx(f.InputLabel,{htmlFor:"answer-puzzle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),a.jsx(f.Select,{value:n.answerPuzzle,input:a.jsx(f.Input,{id:"answer-puzzle"})},t.map(function(e){var n=x.prop("id")(e),t=x.prop("title")(e);return a.jsx(f.MenuItem,{key:n,value:n},t)})));case z.EActionType.EQUAL:case z.EActionType.LESS_THAN:case z.EActionType.MORE_THAN:case z.EActionType.NOT_EQUAL:return a.jsx(f.TextField,{css:function(e){return{marginTop:e.spacing(-2)}},label:"\u041e\u0442\u0432\u0435\u0442"});case z.EActionType.GIVEN_ANSWER:default:return a.jsx(p.Fragment,null)}}(i(e),e,P))),a.jsx(f.Grid,{item:!0,xs:0!==g.length?1:6},a.jsx(f.Grid,{container:!0,justify:"flex-end",alignItems:"center",css:a.css(c||(c=r(["\n                                    height: 100%;\n                                "],["\n                                    height: 100%;\n                                "])))},a.jsx(f.Grid,{item:!0},a.jsx(f.IconButton,{onClick:function(){return n=e.id,void v(u.filter(function(e){return e.id!==n}).slice());var n}},a.jsx(y.Close,null))))))}),a.jsx(f.Grid,{item:!0,xs:2},a.jsx(f.Button,{size:"small",css:a.css(l||(l=r(["\n                        text-transform: none;\n                    "],["\n                        text-transform: none;\n                    "]))),variant:"contained"},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435")))}},function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.traverse=function e(n,t){if(o=n,"[object Array]"===Object.prototype.toString.call(o))t&&t(n),n.forEach(function(n){return e(n,t)});else if(function(e){return"object"===i(e)&&null!==e}(n))for(var r in t&&t(n),n)n.hasOwnProperty(r)&&e(n[r],t);else t&&t(n);var o}},function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}},function(e,n){for(var t=[],i=0;i<256;++i)t[i]=(i+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(29))},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(1),u=t(0);n.QuestionPuzzle=function(e){var n=e.title,t=e.index;return u.jsx(o.Grid,{container:!0,alignItems:"flex-end"},u.jsx(o.Grid,{item:!0,css:function(e){return{marginRight:e.spacing(2)}}},u.jsx(o.Typography,{variant:"body1"},t+1,".")),u.jsx(o.Grid,{item:!0,css:u.css(r||(r=i(["\n                    flex-grow: 1;\n                "],["\n                    flex-grow: 1;\n                "])))},u.jsx(o.TextField,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",defaultValue:n})))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(31))},function(e,n,t){"use strict";var i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=t(1),u=t(0);n.InputAnswerPuzzle=function(){return u.jsx(o.Grid,{container:!0,alignItems:"flex-end"},u.jsx(o.Grid,{item:!0,css:u.css(r||(r=i(["\n                    flex-grow: 1;\n                "],["\n                    flex-grow: 1;\n                "])))},u.jsx(o.TextField,{fullWidth:!0,label:"\u041e\u0442\u0432\u0435\u0442",disabled:!0})))}}]))},271:function(e,n,t){"use strict";t.r(n);var i=t(4),r=t(245),o=t(244),u=t(216),s=t(246),c=t(256),l=t(254),a=t(264),p=t.n(a),d={id:p()(),sections:[{id:p()(),title:"\u0411\u043b\u0430\u0433\u043e\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",description:"",order:1,puzzles:[{id:p()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u041d\u0443\u0436\u043d\u0430 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430?",description:"",order:0,puzzles:[{id:p()(),puzzleType:l.EPuzzleType.INPUT_ANSWER,title:"",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]},{id:p()(),title:"",description:"",order:1,puzzleType:l.EPuzzleType.GROUP,puzzles:[{id:p()(),puzzleType:l.EPuzzleType.QUESTION,title:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0438",description:"",order:0,puzzles:[{id:p()(),puzzleType:l.EPuzzleType.INPUT_ANSWER,title:"",description:"",order:0,puzzles:[],conditions:[],validations:[]}],conditions:[],validations:[]}],conditions:[],validations:[]}]}],puzzles:[],title:"\u0412\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c"},f=function(){return Object(i.jsx)(r.a,null,Object(i.jsx)(o.a,{title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},Object(i.jsx)(u.a,{item:!0},Object(i.jsx)(s.a,{variant:"contained",color:"primary"},Object(i.jsx)(c.a,{css:function(e){return{marginRight:e.spacing()}},alignmentBaseline:"middle"}),Object(i.jsx)("span",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),Object(i.jsx)(u.a,{item:!0,css:function(e){return{maxWidth:e.maxTemplateWidth,margin:e.spacing(4),position:"relative"}}},Object(i.jsx)(l.TemplateEditor,{initialState:d})))};t.d(n,"CreateTemplate",function(){return f})}}]);
//# sourceMappingURL=6.5909b8eb.chunk.js.map